!function o(s,a,u){function c(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[e]={exports:{}};s[e][0].call(r.exports,function(t){return c(s[e][1][t]||t)},r,r.exports,o,s,a,u)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){"use strict";t("core-js/es6"),t("core-js/fn/array/includes"),t("core-js/fn/array/flat-map"),t("core-js/fn/string/pad-start"),t("core-js/fn/string/pad-end"),t("core-js/fn/string/trim-start"),t("core-js/fn/string/trim-end"),t("core-js/fn/symbol/async-iterator"),t("core-js/fn/object/get-own-property-descriptors"),t("core-js/fn/object/values"),t("core-js/fn/object/entries"),t("core-js/fn/promise/finally"),t("core-js/web"),t("regenerator-runtime/runtime")},{"core-js/es6":2,"core-js/fn/array/flat-map":3,"core-js/fn/array/includes":4,"core-js/fn/object/entries":5,"core-js/fn/object/get-own-property-descriptors":6,"core-js/fn/object/values":7,"core-js/fn/promise/finally":8,"core-js/fn/string/pad-end":9,"core-js/fn/string/pad-start":10,"core-js/fn/string/trim-end":11,"core-js/fn/string/trim-start":12,"core-js/fn/symbol/async-iterator":13,"core-js/web":305,"regenerator-runtime/runtime":307}],2:[function(t,e,n){t("../modules/es6.symbol"),t("../modules/es6.object.create"),t("../modules/es6.object.define-property"),t("../modules/es6.object.define-properties"),t("../modules/es6.object.get-own-property-descriptor"),t("../modules/es6.object.get-prototype-of"),t("../modules/es6.object.keys"),t("../modules/es6.object.get-own-property-names"),t("../modules/es6.object.freeze"),t("../modules/es6.object.seal"),t("../modules/es6.object.prevent-extensions"),t("../modules/es6.object.is-frozen"),t("../modules/es6.object.is-sealed"),t("../modules/es6.object.is-extensible"),t("../modules/es6.object.assign"),t("../modules/es6.object.is"),t("../modules/es6.object.set-prototype-of"),t("../modules/es6.object.to-string"),t("../modules/es6.function.bind"),t("../modules/es6.function.name"),t("../modules/es6.function.has-instance"),t("../modules/es6.parse-int"),t("../modules/es6.parse-float"),t("../modules/es6.number.constructor"),t("../modules/es6.number.to-fixed"),t("../modules/es6.number.to-precision"),t("../modules/es6.number.epsilon"),t("../modules/es6.number.is-finite"),t("../modules/es6.number.is-integer"),t("../modules/es6.number.is-nan"),t("../modules/es6.number.is-safe-integer"),t("../modules/es6.number.max-safe-integer"),t("../modules/es6.number.min-safe-integer"),t("../modules/es6.number.parse-float"),t("../modules/es6.number.parse-int"),t("../modules/es6.math.acosh"),t("../modules/es6.math.asinh"),t("../modules/es6.math.atanh"),t("../modules/es6.math.cbrt"),t("../modules/es6.math.clz32"),t("../modules/es6.math.cosh"),t("../modules/es6.math.expm1"),t("../modules/es6.math.fround"),t("../modules/es6.math.hypot"),t("../modules/es6.math.imul"),t("../modules/es6.math.log10"),t("../modules/es6.math.log1p"),t("../modules/es6.math.log2"),t("../modules/es6.math.sign"),t("../modules/es6.math.sinh"),t("../modules/es6.math.tanh"),t("../modules/es6.math.trunc"),t("../modules/es6.string.from-code-point"),t("../modules/es6.string.raw"),t("../modules/es6.string.trim"),t("../modules/es6.string.iterator"),t("../modules/es6.string.code-point-at"),t("../modules/es6.string.ends-with"),t("../modules/es6.string.includes"),t("../modules/es6.string.repeat"),t("../modules/es6.string.starts-with"),t("../modules/es6.string.anchor"),t("../modules/es6.string.big"),t("../modules/es6.string.blink"),t("../modules/es6.string.bold"),t("../modules/es6.string.fixed"),t("../modules/es6.string.fontcolor"),t("../modules/es6.string.fontsize"),t("../modules/es6.string.italics"),t("../modules/es6.string.link"),t("../modules/es6.string.small"),t("../modules/es6.string.strike"),t("../modules/es6.string.sub"),t("../modules/es6.string.sup"),t("../modules/es6.date.now"),t("../modules/es6.date.to-json"),t("../modules/es6.date.to-iso-string"),t("../modules/es6.date.to-string"),t("../modules/es6.date.to-primitive"),t("../modules/es6.array.is-array"),t("../modules/es6.array.from"),t("../modules/es6.array.of"),t("../modules/es6.array.join"),t("../modules/es6.array.slice"),t("../modules/es6.array.sort"),t("../modules/es6.array.for-each"),t("../modules/es6.array.map"),t("../modules/es6.array.filter"),t("../modules/es6.array.some"),t("../modules/es6.array.every"),t("../modules/es6.array.reduce"),t("../modules/es6.array.reduce-right"),t("../modules/es6.array.index-of"),t("../modules/es6.array.last-index-of"),t("../modules/es6.array.copy-within"),t("../modules/es6.array.fill"),t("../modules/es6.array.find"),t("../modules/es6.array.find-index"),t("../modules/es6.array.species"),t("../modules/es6.array.iterator"),t("../modules/es6.regexp.constructor"),t("../modules/es6.regexp.exec"),t("../modules/es6.regexp.to-string"),t("../modules/es6.regexp.flags"),t("../modules/es6.regexp.match"),t("../modules/es6.regexp.replace"),t("../modules/es6.regexp.search"),t("../modules/es6.regexp.split"),t("../modules/es6.promise"),t("../modules/es6.map"),t("../modules/es6.set"),t("../modules/es6.weak-map"),t("../modules/es6.weak-set"),t("../modules/es6.typed.array-buffer"),t("../modules/es6.typed.data-view"),t("../modules/es6.typed.int8-array"),t("../modules/es6.typed.uint8-array"),t("../modules/es6.typed.uint8-clamped-array"),t("../modules/es6.typed.int16-array"),t("../modules/es6.typed.uint16-array"),t("../modules/es6.typed.int32-array"),t("../modules/es6.typed.uint32-array"),t("../modules/es6.typed.float32-array"),t("../modules/es6.typed.float64-array"),t("../modules/es6.reflect.apply"),t("../modules/es6.reflect.construct"),t("../modules/es6.reflect.define-property"),t("../modules/es6.reflect.delete-property"),t("../modules/es6.reflect.enumerate"),t("../modules/es6.reflect.get"),t("../modules/es6.reflect.get-own-property-descriptor"),t("../modules/es6.reflect.get-prototype-of"),t("../modules/es6.reflect.has"),t("../modules/es6.reflect.is-extensible"),t("../modules/es6.reflect.own-keys"),t("../modules/es6.reflect.prevent-extensions"),t("../modules/es6.reflect.set"),t("../modules/es6.reflect.set-prototype-of"),e.exports=t("../modules/_core")},{"../modules/_core":51,"../modules/es6.array.copy-within":153,"../modules/es6.array.every":154,"../modules/es6.array.fill":155,"../modules/es6.array.filter":156,"../modules/es6.array.find":158,"../modules/es6.array.find-index":157,"../modules/es6.array.for-each":159,"../modules/es6.array.from":160,"../modules/es6.array.index-of":161,"../modules/es6.array.is-array":162,"../modules/es6.array.iterator":163,"../modules/es6.array.join":164,"../modules/es6.array.last-index-of":165,"../modules/es6.array.map":166,"../modules/es6.array.of":167,"../modules/es6.array.reduce":169,"../modules/es6.array.reduce-right":168,"../modules/es6.array.slice":170,"../modules/es6.array.some":171,"../modules/es6.array.sort":172,"../modules/es6.array.species":173,"../modules/es6.date.now":174,"../modules/es6.date.to-iso-string":175,"../modules/es6.date.to-json":176,"../modules/es6.date.to-primitive":177,"../modules/es6.date.to-string":178,"../modules/es6.function.bind":179,"../modules/es6.function.has-instance":180,"../modules/es6.function.name":181,"../modules/es6.map":182,"../modules/es6.math.acosh":183,"../modules/es6.math.asinh":184,"../modules/es6.math.atanh":185,"../modules/es6.math.cbrt":186,"../modules/es6.math.clz32":187,"../modules/es6.math.cosh":188,"../modules/es6.math.expm1":189,"../modules/es6.math.fround":190,"../modules/es6.math.hypot":191,"../modules/es6.math.imul":192,"../modules/es6.math.log10":193,"../modules/es6.math.log1p":194,"../modules/es6.math.log2":195,"../modules/es6.math.sign":196,"../modules/es6.math.sinh":197,"../modules/es6.math.tanh":198,"../modules/es6.math.trunc":199,"../modules/es6.number.constructor":200,"../modules/es6.number.epsilon":201,"../modules/es6.number.is-finite":202,"../modules/es6.number.is-integer":203,"../modules/es6.number.is-nan":204,"../modules/es6.number.is-safe-integer":205,"../modules/es6.number.max-safe-integer":206,"../modules/es6.number.min-safe-integer":207,"../modules/es6.number.parse-float":208,"../modules/es6.number.parse-int":209,"../modules/es6.number.to-fixed":210,"../modules/es6.number.to-precision":211,"../modules/es6.object.assign":212,"../modules/es6.object.create":213,"../modules/es6.object.define-properties":214,"../modules/es6.object.define-property":215,"../modules/es6.object.freeze":216,"../modules/es6.object.get-own-property-descriptor":217,"../modules/es6.object.get-own-property-names":218,"../modules/es6.object.get-prototype-of":219,"../modules/es6.object.is":223,"../modules/es6.object.is-extensible":220,"../modules/es6.object.is-frozen":221,"../modules/es6.object.is-sealed":222,"../modules/es6.object.keys":224,"../modules/es6.object.prevent-extensions":225,"../modules/es6.object.seal":226,"../modules/es6.object.set-prototype-of":227,"../modules/es6.object.to-string":228,"../modules/es6.parse-float":229,"../modules/es6.parse-int":230,"../modules/es6.promise":231,"../modules/es6.reflect.apply":232,"../modules/es6.reflect.construct":233,"../modules/es6.reflect.define-property":234,"../modules/es6.reflect.delete-property":235,"../modules/es6.reflect.enumerate":236,"../modules/es6.reflect.get":239,"../modules/es6.reflect.get-own-property-descriptor":237,"../modules/es6.reflect.get-prototype-of":238,"../modules/es6.reflect.has":240,"../modules/es6.reflect.is-extensible":241,"../modules/es6.reflect.own-keys":242,"../modules/es6.reflect.prevent-extensions":243,"../modules/es6.reflect.set":245,"../modules/es6.reflect.set-prototype-of":244,"../modules/es6.regexp.constructor":246,"../modules/es6.regexp.exec":247,"../modules/es6.regexp.flags":248,"../modules/es6.regexp.match":249,"../modules/es6.regexp.replace":250,"../modules/es6.regexp.search":251,"../modules/es6.regexp.split":252,"../modules/es6.regexp.to-string":253,"../modules/es6.set":254,"../modules/es6.string.anchor":255,"../modules/es6.string.big":256,"../modules/es6.string.blink":257,"../modules/es6.string.bold":258,"../modules/es6.string.code-point-at":259,"../modules/es6.string.ends-with":260,"../modules/es6.string.fixed":261,"../modules/es6.string.fontcolor":262,"../modules/es6.string.fontsize":263,"../modules/es6.string.from-code-point":264,"../modules/es6.string.includes":265,"../modules/es6.string.italics":266,"../modules/es6.string.iterator":267,"../modules/es6.string.link":268,"../modules/es6.string.raw":269,"../modules/es6.string.repeat":270,"../modules/es6.string.small":271,"../modules/es6.string.starts-with":272,"../modules/es6.string.strike":273,"../modules/es6.string.sub":274,"../modules/es6.string.sup":275,"../modules/es6.string.trim":276,"../modules/es6.symbol":277,"../modules/es6.typed.array-buffer":278,"../modules/es6.typed.data-view":279,"../modules/es6.typed.float32-array":280,"../modules/es6.typed.float64-array":281,"../modules/es6.typed.int16-array":282,"../modules/es6.typed.int32-array":283,"../modules/es6.typed.int8-array":284,"../modules/es6.typed.uint16-array":285,"../modules/es6.typed.uint32-array":286,"../modules/es6.typed.uint8-array":287,"../modules/es6.typed.uint8-clamped-array":288,"../modules/es6.weak-map":289,"../modules/es6.weak-set":290}],3:[function(t,e,n){t("../../modules/es7.array.flat-map"),e.exports=t("../../modules/_core").Array.flatMap},{"../../modules/_core":51,"../../modules/es7.array.flat-map":291}],4:[function(t,e,n){t("../../modules/es7.array.includes"),e.exports=t("../../modules/_core").Array.includes},{"../../modules/_core":51,"../../modules/es7.array.includes":292}],5:[function(t,e,n){t("../../modules/es7.object.entries"),e.exports=t("../../modules/_core").Object.entries},{"../../modules/_core":51,"../../modules/es7.object.entries":293}],6:[function(t,e,n){t("../../modules/es7.object.get-own-property-descriptors"),e.exports=t("../../modules/_core").Object.getOwnPropertyDescriptors},{"../../modules/_core":51,"../../modules/es7.object.get-own-property-descriptors":294}],7:[function(t,e,n){t("../../modules/es7.object.values"),e.exports=t("../../modules/_core").Object.values},{"../../modules/_core":51,"../../modules/es7.object.values":295}],8:[function(t,e,n){"use strict";t("../../modules/es6.promise"),t("../../modules/es7.promise.finally"),e.exports=t("../../modules/_core").Promise.finally},{"../../modules/_core":51,"../../modules/es6.promise":231,"../../modules/es7.promise.finally":296}],9:[function(t,e,n){t("../../modules/es7.string.pad-end"),e.exports=t("../../modules/_core").String.padEnd},{"../../modules/_core":51,"../../modules/es7.string.pad-end":297}],10:[function(t,e,n){t("../../modules/es7.string.pad-start"),e.exports=t("../../modules/_core").String.padStart},{"../../modules/_core":51,"../../modules/es7.string.pad-start":298}],11:[function(t,e,n){t("../../modules/es7.string.trim-right"),e.exports=t("../../modules/_core").String.trimRight},{"../../modules/_core":51,"../../modules/es7.string.trim-right":300}],12:[function(t,e,n){t("../../modules/es7.string.trim-left"),e.exports=t("../../modules/_core").String.trimLeft},{"../../modules/_core":51,"../../modules/es7.string.trim-left":299}],13:[function(t,e,n){t("../../modules/es7.symbol.async-iterator"),e.exports=t("../../modules/_wks-ext").f("asyncIterator")},{"../../modules/_wks-ext":150,"../../modules/es7.symbol.async-iterator":301}],14:[function(t,e,n){t("../modules/es7.global"),e.exports=t("../modules/_core").global},{"../modules/_core":17,"../modules/es7.global":31}],15:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],16:[function(t,e,n){var i=t("./_is-object");e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":27}],17:[function(t,e,n){var i=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},{}],18:[function(t,e,n){var o=t("./_a-function");e.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},{"./_a-function":15}],19:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":22}],20:[function(t,e,n){var i=t("./_is-object"),r=t("./_global").document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{"./_global":23,"./_is-object":27}],21:[function(t,e,n){var y=t("./_global"),_=t("./_core"),m=t("./_ctx"),g=t("./_hide"),v=t("./_has"),b="prototype",x=function(t,e,n){var i,r,o,s=t&x.F,a=t&x.G,u=t&x.S,c=t&x.P,l=t&x.B,h=t&x.W,f=a?_:_[e]||(_[e]={}),p=f[b],d=a?y:u?y[e]:(y[e]||{})[b];for(i in a&&(n=e),n)(r=!s&&d&&void 0!==d[i])&&v(f,i)||(o=r?d[i]:n[i],f[i]=a&&"function"!=typeof d[i]?n[i]:l&&r?m(o,y):h&&d[i]==o?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t[b]=i[b],t}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[i]=o,t&x.R&&p&&!p[i]&&g(p,i,o)))};x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128,e.exports=x},{"./_core":17,"./_ctx":18,"./_global":23,"./_has":24,"./_hide":25}],22:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],23:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],24:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],25:[function(t,e,n){var i=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":19,"./_object-dp":28,"./_property-desc":29}],26:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":19,"./_dom-create":20,"./_fails":22}],27:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],28:[function(t,e,n){var i=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":16,"./_descriptors":19,"./_ie8-dom-define":26,"./_to-primitive":30}],29:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],30:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":27}],31:[function(t,e,n){var i=t("./_export");i(i.G,{global:t("./_global")})},{"./_export":21,"./_global":23}],32:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],33:[function(t,e,n){var i=t("./_cof");e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{"./_cof":47}],34:[function(t,e,n){var i=t("./_wks")("unscopables"),r=Array.prototype;null==r[i]&&t("./_hide")(r,i,{}),e.exports=function(t){r[i][t]=!0}},{"./_hide":71,"./_wks":151}],35:[function(t,e,n){"use strict";var i=t("./_string-at")(!0);e.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},{"./_string-at":128}],36:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],37:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./_is-object":80,dup:16}],38:[function(t,e,n){"use strict";var l=t("./_to-object"),h=t("./_to-absolute-index"),f=t("./_to-length");e.exports=[].copyWithin||function(t,e,n){var i=l(this),r=f(i.length),o=h(t,r),s=h(e,r),a=2<arguments.length?n:void 0,u=Math.min((void 0===a?r:h(a,r))-s,r-o),c=1;for(s<o&&o<s+u&&(c=-1,s+=u-1,o+=u-1);0<u--;)s in i?i[o]=i[s]:delete i[o],o+=c,s+=c;return i}},{"./_to-absolute-index":136,"./_to-length":140,"./_to-object":141}],39:[function(t,e,n){"use strict";var c=t("./_to-object"),l=t("./_to-absolute-index"),h=t("./_to-length");e.exports=function(t,e,n){for(var i=c(this),r=h(i.length),o=arguments.length,s=l(1<o?e:void 0,r),a=2<o?n:void 0,u=void 0===a?r:l(a,r);s<u;)i[s++]=t;return i}},{"./_to-absolute-index":136,"./_to-length":140,"./_to-object":141}],40:[function(t,e,n){var u=t("./_to-iobject"),c=t("./_to-length"),l=t("./_to-absolute-index");e.exports=function(a){return function(t,e,n){var i,r=u(t),o=c(r.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}},{"./_to-absolute-index":136,"./_to-iobject":139,"./_to-length":140}],41:[function(t,e,n){var v=t("./_ctx"),b=t("./_iobject"),x=t("./_to-object"),w=t("./_to-length"),i=t("./_array-species-create");e.exports=function(h,t){var f=1==h,p=2==h,d=3==h,y=4==h,_=6==h,m=5==h||_,g=t||i;return function(t,e,n){for(var i,r,o=x(t),s=b(o),a=v(e,n,3),u=w(s.length),c=0,l=f?g(t,u):p?g(t,0):void 0;c<u;c++)if((m||c in s)&&(r=a(i=s[c],c,o),h))if(f)l[c]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return c;case 2:l.push(i)}else if(y)return!1;return _?-1:d||y?y:l}}},{"./_array-species-create":44,"./_ctx":53,"./_iobject":76,"./_to-length":140,"./_to-object":141}],42:[function(t,e,n){var l=t("./_a-function"),h=t("./_to-object"),f=t("./_iobject"),p=t("./_to-length");e.exports=function(t,e,n,i,r){l(e);var o=h(t),s=f(o),a=p(o.length),u=r?a-1:0,c=r?-1:1;if(n<2)for(;;){if(u in s){i=s[u],u+=c;break}if(u+=c,r?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=u:u<a;u+=c)u in s&&(i=e(i,s[u],u,o));return i}},{"./_a-function":32,"./_iobject":76,"./_to-length":140,"./_to-object":141}],43:[function(t,e,n){var i=t("./_is-object"),r=t("./_is-array"),o=t("./_wks")("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":78,"./_is-object":80,"./_wks":151}],44:[function(t,e,n){var i=t("./_array-species-constructor");e.exports=function(t,e){return new(i(t))(e)}},{"./_array-species-constructor":43}],45:[function(t,e,n){"use strict";var o=t("./_a-function"),s=t("./_is-object"),a=t("./_invoke"),u=[].slice,c={};e.exports=Function.bind||function(e){var n=o(this),i=u.call(arguments,1),r=function(){var t=i.concat(u.call(arguments));return this instanceof r?function(t,e,n){if(!(e in c)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";c[e]=Function("F,a","return new F("+i.join(",")+")")}return c[e](t,n)}(n,t.length,t):a(n,t,e)};return s(n.prototype)&&(r.prototype=n.prototype),r}},{"./_a-function":32,"./_invoke":75,"./_is-object":80}],46:[function(t,e,n){var r=t("./_cof"),o=t("./_wks")("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},{"./_cof":47,"./_wks":151}],47:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],48:[function(t,e,n){"use strict";function s(t,e){var n,i=d(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var a=t("./_object-dp").f,u=t("./_object-create"),c=t("./_redefine-all"),l=t("./_ctx"),h=t("./_an-instance"),f=t("./_for-of"),i=t("./_iter-define"),r=t("./_iter-step"),o=t("./_set-species"),p=t("./_descriptors"),d=t("./_meta").fastKey,y=t("./_validate-collection"),_=p?"_s":"size";e.exports={getConstructor:function(t,o,n,i){var r=t(function(t,e){h(t,r,o,"_i"),t._t=o,t._i=u(null),t._f=void 0,t._l=void 0,t[_]=0,null!=e&&f(e,n,t[i],t)});return c(r.prototype,{clear:function(){for(var t=y(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var e=y(this,o),n=s(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[_]--}return!!n},forEach:function(t,e){y(this,o);for(var n,i=l(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!s(y(this,o),t)}}),p&&a(r.prototype,"size",{get:function(){return y(this,o)[_]}}),r},def:function(t,e,n){var i,r,o=s(t,e);return o?o.v=n:(t._l=o={i:r=d(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[_]++,"F"!==r&&(t._i[r]=o)),t},getEntry:s,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=y(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?r(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,r(1))},e?"entries":"values",!e,!0),o(n)}}},{"./_an-instance":36,"./_ctx":53,"./_descriptors":57,"./_for-of":67,"./_iter-define":84,"./_iter-step":86,"./_meta":93,"./_object-create":97,"./_object-dp":98,"./_redefine-all":116,"./_set-species":122,"./_validate-collection":148}],49:[function(t,e,n){"use strict";function s(t){return t._l||(t._l=new m)}function i(t,e){return d(t.a,function(t){return t[0]===e})}var a=t("./_redefine-all"),u=t("./_meta").getWeak,r=t("./_an-object"),c=t("./_is-object"),l=t("./_an-instance"),h=t("./_for-of"),o=t("./_array-methods"),f=t("./_has"),p=t("./_validate-collection"),d=o(5),y=o(6),_=0,m=function(){this.a=[]};m.prototype={get:function(t){var e=i(this,t);if(e)return e[1]},has:function(t){return!!i(this,t)},set:function(t,e){var n=i(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=y(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(t,n,i,r){var o=t(function(t,e){l(t,o,n,"_i"),t._t=n,t._i=_++,t._l=void 0,null!=e&&h(e,i,t[r],t)});return a(o.prototype,{delete:function(t){if(!c(t))return!1;var e=u(t);return!0===e?s(p(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!c(t))return!1;var e=u(t);return!0===e?s(p(this,n)).has(t):e&&f(e,this._i)}}),o},def:function(t,e,n){var i=u(r(e),!0);return!0===i?s(t).set(e,n):i[t._i]=n,t},ufstore:s}},{"./_an-instance":36,"./_an-object":37,"./_array-methods":41,"./_for-of":67,"./_has":70,"./_is-object":80,"./_meta":93,"./_redefine-all":116,"./_validate-collection":148}],50:[function(t,e,n){"use strict";var m=t("./_global"),g=t("./_export"),v=t("./_redefine"),b=t("./_redefine-all"),x=t("./_meta"),w=t("./_for-of"),$=t("./_an-instance"),j=t("./_is-object"),S=t("./_fails"),k=t("./_iter-detect"),P=t("./_set-to-string-tag"),O=t("./_inherit-if-required");e.exports=function(i,t,e,n,r,o){function s(t){var n=l[t];v(l,t,"delete"==t?function(t){return!(o&&!j(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!j(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!j(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var a=m[i],u=a,c=r?"set":"add",l=u&&u.prototype,h={};if("function"==typeof u&&(o||l.forEach&&!S(function(){(new u).entries().next()}))){var f=new u,p=f[c](o?{}:-0,1)!=f,d=S(function(){f.has(1)}),y=k(function(t){new u(t)}),_=!o&&S(function(){for(var t=new u,e=5;e--;)t[c](e,e);return!t.has(-0)});y||(((u=t(function(t,e){$(t,u,i);var n=O(new a,t,u);return null!=e&&w(e,r,n[c],n),n})).prototype=l).constructor=u),(d||_)&&(s("delete"),s("has"),r&&s("get")),(_||p)&&s(c),o&&l.clear&&delete l.clear}else u=n.getConstructor(t,i,r,c),b(u.prototype,e),x.NEED=!0;return P(u,i),h[i]=u,g(g.G+g.W+g.F*(u!=a),h),o||n.setStrong(u,i,r),u}},{"./_an-instance":36,"./_export":61,"./_fails":63,"./_for-of":67,"./_global":69,"./_inherit-if-required":74,"./_is-object":80,"./_iter-detect":85,"./_meta":93,"./_redefine":117,"./_redefine-all":116,"./_set-to-string-tag":123}],51:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],52:[function(t,e,n){"use strict";var i=t("./_object-dp"),r=t("./_property-desc");e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{"./_object-dp":98,"./_property-desc":115}],53:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{"./_a-function":32,dup:18}],54:[function(t,e,n){"use strict";function r(t){return 9<t?t:"0"+t}var i=t("./_fails"),o=Date.prototype.getTime,s=Date.prototype.toISOString;e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!i(function(){s.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":9999<e?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+(99<n?n:"0"+r(n))+"Z"}:s},{"./_fails":63}],55:[function(t,e,n){"use strict";var i=t("./_an-object"),r=t("./_to-primitive");e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{"./_an-object":37,"./_to-primitive":142}],56:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],57:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./_fails":63,dup:19}],58:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{"./_global":69,"./_is-object":80,dup:20}],59:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],60:[function(t,e,n){var a=t("./_object-keys"),u=t("./_object-gops"),c=t("./_object-pie");e.exports=function(t){var e=a(t),n=u.f;if(n)for(var i,r=n(t),o=c.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}},{"./_object-gops":103,"./_object-keys":106,"./_object-pie":107}],61:[function(t,e,n){var y=t("./_global"),_=t("./_core"),m=t("./_hide"),g=t("./_redefine"),v=t("./_ctx"),b="prototype",x=function(t,e,n){var i,r,o,s,a=t&x.F,u=t&x.G,c=t&x.S,l=t&x.P,h=t&x.B,f=u?y:c?y[e]||(y[e]={}):(y[e]||{})[b],p=u?_:_[e]||(_[e]={}),d=p[b]||(p[b]={});for(i in u&&(n=e),n)o=((r=!a&&f&&void 0!==f[i])?f:n)[i],s=h&&r?v(o,y):l&&"function"==typeof o?v(Function.call,o):o,f&&g(f,i,o,t&x.U),p[i]!=o&&m(p,i,s),l&&d[i]!=o&&(d[i]=o)};y.core=_,x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128,e.exports=x},{"./_core":51,"./_ctx":53,"./_global":69,"./_hide":71,"./_redefine":117}],62:[function(t,e,n){var i=t("./_wks")("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(t){}}return!0}},{"./_wks":151}],63:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],64:[function(t,e,n){"use strict";t("./es6.regexp.exec");var l=t("./_redefine"),h=t("./_hide"),f=t("./_fails"),p=t("./_defined"),d=t("./_wks"),y=t("./_regexp-exec"),_=d("species"),m=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),g=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(n,t,e){var i=d(n),o=!f(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),r=o?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[_]=function(){return e}),e[i](""),!t}):void 0;if(!o||!r||"replace"===n&&!m||"split"===n&&!g){var s=/./[i],a=e(p,i,""[n],function(t,e,n,i,r){return e.exec===y?o&&!r?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=a[0],c=a[1];l(String.prototype,n,u),h(RegExp.prototype,i,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}}},{"./_defined":56,"./_fails":63,"./_hide":71,"./_redefine":117,"./_regexp-exec":119,"./_wks":151,"./es6.regexp.exec":247}],65:[function(t,e,n){"use strict";var i=t("./_an-object");e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":37}],66:[function(t,e,n){"use strict";var d=t("./_is-array"),y=t("./_is-object"),_=t("./_to-length"),m=t("./_ctx"),g=t("./_wks")("isConcatSpreadable");e.exports=function t(e,n,i,r,o,s,a,u){for(var c,l,h=o,f=0,p=!!a&&m(a,u,3);f<r;){if(f in i){if(c=p?p(i[f],f,n):i[f],l=!1,y(c)&&(l=void 0!==(l=c[g])?!!l:d(c)),l&&0<s)h=t(e,n,c,_(c.length),h,s-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=c}h++}f++}return h}},{"./_ctx":53,"./_is-array":78,"./_is-object":80,"./_to-length":140,"./_wks":151}],67:[function(t,e,n){var f=t("./_ctx"),p=t("./_iter-call"),d=t("./_is-array-iter"),y=t("./_an-object"),_=t("./_to-length"),m=t("./core.get-iterator-method"),g={},v={};(n=e.exports=function(t,e,n,i,r){var o,s,a,u,c=r?function(){return t}:m(t),l=f(n,i,e?2:1),h=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(d(c)){for(o=_(t.length);h<o;h++)if((u=e?l(y(s=t[h])[0],s[1]):l(t[h]))===g||u===v)return u}else for(a=c.call(t);!(s=a.next()).done;)if((u=p(a,l,s.value,e))===g||u===v)return u}).BREAK=g,n.RETURN=v},{"./_an-object":37,"./_ctx":53,"./_is-array-iter":77,"./_iter-call":82,"./_to-length":140,"./core.get-iterator-method":152}],68:[function(t,e,n){e.exports=t("./_shared")("native-function-to-string",Function.toString)},{"./_shared":125}],69:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],70:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],71:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"./_descriptors":57,"./_object-dp":98,"./_property-desc":115,dup:25}],72:[function(t,e,n){var i=t("./_global").document;e.exports=i&&i.documentElement},{"./_global":69}],73:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"./_descriptors":57,"./_dom-create":58,"./_fails":63,dup:26}],74:[function(t,e,n){var o=t("./_is-object"),s=t("./_set-proto").set;e.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&o(i)&&s&&s(t,i),t}},{"./_is-object":80,"./_set-proto":121}],75:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],76:[function(t,e,n){var i=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{"./_cof":47}],77:[function(t,e,n){var i=t("./_iterators"),r=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{"./_iterators":87,"./_wks":151}],78:[function(t,e,n){var i=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==i(t)}},{"./_cof":47}],79:[function(t,e,n){var i=t("./_is-object"),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{"./_is-object":80}],80:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],81:[function(t,e,n){var i=t("./_is-object"),r=t("./_cof"),o=t("./_wks")("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{"./_cof":47,"./_is-object":80,"./_wks":151}],82:[function(t,e,n){var o=t("./_an-object");e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},{"./_an-object":37}],83:[function(t,e,n){"use strict";var i=t("./_object-create"),r=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},{"./_hide":71,"./_object-create":97,"./_property-desc":115,"./_set-to-string-tag":123,"./_wks":151}],84:[function(t,e,n){"use strict";function v(){return this}var b=t("./_library"),x=t("./_export"),w=t("./_redefine"),$=t("./_hide"),j=t("./_iterators"),S=t("./_iter-create"),k=t("./_set-to-string-tag"),P=t("./_object-gpo"),O=t("./_wks")("iterator"),R=!([].keys&&"next"in[].keys()),T="values";e.exports=function(t,e,n,i,r,o,s){S(n,e,i);function a(t){if(!R&&t in d)return d[t];switch(t){case"keys":case T:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var u,c,l,h=e+" Iterator",f=r==T,p=!1,d=t.prototype,y=d[O]||d["@@iterator"]||r&&d[r],_=y||a(r),m=r?f?a("entries"):_:void 0,g="Array"==e&&d.entries||y;if(g&&(l=P(g.call(new t)))!==Object.prototype&&l.next&&(k(l,h,!0),b||"function"==typeof l[O]||$(l,O,v)),f&&y&&y.name!==T&&(p=!0,_=function(){return y.call(this)}),b&&!s||!R&&!p&&d[O]||$(d,O,_),j[e]=_,j[h]=v,r)if(u={values:f?_:a(T),keys:o?_:a("keys"),entries:m},s)for(c in u)c in d||w(d,c,u[c]);else x(x.P+x.F*(R||p),e,u);return u}},{"./_export":61,"./_hide":71,"./_iter-create":83,"./_iterators":87,"./_library":88,"./_object-gpo":104,"./_redefine":117,"./_set-to-string-tag":123,"./_wks":151}],85:[function(t,e,n){var o=t("./_wks")("iterator"),s=!1;try{var i=[7][o]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},t(i)}catch(t){}return n}},{"./_wks":151}],86:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],87:[function(t,e,n){e.exports={}},{}],88:[function(t,e,n){e.exports=!1},{}],89:[function(t,e,n){var i=Math.expm1;e.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],90:[function(t,e,n){var o=t("./_math-sign"),i=Math.pow,s=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),c=i(2,-126);e.exports=Math.fround||function(t){var e,n,i=Math.abs(t),r=o(t);return i<c?r*(i/c/a+1/s-1/s)*c*a:u<(n=(e=(1+a/s)*i)-(e-i))||n!=n?r*(1/0):r*n}},{"./_math-sign":92}],91:[function(t,e,n){e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],92:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],93:[function(t,e,n){function i(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})}var r=t("./_uid")("meta"),o=t("./_is-object"),s=t("./_has"),a=t("./_object-dp").f,u=0,c=Object.isExtensible||function(){return!0},l=!t("./_fails")(function(){return c(Object.preventExtensions({}))}),h=e.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!c(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!c(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&c(t)&&!s(t,r)&&i(t),t}}},{"./_fails":63,"./_has":70,"./_is-object":80,"./_object-dp":98,"./_uid":146}],94:[function(t,e,n){var a=t("./_global"),u=t("./_task").set,c=a.MutationObserver||a.WebKitMutationObserver,l=a.process,h=a.Promise,f="process"==t("./_cof")(l);e.exports=function(){function t(){var t,e;for(f&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,r;if(f)r=function(){l.nextTick(t)};else if(!c||a.navigator&&a.navigator.standalone)if(h&&h.resolve){var e=h.resolve(void 0);r=function(){e.then(t)}}else r=function(){u.call(a,t)};else{var o=!0,s=document.createTextNode("");new c(t).observe(s,{characterData:!0}),r=function(){s.data=o=!o}}return function(t){var e={fn:t,next:void 0};i&&(i.next=e),n||(n=e,r()),i=e}}},{"./_cof":47,"./_global":69,"./_task":135}],95:[function(t,e,n){"use strict";var r=t("./_a-function");function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}e.exports.f=function(t){return new i(t)}},{"./_a-function":32}],96:[function(t,e,n){"use strict";var f=t("./_descriptors"),p=t("./_object-keys"),d=t("./_object-gops"),y=t("./_object-pie"),_=t("./_to-object"),m=t("./_iobject"),r=Object.assign;e.exports=!r||t("./_fails")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=_(t),i=arguments.length,r=1,o=d.f,s=y.f;r<i;)for(var a,u=m(arguments[r++]),c=o?p(u).concat(o(u)):p(u),l=c.length,h=0;h<l;)a=c[h++],f&&!s.call(u,a)||(n[a]=u[a]);return n}:r},{"./_descriptors":57,"./_fails":63,"./_iobject":76,"./_object-gops":103,"./_object-keys":106,"./_object-pie":107,"./_to-object":141}],97:[function(i,t,e){function r(){}var o=i("./_an-object"),s=i("./_object-dps"),a=i("./_enum-bug-keys"),u=i("./_shared-key")("IE_PROTO"),c="prototype",l=function(){var t,e=i("./_dom-create")("iframe"),n=a.length;for(e.style.display="none",i("./_html").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[c][a[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(r[c]=o(t),n=new r,r[c]=null,n[u]=t):n=l(),void 0===e?n:s(n,e)}},{"./_an-object":37,"./_dom-create":58,"./_enum-bug-keys":59,"./_html":72,"./_object-dps":99,"./_shared-key":124}],98:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./_an-object":37,"./_descriptors":57,"./_ie8-dom-define":73,"./_to-primitive":142,dup:28}],99:[function(t,e,n){var s=t("./_object-dp"),a=t("./_an-object"),u=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){a(t);for(var n,i=u(e),r=i.length,o=0;o<r;)s.f(t,n=i[o++],e[n]);return t}},{"./_an-object":37,"./_descriptors":57,"./_object-dp":98,"./_object-keys":106}],100:[function(t,e,n){var i=t("./_object-pie"),r=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),u=t("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},{"./_descriptors":57,"./_has":70,"./_ie8-dom-define":73,"./_object-pie":107,"./_property-desc":115,"./_to-iobject":139,"./_to-primitive":142}],101:[function(t,e,n){var i=t("./_to-iobject"),r=t("./_object-gopn").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},{"./_object-gopn":102,"./_to-iobject":139}],102:[function(t,e,n){var i=t("./_object-keys-internal"),r=t("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{"./_enum-bug-keys":59,"./_object-keys-internal":105}],103:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],104:[function(t,e,n){var i=t("./_has"),r=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":70,"./_shared-key":124,"./_to-object":141}],105:[function(t,e,n){var s=t("./_has"),a=t("./_to-iobject"),u=t("./_array-includes")(!1),c=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,i=a(t),r=0,o=[];for(n in i)n!=c&&s(i,n)&&o.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~u(o,n)||o.push(n));return o}},{"./_array-includes":40,"./_has":70,"./_shared-key":124,"./_to-iobject":139}],106:[function(t,e,n){var i=t("./_object-keys-internal"),r=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return i(t,r)}},{"./_enum-bug-keys":59,"./_object-keys-internal":105}],107:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],108:[function(t,e,n){var r=t("./_export"),o=t("./_core"),s=t("./_fails");e.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},{"./_core":51,"./_export":61,"./_fails":63}],109:[function(t,e,n){var u=t("./_descriptors"),c=t("./_object-keys"),l=t("./_to-iobject"),h=t("./_object-pie").f;e.exports=function(a){return function(t){for(var e,n=l(t),i=c(n),r=i.length,o=0,s=[];o<r;)e=i[o++],u&&!h.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}}},{"./_descriptors":57,"./_object-keys":106,"./_object-pie":107,"./_to-iobject":139}],110:[function(t,e,n){var i=t("./_object-gopn"),r=t("./_object-gops"),o=t("./_an-object"),s=t("./_global").Reflect;e.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},{"./_an-object":37,"./_global":69,"./_object-gopn":102,"./_object-gops":103}],111:[function(t,e,n){var i=t("./_global").parseFloat,r=t("./_string-trim").trim;e.exports=1/i(t("./_string-ws")+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{"./_global":69,"./_string-trim":133,"./_string-ws":134}],112:[function(t,e,n){var i=t("./_global").parseInt,r=t("./_string-trim").trim,o=t("./_string-ws"),s=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},{"./_global":69,"./_string-trim":133,"./_string-ws":134}],113:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],114:[function(t,e,n){var i=t("./_an-object"),r=t("./_is-object"),o=t("./_new-promise-capability");e.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},{"./_an-object":37,"./_is-object":80,"./_new-promise-capability":95}],115:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],116:[function(t,e,n){var r=t("./_redefine");e.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},{"./_redefine":117}],117:[function(t,e,n){var o=t("./_global"),s=t("./_hide"),a=t("./_has"),u=t("./_uid")("src"),i=t("./_function-to-string"),r="toString",c=(""+i).split(r);t("./_core").inspectSource=function(t){return i.call(t)},(e.exports=function(t,e,n,i){var r="function"==typeof n;r&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(r&&(a(n,u)||s(n,u,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:i?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||i.call(this)})},{"./_core":51,"./_function-to-string":68,"./_global":69,"./_has":70,"./_hide":71,"./_uid":146}],118:[function(t,e,n){"use strict";var r=t("./_classof"),o=RegExp.prototype.exec;e.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},{"./_classof":46}],119:[function(t,e,n){"use strict";var i,r,s=t("./_flags"),a=RegExp.prototype.exec,u=String.prototype.replace,o=a,c="lastIndex",l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i[c]||0!==r[c]),h=void 0!==/()??/.exec("")[1];(l||h)&&(o=function(t){var e,n,i,r,o=this;return h&&(n=new RegExp("^"+o.source+"$(?!\\s)",s.call(o))),l&&(e=o[c]),i=a.call(o,t),l&&i&&(o[c]=o.global?i.index+i[0].length:e),h&&i&&1<i.length&&u.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),e.exports=o},{"./_flags":65}],120:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],121:[function(e,t,n){function r(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=e("./_is-object"),o=e("./_an-object");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},{"./_an-object":37,"./_ctx":53,"./_is-object":80,"./_object-gopd":100}],122:[function(t,e,n){"use strict";var i=t("./_global"),r=t("./_object-dp"),o=t("./_descriptors"),s=t("./_wks")("species");e.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{"./_descriptors":57,"./_global":69,"./_object-dp":98,"./_wks":151}],123:[function(t,e,n){var i=t("./_object-dp").f,r=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{"./_has":70,"./_object-dp":98,"./_wks":151}],124:[function(t,e,n){var i=t("./_shared")("keys"),r=t("./_uid");e.exports=function(t){return i[t]||(i[t]=r(t))}},{"./_shared":125,"./_uid":146}],125:[function(t,e,n){var i=t("./_core"),r=t("./_global"),o="__core-js_shared__",s=r[o]||(r[o]={});(e.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:t("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":51,"./_global":69,"./_library":88}],126:[function(t,e,n){var r=t("./_an-object"),o=t("./_a-function"),s=t("./_wks")("species");e.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||null==(n=r(i)[s])?e:o(n)}},{"./_a-function":32,"./_an-object":37,"./_wks":151}],127:[function(t,e,n){"use strict";var i=t("./_fails");e.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":63}],128:[function(t,e,n){var u=t("./_to-integer"),c=t("./_defined");e.exports=function(a){return function(t,e){var n,i,r=String(c(t)),o=u(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},{"./_defined":56,"./_to-integer":138}],129:[function(t,e,n){var i=t("./_is-regexp"),r=t("./_defined");e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{"./_defined":56,"./_is-regexp":81}],130:[function(t,e,n){function i(t,e,n,i){var r=String(s(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"}var r=t("./_export"),o=t("./_fails"),s=t("./_defined"),a=/"/g;e.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},{"./_defined":56,"./_export":61,"./_fails":63}],131:[function(t,e,n){var l=t("./_to-length"),h=t("./_string-repeat"),f=t("./_defined");e.exports=function(t,e,n,i){var r=String(f(t)),o=r.length,s=void 0===n?" ":String(n),a=l(e);if(a<=o||""==s)return r;var u=a-o,c=h.call(s,Math.ceil(u/s.length));return c.length>u&&(c=c.slice(0,u)),i?c+r:r+c}},{"./_defined":56,"./_string-repeat":132,"./_to-length":140}],132:[function(t,e,n){"use strict";var r=t("./_to-integer"),o=t("./_defined");e.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},{"./_defined":56,"./_to-integer":138}],133:[function(t,e,n){function i(t,e,n){var i={},r=a(function(){return!!u[t]()||"​"!="​"[t]()}),o=i[t]=r?e(h):u[t];n&&(i[n]=o),s(s.P+s.F*r,"String",i)}var s=t("./_export"),r=t("./_defined"),a=t("./_fails"),u=t("./_string-ws"),o="["+u+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),h=i.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};e.exports=i},{"./_defined":56,"./_export":61,"./_fails":63,"./_string-ws":134}],134:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],135:[function(t,e,n){function i(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}}function r(t){i.call(t.data)}var o,s,a,u=t("./_ctx"),c=t("./_invoke"),l=t("./_html"),h=t("./_dom-create"),f=t("./_global"),p=f.process,d=f.setImmediate,y=f.clearImmediate,_=f.MessageChannel,m=f.Dispatch,g=0,v={},b="onreadystatechange";d&&y||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return v[++g]=function(){c("function"==typeof t?t:Function(t),e)},o(g),g},y=function(t){delete v[t]},"process"==t("./_cof")(p)?o=function(t){p.nextTick(u(i,t,1))}:m&&m.now?o=function(t){m.now(u(i,t,1))}:_?(a=(s=new _).port2,s.port1.onmessage=r,o=u(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(t){f.postMessage(t+"","*")},f.addEventListener("message",r,!1)):o=b in h("script")?function(t){l.appendChild(h("script"))[b]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(u(i,t,1),0)}),e.exports={set:d,clear:y}},{"./_cof":47,"./_ctx":53,"./_dom-create":58,"./_global":69,"./_html":72,"./_invoke":75}],136:[function(t,e,n){var i=t("./_to-integer"),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},{"./_to-integer":138}],137:[function(t,e,n){var i=t("./_to-integer"),r=t("./_to-length");e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{"./_to-integer":138,"./_to-length":140}],138:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?r:i)(t)}},{}],139:[function(t,e,n){var i=t("./_iobject"),r=t("./_defined");e.exports=function(t){return i(r(t))}},{"./_defined":56,"./_iobject":76}],140:[function(t,e,n){var i=t("./_to-integer"),r=Math.min;e.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},{"./_to-integer":138}],141:[function(t,e,n){var i=t("./_defined");e.exports=function(t){return Object(i(t))}},{"./_defined":56}],142:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./_is-object":80,dup:30}],143:[function(t,e,n){"use strict";if(t("./_descriptors")){var m=t("./_library"),g=t("./_global"),v=t("./_fails"),b=t("./_export"),x=t("./_typed"),i=t("./_typed-buffer"),d=t("./_ctx"),w=t("./_an-instance"),r=t("./_property-desc"),$=t("./_hide"),o=t("./_redefine-all"),s=t("./_to-integer"),j=t("./_to-length"),S=t("./_to-index"),a=t("./_to-absolute-index"),u=t("./_to-primitive"),c=t("./_has"),k=t("./_classof"),P=t("./_is-object"),y=t("./_to-object"),_=t("./_is-array-iter"),O=t("./_object-create"),R=t("./_object-gpo"),T=t("./_object-gopn").f,M=t("./core.get-iterator-method"),l=t("./_uid"),h=t("./_wks"),f=t("./_array-methods"),p=t("./_array-includes"),E=t("./_species-constructor"),L=t("./es6.array.iterator"),A=t("./_iterators"),C=t("./_iter-detect"),I=t("./_set-species"),F=t("./_array-fill"),D=t("./_array-copy-within"),B=t("./_object-dp"),N=t("./_object-gopd"),z=B.f,G=N.f,U=g.RangeError,H=g.TypeError,q=g.Uint8Array,V="ArrayBuffer",Q="Shared"+V,W="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],K=i.ArrayBuffer,J=i.DataView,Z=f(0),tt=f(2),et=f(3),nt=f(4),it=f(5),rt=f(6),ot=p(!0),st=p(!1),at=L.values,ut=L.keys,ct=L.entries,lt=X.lastIndexOf,ht=X.reduce,ft=X.reduceRight,pt=X.join,dt=X.sort,yt=X.slice,_t=X.toString,mt=X.toLocaleString,gt=h("iterator"),vt=h("toStringTag"),bt=l("typed_constructor"),xt=l("def_constructor"),wt=x.CONSTR,$t=x.TYPED,jt=x.VIEW,St="Wrong length!",kt=f(1,function(t,e){return Mt(E(t,t[xt]),e)}),Pt=v(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ot=!!q&&!!q[Y].set&&v(function(){new q(1).set({})}),Rt=function(t,e){var n=s(t);if(n<0||n%e)throw U("Wrong offset!");return n},Tt=function(t){if(P(t)&&$t in t)return t;throw H(t+" is not a typed array!")},Mt=function(t,e){if(!(P(t)&&bt in t))throw H("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return Lt(E(t,t[xt]),e)},Lt=function(t,e){for(var n=0,i=e.length,r=Mt(t,i);n<i;)r[n]=e[n++];return r},At=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},Ct=function(t,e,n){var i,r,o,s,a,u,c=y(t),l=arguments.length,h=1<l?e:void 0,f=void 0!==h,p=M(c);if(null!=p&&!_(p)){for(u=p.call(c),o=[],i=0;!(a=u.next()).done;i++)o.push(a.value);c=o}for(f&&2<l&&(h=d(h,n,2)),i=0,r=j(c.length),s=Mt(this,r);i<r;i++)s[i]=f?h(c[i],i):c[i];return s},It=function(){for(var t=0,e=arguments.length,n=Mt(this,e);t<e;)n[t]=arguments[t++];return n},Ft=!!q&&v(function(){mt.call(new q(1))}),Dt=function(){return mt.apply(Ft?yt.call(Tt(this)):Tt(this),arguments)},Bt={copyWithin:function(t,e,n){return D.call(Tt(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return nt(Tt(this),t,1<arguments.length?e:void 0)},fill:function(t){return F.apply(Tt(this),arguments)},filter:function(t,e){return Et(this,tt(Tt(this),t,1<arguments.length?e:void 0))},find:function(t,e){return it(Tt(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return rt(Tt(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){Z(Tt(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return st(Tt(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return ot(Tt(this),t,1<arguments.length?e:void 0)},join:function(t){return pt.apply(Tt(this),arguments)},lastIndexOf:function(t){return lt.apply(Tt(this),arguments)},map:function(t,e){return kt(Tt(this),t,1<arguments.length?e:void 0)},reduce:function(t){return ht.apply(Tt(this),arguments)},reduceRight:function(t){return ft.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t,e){return et(Tt(this),t,1<arguments.length?e:void 0)},sort:function(t){return dt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),i=n.length,r=a(t,i);return new(E(n,n[xt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,j((void 0===e?i:a(e,i))-r))}},Nt=function(t,e){return Et(this,yt.call(Tt(this),t,e))},zt=function(t,e){Tt(this);var n=Rt(e,1),i=this.length,r=y(t),o=j(r.length),s=0;if(i<o+n)throw U(St);for(;s<o;)this[n+s]=r[s++]},Gt={entries:function(){return ct.call(Tt(this))},keys:function(){return ut.call(Tt(this))},values:function(){return at.call(Tt(this))}},Ut=function(t,e){return P(t)&&t[$t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Ut(t,e=u(e,!0))?r(2,t[e]):G(t,e)},qt=function(t,e,n){return!(Ut(t,e=u(e,!0))&&P(n)&&c(n,"value"))||c(n,"get")||c(n,"set")||n.configurable||c(n,"writable")&&!n.writable||c(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};wt||(N.f=Ht,B.f=qt),b(b.S+b.F*!wt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:qt}),v(function(){_t.call({})})&&(_t=mt=function(){return pt.call(this)});var Vt=o({},Bt);o(Vt,Gt),$(Vt,gt,Gt.values),o(Vt,{slice:Nt,set:zt,constructor:function(){},toString:_t,toLocaleString:Dt}),At(Vt,"buffer","b"),At(Vt,"byteOffset","o"),At(Vt,"byteLength","l"),At(Vt,"length","e"),z(Vt,vt,{get:function(){return this[$t]}}),e.exports=function(t,h,e,o){function f(t,r){z(t,r,{get:function(){return t=r,(e=this._d).v[n](t*h+e.o,Pt);var t,e},set:function(t){return e=r,n=t,i=this._d,o&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void i.v[s](e*h+i.o,n,Pt);var e,n,i},enumerable:!0})}var p=t+((o=!!o)?"Clamped":"")+"Array",n="get"+t,s="set"+t,d=g[p],a=d||{},i=d&&R(d),r=!d||!x.ABV,u={},c=d&&d[Y];r?(d=e(function(t,e,n,i){w(t,d,p,"_d");var r,o,s,a,u=0,c=0;if(P(e)){if(!(e instanceof K||(a=k(e))==V||a==Q))return $t in e?Lt(d,e):Ct.call(d,e);r=e,c=Rt(n,h);var l=e.byteLength;if(void 0===i){if(l%h)throw U(St);if((o=l-c)<0)throw U(St)}else if(l<(o=j(i)*h)+c)throw U(St);s=o/h}else s=S(e),r=new K(o=s*h);for($(t,"_d",{b:r,o:c,l:o,e:s,v:new J(r)});u<s;)f(t,u++)}),c=d[Y]=O(Vt),$(c,"constructor",d)):v(function(){d(1)})&&v(function(){new d(-1)})&&C(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=e(function(t,e,n,i){var r;return w(t,d,p),P(e)?e instanceof K||(r=k(e))==V||r==Q?void 0!==i?new a(e,Rt(n,h),i):void 0!==n?new a(e,Rt(n,h)):new a(e):$t in e?Lt(d,e):Ct.call(d,e):new a(S(e))}),Z(i!==Function.prototype?T(a).concat(T(i)):T(a),function(t){t in d||$(d,t,a[t])}),d[Y]=c,m||(c.constructor=d));var l=c[gt],y=!!l&&("values"==l.name||null==l.name),_=Gt.values;$(d,bt,!0),$(c,$t,p),$(c,jt,!0),$(c,xt,d),(o?new d(1)[vt]==p:vt in c)||z(c,vt,{get:function(){return p}}),u[p]=d,b(b.G+b.W+b.F*(d!=a),u),b(b.S,p,{BYTES_PER_ELEMENT:h}),b(b.S+b.F*v(function(){a.of.call(d,1)}),p,{from:Ct,of:It}),W in c||$(c,W,h),b(b.P,p,Bt),I(p),b(b.P+b.F*Ot,p,{set:zt}),b(b.P+b.F*!y,p,Gt),m||c.toString==_t||(c.toString=_t),b(b.P+b.F*v(function(){new d(1).slice()}),p,{slice:Nt}),b(b.P+b.F*(v(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!v(function(){c.toLocaleString.call([1,2])})),p,{toLocaleString:Dt}),A[p]=y?l:_,m||y||$(c,gt,_)}}else e.exports=function(){}},{"./_an-instance":36,"./_array-copy-within":38,"./_array-fill":39,"./_array-includes":40,"./_array-methods":41,"./_classof":46,"./_ctx":53,"./_descriptors":57,"./_export":61,"./_fails":63,"./_global":69,"./_has":70,"./_hide":71,"./_is-array-iter":77,"./_is-object":80,"./_iter-detect":85,"./_iterators":87,"./_library":88,"./_object-create":97,"./_object-dp":98,"./_object-gopd":100,"./_object-gopn":102,"./_object-gpo":104,"./_property-desc":115,"./_redefine-all":116,"./_set-species":122,"./_species-constructor":126,"./_to-absolute-index":136,"./_to-index":137,"./_to-integer":138,"./_to-length":140,"./_to-object":141,"./_to-primitive":142,"./_typed":145,"./_typed-buffer":144,"./_uid":146,"./_wks":151,"./core.get-iterator-method":152,"./es6.array.iterator":163}],144:[function(t,e,n){"use strict";var i=t("./_global"),r=t("./_descriptors"),o=t("./_library"),s=t("./_typed"),a=t("./_hide"),u=t("./_redefine-all"),c=t("./_fails"),l=t("./_an-instance"),h=t("./_to-integer"),f=t("./_to-length"),p=t("./_to-index"),d=t("./_object-gopn").f,y=t("./_object-dp").f,_=t("./_array-fill"),m=t("./_set-to-string-tag"),g="ArrayBuffer",v="DataView",b="prototype",x="Wrong index!",w=i[g],$=i[v],j=i.Math,S=i.RangeError,k=i.Infinity,P=w,O=j.abs,R=j.pow,T=j.floor,M=j.log,E=j.LN2,L="byteLength",A="byteOffset",C=r?"_b":"buffer",I=r?"_l":L,F=r?"_o":A;function D(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?R(2,-24)-R(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===k?(r=t!=t?1:0,i=u):(i=T(M(t)/E),t*(o=R(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+c?l/o:l*R(2,1-c))*o&&(i++,o/=2),u<=i+c?(r=0,i=u):1<=i+c?(r=(t*o-1)*R(2,e),i+=c):(r=t*R(2,c-1)*R(2,e),i=0));8<=e;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;0<a;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function B(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;0<a;l=256*l+t[u],u--,a-=8);for(i=l&(1<<-a)-1,l>>=-a,a+=e;0<a;i=256*i+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return i?NaN:c?-k:k;i+=R(2,e),l-=s}return(c?-1:1)*i*R(2,l-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function G(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return D(t,52,8)}function q(t){return D(t,23,4)}function V(t,e,n){y(t[b],e,{get:function(){return this[n]}})}function Q(t,e,n,i){var r=p(+n);if(r+e>t[I])throw S(x);var o=t[C]._b,s=r+t[F],a=o.slice(s,s+e);return i?a:a.reverse()}function W(t,e,n,i,r,o){var s=p(+n);if(s+e>t[I])throw S(x);for(var a=t[C]._b,u=s+t[F],c=i(+r),l=0;l<e;l++)a[u+l]=c[o?l:e-l-1]}if(s.ABV){if(!c(function(){w(1)})||!c(function(){new w(-1)})||c(function(){return new w,new w(1.5),new w(NaN),w.name!=g})){for(var Y,X=(w=function(t){return l(this,w),new P(p(t))})[b]=P[b],K=d(P),J=0;K.length>J;)(Y=K[J++])in w||a(w,Y,P[Y]);o||(X.constructor=w)}var Z=new $(new w(2)),tt=$[b].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u($[b],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else w=function(t){l(this,w,g);var e=p(t);this._b=_.call(new Array(e),0),this[I]=e},$=function(t,e,n){l(this,$,v),l(t,w,v);var i=t[I],r=h(e);if(r<0||i<r)throw S("Wrong offset!");if(i<r+(n=void 0===n?i-r:f(n)))throw S("Wrong length!");this[C]=t,this[F]=r,this[I]=n},r&&(V(w,L,"_l"),V($,"buffer","_b"),V($,L,"_l"),V($,A,"_o")),u($[b],{getInt8:function(t){return Q(this,1,t)[0]<<24>>24},getUint8:function(t){return Q(this,1,t)[0]},getInt16:function(t,e){var n=Q(this,2,t,e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=Q(this,2,t,e);return n[1]<<8|n[0]},getInt32:function(t,e){return N(Q(this,4,t,e))},getUint32:function(t,e){return N(Q(this,4,t,e))>>>0},getFloat32:function(t,e){return B(Q(this,4,t,e),23,4)},getFloat64:function(t,e){return B(Q(this,8,t,e),52,8)},setInt8:function(t,e){W(this,1,t,z,e)},setUint8:function(t,e){W(this,1,t,z,e)},setInt16:function(t,e,n){W(this,2,t,G,e,n)},setUint16:function(t,e,n){W(this,2,t,G,e,n)},setInt32:function(t,e,n){W(this,4,t,U,e,n)},setUint32:function(t,e,n){W(this,4,t,U,e,n)},setFloat32:function(t,e,n){W(this,4,t,q,e,n)},setFloat64:function(t,e,n){W(this,8,t,H,e,n)}});m(w,g),m($,v),a($[b],s.VIEW,!0),n[g]=w,n[v]=$},{"./_an-instance":36,"./_array-fill":39,"./_descriptors":57,"./_fails":63,"./_global":69,"./_hide":71,"./_library":88,"./_object-dp":98,"./_object-gopn":102,"./_redefine-all":116,"./_set-to-string-tag":123,"./_to-index":137,"./_to-integer":138,"./_to-length":140,"./_typed":145}],145:[function(t,e,n){for(var i,r=t("./_global"),o=t("./_hide"),s=t("./_uid"),a=s("typed_array"),u=s("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},{"./_global":69,"./_hide":71,"./_uid":146}],146:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],147:[function(t,e,n){var i=t("./_global").navigator;e.exports=i&&i.userAgent||""},{"./_global":69}],148:[function(t,e,n){var i=t("./_is-object");e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{"./_is-object":80}],149:[function(t,e,n){var i=t("./_global"),r=t("./_core"),o=t("./_library"),s=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=r.Symbol||(r.Symbol=!o&&i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{"./_core":51,"./_global":69,"./_library":88,"./_object-dp":98,"./_wks-ext":150}],150:[function(t,e,n){n.f=t("./_wks")},{"./_wks":151}],151:[function(t,e,n){var i=t("./_shared")("wks"),r=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o;(e.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},{"./_global":69,"./_shared":125,"./_uid":146}],152:[function(t,e,n){var i=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},{"./_classof":46,"./_core":51,"./_iterators":87,"./_wks":151}],153:[function(t,e,n){var i=t("./_export");i(i.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":34,"./_array-copy-within":38,"./_export":61}],154:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(4);i(i.P+i.F*!t("./_strict-method")([].every,!0),"Array",{every:function(t,e){return r(this,t,e)}})},{"./_array-methods":41,"./_export":61,"./_strict-method":127}],155:[function(t,e,n){var i=t("./_export");i(i.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":34,"./_array-fill":39,"./_export":61}],156:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(2);i(i.P+i.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function(t,e){return r(this,t,e)}})},{"./_array-methods":41,"./_export":61,"./_strict-method":127}],157:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":34,"./_array-methods":41,"./_export":61}],158:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":34,"./_array-methods":41,"./_export":61}],159:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t,e){return r(this,t,e)}})},{"./_array-methods":41,"./_export":61,"./_strict-method":127}],160:[function(t,e,n){"use strict";var d=t("./_ctx"),i=t("./_export"),y=t("./_to-object"),_=t("./_iter-call"),m=t("./_is-array-iter"),g=t("./_to-length"),v=t("./_create-property"),b=t("./core.get-iterator-method");i(i.S+i.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,r,o,s,a=y(t),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?e:void 0,h=void 0!==l,f=0,p=b(a);if(h&&(l=d(l,2<c?n:void 0,2)),null==p||u==Array&&m(p))for(r=new u(i=g(a.length));f<i;f++)v(r,f,h?l(a[f],f):a[f]);else for(s=p.call(a),r=new u;!(o=s.next()).done;f++)v(r,f,h?_(s,l,[o.value,f],!0):o.value);return r.length=f,r}})},{"./_create-property":52,"./_ctx":53,"./_export":61,"./_is-array-iter":77,"./_iter-call":82,"./_iter-detect":85,"./_to-length":140,"./_to-object":141,"./core.get-iterator-method":152}],161:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-includes")(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!t("./_strict-method")(o)),"Array",{indexOf:function(t,e){return s?o.apply(this,arguments)||0:r(this,t,e)}})},{"./_array-includes":40,"./_export":61,"./_strict-method":127}],162:[function(t,e,n){var i=t("./_export");i(i.S,"Array",{isArray:t("./_is-array")})},{"./_export":61,"./_is-array":78}],163:[function(t,e,n){"use strict";var i=t("./_add-to-unscopables"),r=t("./_iter-step"),o=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"./_add-to-unscopables":34,"./_iter-define":84,"./_iter-step":86,"./_iterators":87,"./_to-iobject":139}],164:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_to-iobject"),o=[].join;i(i.P+i.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{"./_export":61,"./_iobject":76,"./_strict-method":127,"./_to-iobject":139}],165:[function(t,e,n){"use strict";var i=t("./_export"),o=t("./_to-iobject"),s=t("./_to-integer"),a=t("./_to-length"),u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!t("./_strict-method")(u)),"Array",{lastIndexOf:function(t,e){if(c)return u.apply(this,arguments)||0;var n=o(this),i=a(n.length),r=i-1;for(1<arguments.length&&(r=Math.min(r,s(e))),r<0&&(r=i+r);0<=r;r--)if(r in n&&n[r]===t)return r||0;return-1}})},{"./_export":61,"./_strict-method":127,"./_to-integer":138,"./_to-iobject":139,"./_to-length":140}],166:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(1);i(i.P+i.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t,e){return r(this,t,e)}})},{"./_array-methods":41,"./_export":61,"./_strict-method":127}],167:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_create-property");i(i.S+i.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)r(n,t,arguments[t++]);return n.length=e,n}})},{"./_create-property":52,"./_export":61,"./_fails":63}],168:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-reduce");i(i.P+i.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(t,e){return r(this,t,arguments.length,e,!0)}})},{"./_array-reduce":42,"./_export":61,"./_strict-method":127}],169:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-reduce");i(i.P+i.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function(t,e){return r(this,t,arguments.length,e,!1)}})},{"./_array-reduce":42,"./_export":61,"./_strict-method":127}],170:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_html"),c=t("./_cof"),l=t("./_to-absolute-index"),h=t("./_to-length"),f=[].slice;i(i.P+i.F*t("./_fails")(function(){r&&f.call(r)}),"Array",{slice:function(t,e){var n=h(this.length),i=c(this);if(e=void 0===e?n:e,"Array"==i)return f.call(this,t,e);for(var r=l(t,n),o=l(e,n),s=h(o-r),a=new Array(s),u=0;u<s;u++)a[u]="String"==i?this.charAt(r+u):this[r+u];return a}})},{"./_cof":47,"./_export":61,"./_fails":63,"./_html":72,"./_to-absolute-index":136,"./_to-length":140}],171:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(3);i(i.P+i.F*!t("./_strict-method")([].some,!0),"Array",{some:function(t,e){return r(this,t,e)}})},{"./_array-methods":41,"./_export":61,"./_strict-method":127}],172:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),s=t("./_fails"),a=[].sort,u=[1,2,3];i(i.P+i.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!t("./_strict-method")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{"./_a-function":32,"./_export":61,"./_fails":63,"./_strict-method":127,"./_to-object":141}],173:[function(t,e,n){t("./_set-species")("Array")},{"./_set-species":122}],174:[function(t,e,n){var i=t("./_export");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":61}],175:[function(t,e,n){var i=t("./_export"),r=t("./_date-to-iso-string");i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{"./_date-to-iso-string":54,"./_export":61}],176:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive");i(i.P+i.F*t("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=r(this),e=o(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},{"./_export":61,"./_fails":63,"./_to-object":141,"./_to-primitive":142}],177:[function(t,e,n){var i=t("./_wks")("toPrimitive"),r=Date.prototype;i in r||t("./_hide")(r,i,t("./_date-to-primitive"))},{"./_date-to-primitive":55,"./_hide":71,"./_wks":151}],178:[function(t,e,n){var i=Date.prototype,r="Invalid Date",o="toString",s=i[o],a=i.getTime;new Date(NaN)+""!=r&&t("./_redefine")(i,o,function(){var t=a.call(this);return t==t?s.call(this):r})},{"./_redefine":117}],179:[function(t,e,n){var i=t("./_export");i(i.P,"Function",{bind:t("./_bind")})},{"./_bind":45,"./_export":61}],180:[function(t,e,n){"use strict";var i=t("./_is-object"),r=t("./_object-gpo"),o=t("./_wks")("hasInstance"),s=Function.prototype;o in s||t("./_object-dp").f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{"./_is-object":80,"./_object-dp":98,"./_object-gpo":104,"./_wks":151}],181:[function(t,e,n){var i=t("./_object-dp").f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||t("./_descriptors")&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{"./_descriptors":57,"./_object-dp":98}],182:[function(t,e,n){"use strict";var i=t("./_collection-strong"),r=t("./_validate-collection");e.exports=t("./_collection")("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{"./_collection":50,"./_collection-strong":48,"./_validate-collection":148}],183:[function(t,e,n){var i=t("./_export"),r=t("./_math-log1p"),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{"./_export":61,"./_math-log1p":91}],184:[function(t,e,n){var i=t("./_export"),r=Math.asinh;i(i.S+i.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{"./_export":61}],185:[function(t,e,n){var i=t("./_export"),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./_export":61}],186:[function(t,e,n){var i=t("./_export"),r=t("./_math-sign");i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./_export":61,"./_math-sign":92}],187:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./_export":61}],188:[function(t,e,n){var i=t("./_export"),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{"./_export":61}],189:[function(t,e,n){var i=t("./_export"),r=t("./_math-expm1");i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{"./_export":61,"./_math-expm1":89}],190:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{fround:t("./_math-fround")})},{"./_export":61,"./_math-fround":90}],191:[function(t,e,n){var i=t("./_export"),u=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=u(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=0<n?(i=n/a)*i:n;return a===1/0?1/0:a*Math.sqrt(r)}})},{"./_export":61}],192:[function(t,e,n){var i=t("./_export"),r=Math.imul;i(i.S+i.F*t("./_fails")(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,s=n&r;return 0|o*s+((n&i>>>16)*s+o*(n&r>>>16)<<16>>>0)}})},{"./_export":61,"./_fails":63}],193:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{"./_export":61}],194:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{log1p:t("./_math-log1p")})},{"./_export":61,"./_math-log1p":91}],195:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./_export":61}],196:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{sign:t("./_math-sign")})},{"./_export":61,"./_math-sign":92}],197:[function(t,e,n){var i=t("./_export"),r=t("./_math-expm1"),o=Math.exp;i(i.S+i.F*t("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{"./_export":61,"./_fails":63,"./_math-expm1":89}],198:[function(t,e,n){var i=t("./_export"),r=t("./_math-expm1"),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{"./_export":61,"./_math-expm1":89}],199:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},{"./_export":61}],200:[function(t,e,n){"use strict";function i(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var n,i,r,o=(e=v?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),u=0,c=a.length;u<c;u++)if((s=a.charCodeAt(u))<48||r<s)return NaN;return parseInt(a,i)}}return+e}var r=t("./_global"),o=t("./_has"),s=t("./_cof"),a=t("./_inherit-if-required"),l=t("./_to-primitive"),u=t("./_fails"),c=t("./_object-gopn").f,h=t("./_object-gopd").f,f=t("./_object-dp").f,p=t("./_string-trim").trim,d="Number",y=r[d],_=y,m=y.prototype,g=s(t("./_object-create")(m))==d,v="trim"in String.prototype;if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof y&&(g?u(function(){m.valueOf.call(n)}):s(n)!=d)?a(new _(i(e)),n,y):i(e)};for(var b,x=t("./_descriptors")?c(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)o(_,b=x[w])&&!o(y,b)&&f(y,b,h(_,b));(y.prototype=m).constructor=y,t("./_redefine")(r,d,y)}},{"./_cof":47,"./_descriptors":57,"./_fails":63,"./_global":69,"./_has":70,"./_inherit-if-required":74,"./_object-create":97,"./_object-dp":98,"./_object-gopd":100,"./_object-gopn":102,"./_redefine":117,"./_string-trim":133,"./_to-primitive":142}],201:[function(t,e,n){var i=t("./_export");i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":61}],202:[function(t,e,n){var i=t("./_export"),r=t("./_global").isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{"./_export":61,"./_global":69}],203:[function(t,e,n){var i=t("./_export");i(i.S,"Number",{isInteger:t("./_is-integer")})},{"./_export":61,"./_is-integer":79}],204:[function(t,e,n){var i=t("./_export");i(i.S,"Number",{isNaN:function(t){return t!=t}})},{"./_export":61}],205:[function(t,e,n){var i=t("./_export"),r=t("./_is-integer"),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{"./_export":61,"./_is-integer":79}],206:[function(t,e,n){var i=t("./_export");i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":61}],207:[function(t,e,n){var i=t("./_export");i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":61}],208:[function(t,e,n){var i=t("./_export"),r=t("./_parse-float");i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{"./_export":61,"./_parse-float":111}],209:[function(t,e,n){var i=t("./_export"),r=t("./_parse-int");i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{"./_export":61,"./_parse-int":112}],210:[function(t,e,n){"use strict";function c(t,e){for(var n=-1,i=e;++n<6;)i+=t*s[n],s[n]=i%1e7,i=o(i/1e7)}function l(t){for(var e=6,n=0;0<=--e;)n+=s[e],s[e]=o(n/t),n=n%t*1e7}function h(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+d.call("0",7-n.length)+n}return e}var i=t("./_export"),f=t("./_to-integer"),p=t("./_a-number-value"),d=t("./_string-repeat"),r=1..toFixed,o=Math.floor,s=[0,0,0,0,0,0],y="Number.toFixed: incorrect invocation!",_=function(t,e,n){return 0===e?n:e%2==1?_(t,e-1,n*t):_(t*t,e/2,n)};i(i.P+i.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t("./_fails")(function(){r.call({})})),"Number",{toFixed:function(t){var e,n,i,r,o=p(this,y),s=f(t),a="",u="0";if(s<0||20<s)throw RangeError(y);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(a="-",o=-o),1e-21<o)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(o*_(2,69,1))-69)<0?o*_(2,-e,1):o/_(2,e,1),n*=4503599627370496,0<(e=52-e)){for(c(0,n),i=s;7<=i;)c(1e7,0),i-=7;for(c(_(10,i,1),0),i=e-1;23<=i;)l(1<<23),i-=23;l(1<<i),c(1,1),l(2),u=h()}else c(0,n),c(1<<-e,0),u=h()+d.call("0",s);return u=0<s?a+((r=u.length)<=s?"0."+d.call("0",s-r)+u:u.slice(0,r-s)+"."+u.slice(r-s)):a+u}})},{"./_a-number-value":33,"./_export":61,"./_fails":63,"./_string-repeat":132,"./_to-integer":138}],211:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_fails"),o=t("./_a-number-value"),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{"./_a-number-value":33,"./_export":61,"./_fails":63}],212:[function(t,e,n){var i=t("./_export");i(i.S+i.F,"Object",{assign:t("./_object-assign")})},{"./_export":61,"./_object-assign":96}],213:[function(t,e,n){var i=t("./_export");i(i.S,"Object",{create:t("./_object-create")})},{"./_export":61,"./_object-create":97}],214:[function(t,e,n){var i=t("./_export");i(i.S+i.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})},{"./_descriptors":57,"./_export":61,"./_object-dps":99}],215:[function(t,e,n){var i=t("./_export");i(i.S+i.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":57,"./_export":61,"./_object-dp":98}],216:[function(t,e,n){var i=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{"./_is-object":80,"./_meta":93,"./_object-sap":108}],217:[function(t,e,n){var i=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},{"./_object-gopd":100,"./_object-sap":108,"./_to-iobject":139}],218:[function(t,e,n){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})},{"./_object-gopn-ext":101,"./_object-sap":108}],219:[function(t,e,n){var i=t("./_to-object"),r=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return r(i(t))}})},{"./_object-gpo":104,"./_object-sap":108,"./_to-object":141}],220:[function(t,e,n){var i=t("./_is-object");t("./_object-sap")("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},{"./_is-object":80,"./_object-sap":108}],221:[function(t,e,n){var i=t("./_is-object");t("./_object-sap")("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{"./_is-object":80,"./_object-sap":108}],222:[function(t,e,n){var i=t("./_is-object");t("./_object-sap")("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{"./_is-object":80,"./_object-sap":108}],223:[function(t,e,n){var i=t("./_export");i(i.S,"Object",{is:t("./_same-value")})},{"./_export":61,"./_same-value":120}],224:[function(t,e,n){var i=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return r(i(t))}})},{"./_object-keys":106,"./_object-sap":108,"./_to-object":141}],225:[function(t,e,n){var i=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{"./_is-object":80,"./_meta":93,"./_object-sap":108}],226:[function(t,e,n){var i=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{"./_is-object":80,"./_meta":93,"./_object-sap":108}],227:[function(t,e,n){var i=t("./_export");i(i.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":61,"./_set-proto":121}],228:[function(t,e,n){"use strict";var i=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{"./_classof":46,"./_redefine":117,"./_wks":151}],229:[function(t,e,n){var i=t("./_export"),r=t("./_parse-float");i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{"./_export":61,"./_parse-float":111}],230:[function(t,e,n){var i=t("./_export"),r=t("./_parse-int");i(i.G+i.F*(parseInt!=r),{parseInt:r})},{"./_export":61,"./_parse-int":112}],231:[function(n,t,e){"use strict";function i(){}function h(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e}function r(l,n){if(!l._n){l._n=!0;var i=l._c;w(function(){for(var u=l._v,c=1==l._s,t=0,e=function(t){var e,n,i,r=c?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{r?(c||(2==l._h&&D(l),l._h=1),!0===r?e=u:(a&&a.enter(),e=r(u),a&&(a.exit(),i=!0)),e===t.promise?s(O("Promise-chain cycle")):(n=h(e))?n.call(e,o,s):o(e)):s(u)}catch(t){a&&!i&&a.exit(),s(t)}};i.length>t;)e(i[t++]);l._c=[],l._n=!1,n&&!l._h&&I(l)})}}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),r(e,!0))}var s,a,u,c,l=n("./_library"),f=n("./_global"),p=n("./_ctx"),d=n("./_classof"),y=n("./_export"),_=n("./_is-object"),m=n("./_a-function"),g=n("./_an-instance"),v=n("./_for-of"),b=n("./_species-constructor"),x=n("./_task").set,w=n("./_microtask")(),$=n("./_new-promise-capability"),j=n("./_perform"),S=n("./_user-agent"),k=n("./_promise-resolve"),P="Promise",O=f.TypeError,R=f.process,T=R&&R.versions,M=T&&T.v8||"",E=f[P],L="process"==d(R),A=a=$.f,C=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n("./_wks")("species")]=function(t){t(i,i)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==M.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),I=function(o){x.call(f,function(){var t,e,n,i=o._v,r=F(o);if(r&&(t=j(function(){L?R.emit("unhandledRejection",i,o):(e=f.onunhandledrejection)?e({promise:o,reason:i}):(n=f.console)&&n.error&&n.error("Unhandled promise rejection",i)}),o._h=L||F(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(e){x.call(f,function(){var t;L?R.emit("rejectionHandled",e):(t=f.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw O("Promise can't be resolved itself");(n=h(t))?w(function(){var e={_w:i,_d:!1};try{n.call(t,p(B,e,1),p(o,e,1))}catch(t){o.call(e,t)}}):(i._v=t,i._s=1,r(i,!1))}catch(t){o.call({_w:i,_d:!1},t)}}};C||(E=function(t){g(this,E,P,"_h"),m(t),s.call(this);try{t(p(B,this,1),p(o,this,1))}catch(t){o.call(this,t)}},(s=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("./_redefine-all")(E.prototype,{then:function(t,e){var n=A(b(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?R.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new s;this.promise=t,this.resolve=p(B,t,1),this.reject=p(o,t,1)},$.f=A=function(t){return t===E||t===c?new u:a(t)}),y(y.G+y.W+y.F*!C,{Promise:E}),n("./_set-to-string-tag")(E,P),n("./_set-species")(P),c=n("./_core")[P],y(y.S+y.F*!C,P,{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),y(y.S+y.F*(l||!C),P,{resolve:function(t){return k(l&&this===c?E:this,t)}}),y(y.S+y.F*!(C&&n("./_iter-detect")(function(t){E.all(t).catch(i)})),P,{all:function(t){var s=this,e=A(s),a=e.resolve,u=e.reject,n=j(function(){var i=[],r=0,o=1;v(t,!1,function(t){var e=r++,n=!1;i.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,i[e]=t,--o||a(i))},u)}),--o||a(i)});return n.e&&u(n.v),e.promise},race:function(t){var e=this,n=A(e),i=n.reject,r=j(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},{"./_a-function":32,"./_an-instance":36,"./_classof":46,"./_core":51,"./_ctx":53,"./_export":61,"./_for-of":67,"./_global":69,"./_is-object":80,"./_iter-detect":85,"./_library":88,"./_microtask":94,"./_new-promise-capability":95,"./_perform":113,"./_promise-resolve":114,"./_redefine-all":116,"./_set-species":122,"./_set-to-string-tag":123,"./_species-constructor":126,"./_task":135,"./_user-agent":147,"./_wks":151}],232:[function(t,e,n){var i=t("./_export"),o=t("./_a-function"),s=t("./_an-object"),a=(t("./_global").Reflect||{}).apply,u=Function.apply;i(i.S+i.F*!t("./_fails")(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=o(t),r=s(n);return a?a(i,e,r):u.call(i,e,r)}})},{"./_a-function":32,"./_an-object":37,"./_export":61,"./_fails":63,"./_global":69}],233:[function(t,e,n){var i=t("./_export"),u=t("./_object-create"),c=t("./_a-function"),l=t("./_an-object"),h=t("./_is-object"),r=t("./_fails"),f=t("./_bind"),p=(t("./_global").Reflect||{}).construct,d=r(function(){function t(){}return!(p(function(){},[],t)instanceof t)}),y=!r(function(){p(function(){})});i(i.S+i.F*(d||y),"Reflect",{construct:function(t,e,n){c(t),l(e);var i=arguments.length<3?t:c(n);if(y&&!d)return p(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(f.apply(t,r))}var o=i.prototype,s=u(h(o)?o:Object.prototype),a=Function.apply.call(t,s,e);return h(a)?a:s}})},{"./_a-function":32,"./_an-object":37,"./_bind":45,"./_export":61,"./_fails":63,"./_global":69,"./_is-object":80,"./_object-create":97}],234:[function(t,e,n){var i=t("./_object-dp"),r=t("./_export"),o=t("./_an-object"),s=t("./_to-primitive");r(r.S+r.F*t("./_fails")(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{"./_an-object":37,"./_export":61,"./_fails":63,"./_object-dp":98,"./_to-primitive":142}],235:[function(t,e,n){var i=t("./_export"),r=t("./_object-gopd").f,o=t("./_an-object");i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{"./_an-object":37,"./_export":61,"./_object-gopd":100}],236:[function(t,e,n){"use strict";function i(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var r=t("./_export"),o=t("./_an-object");t("./_iter-create")(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},{"./_an-object":37,"./_export":61,"./_iter-create":83}],237:[function(t,e,n){var i=t("./_object-gopd"),r=t("./_export"),o=t("./_an-object");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},{"./_an-object":37,"./_export":61,"./_object-gopd":100}],238:[function(t,e,n){var i=t("./_export"),r=t("./_object-gpo"),o=t("./_an-object");i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{"./_an-object":37,"./_export":61,"./_object-gpo":104}],239:[function(t,e,n){var s=t("./_object-gopd"),a=t("./_object-gpo"),u=t("./_has"),i=t("./_export"),c=t("./_is-object"),l=t("./_an-object");i(i.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return l(e)===o?e[n]:(i=s.f(e,n))?u(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:c(r=a(e))?t(r,n,o):void 0}})},{"./_an-object":37,"./_export":61,"./_has":70,"./_is-object":80,"./_object-gopd":100,"./_object-gpo":104}],240:[function(t,e,n){var i=t("./_export");i(i.S,"Reflect",{has:function(t,e){return e in t}})},{"./_export":61}],241:[function(t,e,n){var i=t("./_export"),r=t("./_an-object"),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{"./_an-object":37,"./_export":61}],242:[function(t,e,n){var i=t("./_export");i(i.S,"Reflect",{ownKeys:t("./_own-keys")})},{"./_export":61,"./_own-keys":110}],243:[function(t,e,n){var i=t("./_export"),r=t("./_an-object"),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},{"./_an-object":37,"./_export":61}],244:[function(t,e,n){var i=t("./_export"),r=t("./_set-proto");r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{"./_export":61,"./_set-proto":121}],245:[function(t,e,n){var u=t("./_object-dp"),c=t("./_object-gopd"),l=t("./_object-gpo"),h=t("./_has"),i=t("./_export"),f=t("./_property-desc"),p=t("./_an-object"),d=t("./_is-object");i(i.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],a=c.f(p(e),n);if(!a){if(d(o=l(e)))return t(o,n,i,s);a=f(0)}if(h(a,"value")){if(!1===a.writable||!d(s))return!1;if(r=c.f(s,n)){if(r.get||r.set||!1===r.writable)return!1;r.value=i,u.f(s,n,r)}else u.f(s,n,f(0,i));return!0}return void 0!==a.set&&(a.set.call(s,i),!0)}})},{"./_an-object":37,"./_export":61,"./_has":70,"./_is-object":80,"./_object-dp":98,"./_object-gopd":100,"./_object-gpo":104,"./_property-desc":115}],246:[function(t,e,n){var i=t("./_global"),o=t("./_inherit-if-required"),r=t("./_object-dp").f,s=t("./_object-gopn").f,a=t("./_is-regexp"),u=t("./_flags"),c=i.RegExp,l=c,h=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(t("./_descriptors")&&(!d||t("./_fails")(function(){return p[t("./_wks")("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(t,e){var n=this instanceof c,i=a(t),r=void 0===e;return!n&&i&&t.constructor===c&&r?t:o(d?new l(i&&!r?t.source:t,e):l((i=t instanceof c)?t.source:t,i&&r?u.call(t):e),n?this:h,c)};function y(e){e in c||r(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}for(var _=s(l),m=0;_.length>m;)y(_[m++]);(h.constructor=c).prototype=h,t("./_redefine")(i,"RegExp",c)}t("./_set-species")("RegExp")},{"./_descriptors":57,"./_fails":63,"./_flags":65,"./_global":69,"./_inherit-if-required":74,"./_is-regexp":81,"./_object-dp":98,"./_object-gopn":102,"./_redefine":117,"./_set-species":122,"./_wks":151}],247:[function(t,e,n){"use strict";var i=t("./_regexp-exec");t("./_export")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},{"./_export":61,"./_regexp-exec":119}],248:[function(t,e,n){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":57,"./_flags":65,"./_object-dp":98}],249:[function(t,e,n){"use strict";var h=t("./_an-object"),f=t("./_to-length"),p=t("./_advance-string-index"),d=t("./_regexp-exec-abstract");t("./_fix-re-wks")("match",1,function(i,r,c,l){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=l(c,t,this);if(e.done)return e.value;var n=h(t),i=String(this);if(!n.global)return d(n,i);for(var r,o=n.unicode,s=[],a=n.lastIndex=0;null!==(r=d(n,i));){var u=String(r[0]);""===(s[a]=u)&&(n.lastIndex=p(i,f(n.lastIndex),o)),a++}return 0===a?null:s}]})},{"./_advance-string-index":35,"./_an-object":37,"./_fix-re-wks":64,"./_regexp-exec-abstract":118,"./_to-length":140}],250:[function(t,e,n){"use strict";var j=t("./_an-object"),i=t("./_to-object"),S=t("./_to-length"),k=t("./_to-integer"),P=t("./_advance-string-index"),O=t("./_regexp-exec-abstract"),R=Math.max,T=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;t("./_fix-re-wks")("replace",2,function(r,o,x,w){return[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):x.call(String(n),t,e)},function(t,e){var n=w(x,t,this,e);if(n.done)return n.value;var i=j(t),r=String(this),o="function"==typeof e;o||(e=String(e));var s=i.global;if(s){var a=i.unicode;i.lastIndex=0}for(var u=[];;){var c=O(i,r);if(null===c)break;if(u.push(c),!s)break;""===String(c[0])&&(i.lastIndex=P(r,S(i.lastIndex),a))}for(var l,h="",f=0,p=0;p<u.length;p++){c=u[p];for(var d=String(c[0]),y=R(T(k(c.index),r.length),0),_=[],m=1;m<c.length;m++)_.push(void 0===(l=c[m])?l:String(l));var g=c.groups;if(o){var v=[d].concat(_,y,r);void 0!==g&&v.push(g);var b=String(e.apply(void 0,v))}else b=$(d,r,y,_,g,e);f<=y&&(h+=r.slice(f,y)+b,f=y+d.length)}return h+r.slice(f)}];function $(o,s,a,u,c,t){var l=a+o.length,h=u.length,e=d;return void 0!==c&&(c=i(c),e=p),x.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":n=c[e.slice(1,-1)];break;default:var i=+e;if(0==i)return t;if(h<i){var r=f(i/10);return 0===r?t:r<=h?void 0===u[r-1]?e.charAt(1):u[r-1]+e.charAt(1):t}n=u[i-1]}return void 0===n?"":n})}})},{"./_advance-string-index":35,"./_an-object":37,"./_fix-re-wks":64,"./_regexp-exec-abstract":118,"./_to-integer":138,"./_to-length":140,"./_to-object":141}],251:[function(t,e,n){"use strict";var u=t("./_an-object"),c=t("./_same-value"),l=t("./_regexp-exec-abstract");t("./_fix-re-wks")("search",1,function(i,r,s,a){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=a(s,t,this);if(e.done)return e.value;var n=u(t),i=String(this),r=n.lastIndex;c(r,0)||(n.lastIndex=0);var o=l(n,i);return c(n.lastIndex,r)||(n.lastIndex=r),null===o?-1:o.index}]})},{"./_an-object":37,"./_fix-re-wks":64,"./_regexp-exec-abstract":118,"./_same-value":120}],252:[function(t,e,n){"use strict";var h=t("./_is-regexp"),v=t("./_an-object"),b=t("./_species-constructor"),x=t("./_advance-string-index"),w=t("./_to-length"),$=t("./_regexp-exec-abstract"),f=t("./_regexp-exec"),i=t("./_fails"),j=Math.min,p=[].push,s="split",d="length",y="lastIndex",S=4294967295,k=!i(function(){RegExp(S,"y")});t("./_fix-re-wks")("split",2,function(r,o,_,m){var g;return g="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[d]||2!="ab"[s](/(?:ab)*/)[d]||4!="."[s](/(.?)(.?)/)[d]||1<"."[s](/()()/)[d]||""[s](/.?/)[d]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!h(t))return _.call(n,t,e);for(var i,r,o,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=void 0===e?S:e>>>0,l=new RegExp(t.source,a+"g");(i=f.call(l,n))&&!(u<(r=l[y])&&(s.push(n.slice(u,i.index)),1<i[d]&&i.index<n[d]&&p.apply(s,i.slice(1)),o=i[0][d],u=r,s[d]>=c));)l[y]===i.index&&l[y]++;return u===n[d]?!o&&l.test("")||s.push(""):s.push(n.slice(u)),s[d]>c?s.slice(0,c):s}:"0"[s](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:_.call(this,t,e)}:_,[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):g.call(String(n),t,e)},function(t,e){var n=m(g,t,this,e,g!==_);if(n.done)return n.value;var i=v(t),r=String(this),o=b(i,RegExp),s=i.unicode,a=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"y":"g"),u=new o(k?i:"^(?:"+i.source+")",a),c=void 0===e?S:e>>>0;if(0==c)return[];if(0===r.length)return null===$(u,r)?[r]:[];for(var l=0,h=0,f=[];h<r.length;){u.lastIndex=k?h:0;var p,d=$(u,k?r:r.slice(h));if(null===d||(p=j(w(u.lastIndex+(k?0:h)),r.length))===l)h=x(r,h,s);else{if(f.push(r.slice(l,h)),f.length===c)return f;for(var y=1;y<=d.length-1;y++)if(f.push(d[y]),f.length===c)return f;h=l=p}}return f.push(r.slice(l)),f}]})},{"./_advance-string-index":35,"./_an-object":37,"./_fails":63,"./_fix-re-wks":64,"./_is-regexp":81,"./_regexp-exec":119,"./_regexp-exec-abstract":118,"./_species-constructor":126,"./_to-length":140}],253:[function(e,t,n){"use strict";e("./es6.regexp.flags");function i(t){e("./_redefine")(RegExp.prototype,a,t,!0)}var r=e("./_an-object"),o=e("./_flags"),s=e("./_descriptors"),a="toString",u=/./[a];e("./_fails")(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?i(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):u.name!=a&&i(function(){return u.call(this)})},{"./_an-object":37,"./_descriptors":57,"./_fails":63,"./_flags":65,"./_redefine":117,"./es6.regexp.flags":248}],254:[function(t,e,n){"use strict";var i=t("./_collection-strong"),r=t("./_validate-collection");e.exports=t("./_collection")("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{"./_collection":50,"./_collection-strong":48,"./_validate-collection":148}],255:[function(t,e,n){"use strict";t("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":130}],256:[function(t,e,n){"use strict";t("./_string-html")("big",function(t){return function(){return t(this,"big","","")}})},{"./_string-html":130}],257:[function(t,e,n){"use strict";t("./_string-html")("blink",function(t){return function(){return t(this,"blink","","")}})},{"./_string-html":130}],258:[function(t,e,n){"use strict";t("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}})},{"./_string-html":130}],259:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_string-at")(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{"./_export":61,"./_string-at":128}],260:[function(t,e,n){"use strict";var i=t("./_export"),a=t("./_to-length"),u=t("./_string-context"),c="endsWith",l=""[c];i(i.P+i.F*t("./_fails-is-regexp")(c),"String",{endsWith:function(t,e){var n=u(this,t,c),i=1<arguments.length?e:void 0,r=a(n.length),o=void 0===i?r:Math.min(a(i),r),s=String(t);return l?l.call(n,s,o):n.slice(o-s.length,o)===s}})},{"./_export":61,"./_fails-is-regexp":62,"./_string-context":129,"./_to-length":140}],261:[function(t,e,n){"use strict";t("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}})},{"./_string-html":130}],262:[function(t,e,n){"use strict";t("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":130}],263:[function(t,e,n){"use strict";t("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":130}],264:[function(t,e,n){var i=t("./_export"),o=t("./_to-absolute-index"),s=String.fromCharCode,r=String.fromCodePoint;i(i.S+i.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;r<i;){if(e=+arguments[r++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{"./_export":61,"./_to-absolute-index":136}],265:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_string-context"),o="includes";i(i.P+i.F*t("./_fails-is-regexp")(o),"String",{includes:function(t,e){return!!~r(this,t,o).indexOf(t,1<arguments.length?e:void 0)}})},{"./_export":61,"./_fails-is-regexp":62,"./_string-context":129}],266:[function(t,e,n){"use strict";t("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}})},{"./_string-html":130}],267:[function(t,e,n){"use strict";var i=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":84,"./_string-at":128}],268:[function(t,e,n){"use strict";t("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":130}],269:[function(t,e,n){var i=t("./_export"),s=t("./_to-iobject"),a=t("./_to-length");i(i.S,"String",{raw:function(t){for(var e=s(t.raw),n=a(e.length),i=arguments.length,r=[],o=0;o<n;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}})},{"./_export":61,"./_to-iobject":139,"./_to-length":140}],270:[function(t,e,n){var i=t("./_export");i(i.P,"String",{repeat:t("./_string-repeat")})},{"./_export":61,"./_string-repeat":132}],271:[function(t,e,n){"use strict";t("./_string-html")("small",function(t){return function(){return t(this,"small","","")}})},{"./_string-html":130}],272:[function(t,e,n){"use strict";var i=t("./_export"),o=t("./_to-length"),s=t("./_string-context"),a="startsWith",u=""[a];i(i.P+i.F*t("./_fails-is-regexp")(a),"String",{startsWith:function(t,e){var n=s(this,t,a),i=o(Math.min(1<arguments.length?e:void 0,n.length)),r=String(t);return u?u.call(n,r,i):n.slice(i,i+r.length)===r}})},{"./_export":61,"./_fails-is-regexp":62,"./_string-context":129,"./_to-length":140}],273:[function(t,e,n){"use strict";t("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}})},{"./_string-html":130}],274:[function(t,e,n){"use strict";t("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}})},{"./_string-html":130}],275:[function(t,e,n){"use strict";t("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}})},{"./_string-html":130}],276:[function(t,e,n){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":133}],277:[function(t,e,n){"use strict";function i(t){var e=Q[t]=T(B[G]);return e._k=t,e}function r(t,e){j(t);for(var n,i=w(e=P(e)),r=0,o=i.length;r<o;)et(t,n=i[r++],e[n]);return t}function o(t){var e=q.call(this,t=O(t,!0));return!(this===Y&&l(Q,t)&&!l(W,t))&&(!(e||!l(this,t)||!l(Q,t)||l(this,U)&&this[U][t])||e)}function s(t,e){if(t=P(t),e=O(e,!0),t!==Y||!l(Q,e)||l(W,e)){var n=I(t,e);return!n||!l(Q,e)||l(t,U)&&t[U][e]||(n.enumerable=!0),n}}function a(t){for(var e,n=D(P(t)),i=[],r=0;n.length>r;)l(Q,e=n[r++])||e==U||e==d||i.push(e);return i}function u(t){for(var e,n=t===Y,i=D(n?W:P(t)),r=[],o=0;i.length>o;)!l(Q,e=i[o++])||n&&!l(Y,e)||r.push(Q[e]);return r}var c=t("./_global"),l=t("./_has"),h=t("./_descriptors"),f=t("./_export"),p=t("./_redefine"),d=t("./_meta").KEY,y=t("./_fails"),_=t("./_shared"),m=t("./_set-to-string-tag"),g=t("./_uid"),v=t("./_wks"),b=t("./_wks-ext"),x=t("./_wks-define"),w=t("./_enum-keys"),$=t("./_is-array"),j=t("./_an-object"),S=t("./_is-object"),k=t("./_to-object"),P=t("./_to-iobject"),O=t("./_to-primitive"),R=t("./_property-desc"),T=t("./_object-create"),M=t("./_object-gopn-ext"),E=t("./_object-gopd"),L=t("./_object-gops"),A=t("./_object-dp"),C=t("./_object-keys"),I=E.f,F=A.f,D=M.f,B=c.Symbol,N=c.JSON,z=N&&N.stringify,G="prototype",U=v("_hidden"),H=v("toPrimitive"),q={}.propertyIsEnumerable,V=_("symbol-registry"),Q=_("symbols"),W=_("op-symbols"),Y=Object[G],X="function"==typeof B&&!!L.f,K=c.QObject,J=!K||!K[G]||!K[G].findChild,Z=h&&y(function(){return 7!=T(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=I(Y,e);i&&delete Y[e],F(t,e,n),i&&t!==Y&&F(Y,e,i)}:F,tt=X&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},et=function(t,e,n){return t===Y&&et(W,e,n),j(t),e=O(e,!0),j(n),l(Q,e)?(n.enumerable?(l(t,U)&&t[U][e]&&(t[U][e]=!1),n=T(n,{enumerable:R(0,!1)})):(l(t,U)||F(t,U,R(1,{})),t[U][e]=!0),Z(t,e,n)):F(t,e,n)};X||(p((B=function(t){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=g(0<arguments.length?t:void 0),n=function(t){this===Y&&n.call(W,t),l(this,U)&&l(this[U],e)&&(this[U][e]=!1),Z(this,e,R(1,t))};return h&&J&&Z(Y,e,{configurable:!0,set:n}),i(e)})[G],"toString",function(){return this._k}),E.f=s,A.f=et,t("./_object-gopn").f=M.f=a,t("./_object-pie").f=o,L.f=u,h&&!t("./_library")&&p(Y,"propertyIsEnumerable",o,!0),b.f=function(t){return i(v(t))}),f(f.G+f.W+f.F*!X,{Symbol:B});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)v(nt[it++]);for(var rt=C(v.store),ot=0;rt.length>ot;)x(rt[ot++]);f(f.S+f.F*!X,"Symbol",{for:function(t){return l(V,t+="")?V[t]:V[t]=B(t)},keyFor:function(t){if(!tt(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),f(f.S+f.F*!X,"Object",{create:function(t,e){return void 0===e?T(t):r(T(t),e)},defineProperty:et,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:u});var st=y(function(){L.f(1)});f(f.S+f.F*st,"Object",{getOwnPropertySymbols:function(t){return L.f(k(t))}}),N&&f(f.S+f.F*(!X||y(function(){var t=B();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=e=i[1],(S(e)||void 0!==t)&&!tt(t))return $(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!tt(e))return e}),i[1]=e,z.apply(N,i)}}),B[G][H]||t("./_hide")(B[G],H,B[G].valueOf),m(B,"Symbol"),m(Math,"Math",!0),m(c.JSON,"JSON",!0)},{"./_an-object":37,"./_descriptors":57,"./_enum-keys":60,"./_export":61,"./_fails":63,"./_global":69,"./_has":70,"./_hide":71,"./_is-array":78,"./_is-object":80,"./_library":88,"./_meta":93,"./_object-create":97,"./_object-dp":98,"./_object-gopd":100,"./_object-gopn":102,"./_object-gopn-ext":101,"./_object-gops":103,"./_object-keys":106,"./_object-pie":107,"./_property-desc":115,"./_redefine":117,"./_set-to-string-tag":123,"./_shared":125,"./_to-iobject":139,"./_to-object":141,"./_to-primitive":142,"./_uid":146,"./_wks":151,"./_wks-define":149,"./_wks-ext":150}],278:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_typed"),o=t("./_typed-buffer"),c=t("./_an-object"),l=t("./_to-absolute-index"),h=t("./_to-length"),s=t("./_is-object"),a=t("./_global").ArrayBuffer,f=t("./_species-constructor"),p=o.ArrayBuffer,d=o.DataView,u=r.ABV&&a.isView,y=p.prototype.slice,_=r.VIEW,m="ArrayBuffer";i(i.G+i.W+i.F*(a!==p),{ArrayBuffer:p}),i(i.S+i.F*!r.CONSTR,m,{isView:function(t){return u&&u(t)||s(t)&&_ in t}}),i(i.P+i.U+i.F*t("./_fails")(function(){return!new p(2).slice(1,void 0).byteLength}),m,{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(c(this),t);for(var n=c(this).byteLength,i=l(t,n),r=l(void 0===e?n:e,n),o=new(f(this,p))(h(r-i)),s=new d(this),a=new d(o),u=0;i<r;)a.setUint8(u++,s.getUint8(i++));return o}}),t("./_set-species")(m)},{"./_an-object":37,"./_export":61,"./_fails":63,"./_global":69,"./_is-object":80,"./_set-species":122,"./_species-constructor":126,"./_to-absolute-index":136,"./_to-length":140,"./_typed":145,"./_typed-buffer":144}],279:[function(t,e,n){var i=t("./_export");i(i.G+i.W+i.F*!t("./_typed").ABV,{DataView:t("./_typed-buffer").DataView})},{"./_export":61,"./_typed":145,"./_typed-buffer":144}],280:[function(t,e,n){t("./_typed-array")("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],281:[function(t,e,n){t("./_typed-array")("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],282:[function(t,e,n){t("./_typed-array")("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],283:[function(t,e,n){t("./_typed-array")("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],284:[function(t,e,n){t("./_typed-array")("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],285:[function(t,e,n){t("./_typed-array")("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],286:[function(t,e,n){t("./_typed-array")("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],287:[function(t,e,n){t("./_typed-array")("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{"./_typed-array":143}],288:[function(t,e,n){t("./_typed-array")("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},{"./_typed-array":143}],289:[function(t,e,n){"use strict";function i(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var o,r=t("./_global"),s=t("./_array-methods")(0),a=t("./_redefine"),u=t("./_meta"),c=t("./_object-assign"),l=t("./_collection-weak"),h=t("./_is-object"),f=t("./_validate-collection"),p=t("./_validate-collection"),d=!r.ActiveXObject&&"ActiveXObject"in r,y="WeakMap",_=u.getWeak,m=Object.isExtensible,g=l.ufstore,v={get:function(t){if(h(t)){var e=_(t);return!0===e?g(f(this,y)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,y),t,e)}},b=e.exports=t("./_collection")(y,i,v,l,!0,!0);p&&d&&(c((o=l.getConstructor(i,y)).prototype,v),u.NEED=!0,s(["delete","has","get","set"],function(i){var t=b.prototype,r=t[i];a(t,i,function(t,e){if(!h(t)||m(t))return r.call(this,t,e);this._f||(this._f=new o);var n=this._f[i](t,e);return"set"==i?this:n})}))},{"./_array-methods":41,"./_collection":50,"./_collection-weak":49,"./_global":69,"./_is-object":80,"./_meta":93,"./_object-assign":96,"./_redefine":117,"./_validate-collection":148}],290:[function(t,e,n){"use strict";var i=t("./_collection-weak"),r=t("./_validate-collection"),o="WeakSet";t("./_collection")(o,function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},{"./_collection":50,"./_collection-weak":49,"./_validate-collection":148}],291:[function(t,e,n){"use strict";var i=t("./_export"),o=t("./_flatten-into-array"),s=t("./_to-object"),a=t("./_to-length"),u=t("./_a-function"),c=t("./_array-species-create");i(i.P,"Array",{flatMap:function(t,e){var n,i,r=s(this);return u(t),n=a(r.length),i=c(r,0),o(i,r,r,n,0,1,t,e),i}}),t("./_add-to-unscopables")("flatMap")},{"./_a-function":32,"./_add-to-unscopables":34,"./_array-species-create":44,"./_export":61,"./_flatten-into-array":66,"./_to-length":140,"./_to-object":141}],292:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-includes")(!0);i(i.P,"Array",{includes:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":34,"./_array-includes":40,"./_export":61}],293:[function(t,e,n){var i=t("./_export"),r=t("./_object-to-array")(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{"./_export":61,"./_object-to-array":109}],294:[function(t,e,n){var i=t("./_export"),u=t("./_own-keys"),c=t("./_to-iobject"),l=t("./_object-gopd"),h=t("./_create-property");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=c(t),r=l.f,o=u(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&h(s,e,n);return s}})},{"./_create-property":52,"./_export":61,"./_object-gopd":100,"./_own-keys":110,"./_to-iobject":139}],295:[function(t,e,n){var i=t("./_export"),r=t("./_object-to-array")(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{"./_export":61,"./_object-to-array":109}],296:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_core"),o=t("./_global"),s=t("./_species-constructor"),a=t("./_promise-resolve");i(i.P+i.R,"Promise",{finally:function(e){var n=s(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(n,e()).then(function(){return t})}:e,t?function(t){return a(n,e()).then(function(){throw t})}:e)}})},{"./_core":51,"./_export":61,"./_global":69,"./_promise-resolve":114,"./_species-constructor":126}],297:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_string-pad"),o=t("./_user-agent"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t,e){return r(this,t,1<arguments.length?e:void 0,!1)}})},{"./_export":61,"./_string-pad":131,"./_user-agent":147}],298:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_string-pad"),o=t("./_user-agent"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t,e){return r(this,t,1<arguments.length?e:void 0,!0)}})},{"./_export":61,"./_string-pad":131,"./_user-agent":147}],299:[function(t,e,n){"use strict";t("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{"./_string-trim":133}],300:[function(t,e,n){"use strict";t("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{"./_string-trim":133}],301:[function(t,e,n){t("./_wks-define")("asyncIterator")},{"./_wks-define":149}],302:[function(t,e,n){for(var i=t("./es6.array.iterator"),r=t("./_object-keys"),o=t("./_redefine"),s=t("./_global"),a=t("./_hide"),u=t("./_iterators"),c=t("./_wks"),l=c("iterator"),h=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),y=0;y<d.length;y++){var _,m=d[y],g=p[m],v=s[m],b=v&&v.prototype;if(b&&(b[l]||a(b,l,f),b[h]||a(b,h,m),u[m]=f,g))for(_ in i)b[_]||o(b,_,i[_],!0)}},{"./_global":69,"./_hide":71,"./_iterators":87,"./_object-keys":106,"./_redefine":117,"./_wks":151,"./es6.array.iterator":163}],303:[function(t,e,n){var i=t("./_export"),r=t("./_task");i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":61,"./_task":135}],304:[function(t,e,n){function i(r){return function(t,e){var n=2<arguments.length,i=n&&a.call(arguments,2);return r(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}}var r=t("./_global"),o=t("./_export"),s=t("./_user-agent"),a=[].slice,u=/MSIE .\./.test(s);o(o.G+o.B+o.F*u,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},{"./_export":61,"./_global":69,"./_user-agent":147}],305:[function(t,e,n){t("../modules/web.timers"),t("../modules/web.immediate"),t("../modules/web.dom.iterable"),e.exports=t("../modules/_core")},{"../modules/_core":51,"../modules/web.dom.iterable":302,"../modules/web.immediate":303,"../modules/web.timers":304}],306:[function(t,e,n){"use strict";t("./noConflict");var i,r=(i=t("core-js/library/fn/global"))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},{"./noConflict":1,"core-js/library/fn/global":14}],307:[function(t,e,n){"use strict";function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(s){var u,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function a(t,e,n,i){var o,s,a,u,r=e&&e.prototype instanceof m?e:m,c=Object.create(r.prototype),l=new P(i||[]);return c._invoke=(o=t,s=n,a=l,u=f,function(t,e){if(u===d)throw new Error("Generator is already running");if(u===y){if("throw"===t)throw e;return R()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var i=j(n,a);if(i){if(i===_)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===f)throw u=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=d;var r=h(o,s,a);if("normal"===r.type){if(u=a.done?y:p,r.arg===_)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u=y,a.method="throw",a.arg=r.arg)}}),c}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",_={};function m(){}function o(){}function c(){}var g={};g[r]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(O([])));b&&b!==t&&l.call(b,r)&&(g=b);var x=c.prototype=m.prototype=Object.create(g);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function $(u,c){var e;this._invoke=function(n,i){function t(){return new c(function(t,e){!function e(t,n,i,r){var o=h(u[t],u,n);if("throw"!==o.type){var s=o.arg,a=s.value;return a&&"object"===T(a)&&l.call(a,"__await")?c.resolve(a.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):c.resolve(a).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,r)})}r(o.arg)}(n,i,t,e)})}return e=e?e.then(t,t):t()}}function j(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,j(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,_;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,_):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:u,done:!0}}return o.prototype=x.constructor=c,c.constructor=o,c[i]=o.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(x),t},s.awrap=function(t){return{__await:t}},w($.prototype),$.prototype[n]=function(){return this},s.AsyncIterator=$,s.async=function(t,e,n,i,r){void 0===r&&(r=Promise);var o=new $(a(t,e,n,i),r);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(x),x[i]="Generator",x[r]=function(){return this},x.toString=function(){return"[object Generator]"},s.keys=function(n){var i=[];for(var t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return o.type="throw",o.arg=n,i.next=t,e&&(i.method="next",i.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=l.call(r,"catchLoc"),a=l.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&l.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),_}},s}("object"===(void 0===e?"undefined":T(e))?e.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},{}],308:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],309:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t){return t&&"object"===i(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],310:[function(t,e,p){var a=/%[sdj%]/g;p.format=function(t){if(!x(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(r<=n)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),s=i[n];n<r;s=i[++n])v(s)||!c(s)?o+=" "+s:o+=" "+u(s);return o},p.deprecate=function(t,e){if(w(global.process))return function(){return p.deprecate(t,e).apply(this,arguments)};if(!0===process.noDeprecation)return t;var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}};var i,r={};function u(t,e){var n={seen:[],stylize:s};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&p._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),d(n,t,n.depth)}function o(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function s(t,e){return t}function d(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==p.inspect&&(!n.constructor||n.constructor.prototype!==n)){var t=n.inspect(i,e);return x(t)||(t=d(e,t,i)),t}var r=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(x(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(e,n);if(r)return r;var o,s=Object.keys(n),a=(o={},s.forEach(function(t,e){o[t]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return y(n);if(0===s.length){if(k(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if($(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return y(n)}var c,l="",h=!1,f=["{","}"];m(n)&&(h=!0,f=["[","]"]),k(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return $(n)&&(l=" "+RegExp.prototype.toString.call(n)),j(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+y(n)),0!==s.length||h&&0!=n.length?i<0?$(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=h?function(e,n,i,r,t){for(var o=[],s=0,a=n.length;s<a;++s)P(n,String(s))?o.push(_(e,n,i,r,String(s),!0)):o.push("");return t.forEach(function(t){t.match(/^\d+$/)||o.push(_(e,n,i,r,t,!0))}),o}(e,n,i,a,s):s.map(function(t){return _(e,n,i,a,t,h)}),e.seen.pop(),function(t,e,n){if(60<t.reduce(function(t,e){return 0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,l,f)):f[0]+l+f[1]}function y(t){return"["+Error.prototype.toString.call(t)+"]"}function _(t,e,n,i,r,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),P(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?-1<(a=v(n)?d(t,u.value,null):d(t,u.value,n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),w(s)){if(o&&r.match(/^\d+$/))return a;s=(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function m(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function b(t){return"number"==typeof t}function x(t){return"string"==typeof t}function w(t){return void 0===t}function $(t){return c(t)&&"[object RegExp]"===n(t)}function c(t){return"object"==typeof t&&null!==t}function j(t){return c(t)&&"[object Date]"===n(t)}function S(t){return c(t)&&("[object Error]"===n(t)||t instanceof Error)}function k(t){return"function"==typeof t}function n(t){return Object.prototype.toString.call(t)}function l(t){return t<10?"0"+t.toString(10):t.toString(10)}p.debuglog=function(e){if(w(i)&&(i=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!r[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=process.pid;r[e]=function(){var t=p.format.apply(p,arguments);console.error("%s %d: %s",e,n,t)}}else r[e]=function(){};return r[e]},(p.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=m,p.isBoolean=g,p.isNull=v,p.isNullOrUndefined=function(t){return null==t},p.isNumber=b,p.isString=x,p.isSymbol=function(t){return"symbol"==typeof t},p.isUndefined=w,p.isRegExp=$,p.isObject=c,p.isDate=j,p.isError=S,p.isFunction=k,p.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},p.isBuffer=t("./support/isBuffer");var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}p.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[l(t.getHours()),l(t.getMinutes()),l(t.getSeconds())].join(":"),[t.getDate(),h[t.getMonth()],e].join(" ")),p.format.apply(p,arguments))},p.inherits=t("inherits"),p._extend=function(t,e){if(!e||!c(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},{"./support/isBuffer":309,inherits:308}],311:[function(t,e,n){"use strict";function i(t){this.id=t,this.volume=1,this.muted=!0,this.loopSound=null,this.loopId=null,this.loopVol=0,this.nextLoop=null}(e.exports=i).prototype.setVolume=function(t,e){var n=this.muted;this.muted=0===t||e||!1,null!=t?this.volume=t:t=this.volume,this.loopId&&(this.loopSound&&this.muted?this.loopSound.stop():this.loopSound&&this.loopSound.id===this.loopId?(this.loopSound.setVolume(Math.max(0,Math.min(1,t*this.loopVol))),n&&this.loopSound.play()):this.muted||this.audioManager.playLoopSound(this.id,this.loopId,this.loopVol))},i.prototype.setMute=function(t){this.setVolume(null,t)},i.prototype.playLoopSound=function(t,n,i,r,o,s){var a=this.audioManager,u=a.settings.defaultFade,e=a.settings.crossFading,c=this.loopSound,l=c&&c.id;if(n=Math.max(0,Math.min(1,n||1)),this.loopId=t,this.loopVol=n,!a.muted&&!this.muted){if(t===l&&c)return c.play(n*this.volume,i,r),void(this.nextLoop&&(this.nextLoop.cancelOnLoadCallbacks(),this.nextLoop=null));if(c=null,!this.nextLoop||this.nextLoop.id!==t){var h=this;e?(this.nextLoop&&this.nextLoop.cancelOnLoadCallbacks(),this.nextLoop=a.createSound(t,this.id),this.nextLoop.load(function(t){if(t)return h.nextLoop.unload(),void(h.nextLoop=null);f(h.loopSound),d()})):(this.nextLoop=a.createSound(t,this.id),f(this.loopSound,d))}}function f(t,e){if(!t)return e&&e();t.stopping||t.stop(function(){return a.freeSound(t),t=null,e&&e()})}function p(){var e=h.loopSound=h.nextLoop;h.nextLoop=null,e&&(e.setLoop(!0,o,s),e.fade=u,e.load(function(t){if(t)return e.unload(),void(h.loopSound=null);e.play(n*h.volume,i,r)}))}function d(){h.loopSound=null,window.setTimeout(p,0)}}},{}],312:[function(t,e,n){"use strict";var i=window.AudioContext||window.webkitAudioContext,r=t("./OrderedList"),o=t("./SoundBuffered.js"),s=t("./SoundGroup.js"),a=t("./AudioChannel.js"),u=t("./ISound.js");function c(t){this.soundsById={},this.soundGroupsById={},this.permanentSounds={},this.freeSoundPool=[],this.soundArchive=new r(function(){return 1}),this.soundGroupArchive=new r(function(){return 1}),this.soundArchiveById={},this.soundGroupArchiveById={},this.usedMemory=0,this.channels={},this.audioContext=null,this.muted=!1,this.settings={audioPath:"",maxSoundGroup:500,maxUsedMemory:300,defaultFade:2,maxPlayLatency:1e3,crossFading:!1,getFileUri:function(t,e){return t+e+".mp3"},getSoundConstructor:function(){return null}};for(var e=0;e<t.length;e++){var n=t[e];this.channels[n]=new a(n)}u.prototype.audioManager=this,s.prototype.audioManager=this,a.prototype.audioManager=this}i||(console.warn("Web Audio API is not supported on this platform. Fallback to regular HTML5 <Audio>"),o=t("./Sound.js"),window.Audio||(console.warn("HTML5 <Audio> is not supported on this platform. Sound features are unavailable."),o=u)),e.exports=c,e.exports.ISound=u,c.prototype.init=function(){if(!this.audioContext&&i)for(var t in this.audioContext=new i,o.prototype.audioContext=this.audioContext,this.soundsById)this.soundsById[t].init()},c.prototype.getEmptySound=function(t,e){var n,i=this.settings.getSoundConstructor(t,e);return i?n=new i:(0<this.freeSoundPool.length?(n=this.freeSoundPool.pop()).init():n=new o,n)},c.prototype.setup=function(t){for(var e in t){var n=t[e];this.setVolume(e,n.volume,n.muted)}},c.prototype.addChannel=function(t){this.channels[t]||(this.channels[t]=new a(t))},c.prototype.setVolume=function(t,e,n){var i=this.channels[t];i&&i.setVolume(e,n)},c.prototype.setMute=function(t){for(var e in void 0===t&&(t=!this.muted),this.muted=!!t,this.channels){var n=this.channels[e];if(n.loopSound)if(t)n.loopSound.stop();else{var i=n.muted;n.muted=!0,n.setVolume(null,i)}}},c.prototype.loadSound=function(t,e){var n=this.createSound(t);return n.load(e),n},c.prototype.createSound=function(t,e){var n=this.getSound(t);return n||((n=this.soundsById[t]=this.getEmptySound(e,t)).setId(t),n)},c.prototype.createSoundPermanent=function(t,e){var n=this.getSound(t);if(n)return n;var i=this.settings.getSoundConstructor(e,t)||o;return(n=this.permanentSounds[t]=new i).setId(t),n},c.prototype.getSound=function(t){var e=this.permanentSounds[t];return e||((e=this.soundsById[t])?e:(e=this.soundArchiveById[t])?(this.soundArchive.removeByRef(e.poolRef),e.poolRef=null,delete this.soundArchiveById[t],this.soundsById[t]=e):null)},c.prototype.getSoundGroup=function(t){var e=this.soundGroupsById[t];return e||((e=this.soundGroupArchiveById[t])?(this.soundGroupArchive.removeByRef(e.poolRef),e.poolRef=null,delete this.soundGroupArchiveById[t],e.verifySounds(),this.soundGroupsById[t]=e):null)},c.prototype.freeSound=function(t){var e=t.id;this.soundsById[e]&&delete this.soundsById[e],this.soundArchiveById[e]&&(this.soundArchive.removeByRef(t.poolRef),t.poolRef=null,delete this.soundArchiveById[e]),t.unload(),t instanceof o&&this.freeSoundPool.push(t)},c.prototype.playLoopSound=function(t,e,n,i,r,o,s){var a=this.channels[t];if(!a)return console.warn('Channel id "'+t+'" does not exist.');a.playLoopSound(e,n,i,r,o,s)},c.prototype.stopLoopSound=function(t){var e=this,n=this.channels[t];if(!n)return console.warn('Channel id "'+t+'" does not exist.');var i=n.loopSound;n.loopId=null,i&&i.stop(function(){e.freeSound(i),n.loopSound=null})},c.prototype.stopAllLoopSounds=function(){for(var t in this.channels)this.stopLoopSound(t)},c.prototype.release=function(){var t,e,n,i=this.settings.maxSoundGroup,r=this.settings.maxUsedMemory,o={};for(t in this.channels){var s=this.channels[t];s.loopSound&&(o[s.loopSound.id]=!0)}for(t in this.soundGroupsById)(e=this.soundGroupsById[t]).poolRef=this.soundGroupArchive.add(e),this.soundGroupArchiveById[t]=e,delete this.soundGroupsById[t];for(t in this.soundsById)o[t]||((n=this.soundsById[t]).poolRef=this.soundArchive.add(n),this.soundArchiveById[t]=n,delete this.soundsById[t]);for(var a=this.soundGroupArchive.getCount();i<a&&(e=this.soundGroupArchive.popFirst());)e.poolRef=null,delete this.soundGroupArchiveById[e.id],--a;for(;this.usedMemory>r&&(n=this.soundArchive.popFirst());)n.poolRef=null,delete this.soundArchiveById[n.id],this.freeSound(n)},c.prototype.playSound=function(t,e,n,i,r){if(!this.muted){var o=this.channels[t];if(!o.muted){var s=this.getSound(e);n=n||1,(s=s||this.createSound(e,t)).play(o.volume*n,i,r)}}},c.prototype.playSoundGroup=function(t,e,n,i,r){if(!this.muted){var o=this.channels[t];if(o&&!o.muted){var s=this.getSoundGroup(e);if(!s)return console.warn('SoundGroup "'+e+'" does not exist.');n=n||1,s.play(n*o.volume,i,r)}}},c.prototype.createSoundGroup=function(t,e,n){if(!this.getSoundGroup(t)){var i=new s(t,e.id,e.vol,e.pitch,n);this.soundGroupsById[t]=i}},c.prototype.createSoundGroups=function(t,e){var n=void 0!==e&&this.channels[e].muted;for(var i in t)this.createSoundGroup(i,t[i],n)}},{"./AudioChannel.js":311,"./ISound.js":313,"./OrderedList":314,"./Sound.js":315,"./SoundBuffered.js":316,"./SoundGroup.js":317}],313:[function(t,e,n){"use strict";function i(){this.playing=!1,this.stopping=!1,this.fade=0,this.usedMemory=0,this.poolRef=null,this.id=null,this.volume=1,this.pan=0,this.loop=!1,this.pitch=0,this._loaded=!1,this._loading=!1,this._unloading=!1,this._playTriggered=0,this._onLoadQueuedCallback=[]}(e.exports=i).prototype.setId=function(t){this.id=t,this._loaded=!1},i.prototype.load=function(t){return this.id?this._loaded?t&&t(null,this):(t&&this._onLoadQueuedCallback.push(t),this._loading?void 0:(this._loading=!0,this._load())):t&&t("noId")},i.prototype._finalizeLoad=function(t){var e=this.audioManager.settings.maxPlayLatency;this._loaded=!t,this._loading=!1;for(var n=0;n<this._onLoadQueuedCallback.length;n++)this._onLoadQueuedCallback[n](t,this);if(this._onLoadQueuedCallback=[],this._unloading)return this._unloading=!1,void this.unload();this._loaded&&this._playTriggered&&((this.loop||Date.now()-this._playTriggered<e)&&this._play(),this._playTriggered=0)},i.prototype.cancelOnLoadCallbacks=function(){this._onLoadQueuedCallback=[]},i.prototype.play=function(t,e,n){if(null!=t&&this.setVolume(t),null!=e&&this.setPan(e),!this._loaded)return this._playTriggered=Date.now(),void this.load();this.loop&&this.playing?this._updatePlayPitch(n):this._play(n)},i.prototype.init=function(){},i.prototype.setVolume=function(t){this.volume=t},i.prototype.setPan=function(t){this.pan=t},i.prototype.setLoop=function(t){this.loop=t},i.prototype.setPitch=function(t){this.pitch=t},i.prototype._updatePlayPitch=function(t){},i.prototype._play=function(t){this.playing=!0,console.log('ISound play call: "'+this.id+'"')},i.prototype.stop=function(t){return this.playing=!1,t&&t()},i.prototype._load=function(){return console.log("ISound load call: "+this.id),this._finalizeLoad(null)},i.prototype.unload=function(){return this._playTriggered=0,this.setLoop(!1),this.fade=0,this.pitch=0,this.stop(),this._loading?!(this._unloading=!0):(this.audioManager.usedMemory-=this.usedMemory,this.setVolume(1),this.setPan(0),this.id=null,this._loaded=!1,!(this.usedMemory=0))}},{}],314:[function(t,e,n){"use strict";function o(t,e,n,i){this.object=t,this.previous=e,this.next=n,this.container=i}function i(t){this.count=0,this.first=null,this.last=null,this.cmpFunc=t}i.prototype.add=function(t){var e=new o(t,null,null,this);if(this.count+=1,null===this.first)return this.first=e,this.last=e;var n=this.cmpFunc(t,this.first.object);if(n<0)return e.next=this.first,this.first.previous=e,this.first=e;var i,r=this.cmpFunc(t,this.last.object);if(0<=r)return e.previous=this.last,this.last.next=e,this.last=e;if(n+r<0){for(i=this.first.next;0<=this.cmpFunc(t,i.object);)i=i.next;e.next=i,e.previous=i.previous,e.previous.next=e,i.previous=e}else{for(i=this.last.previous;this.cmpFunc(t,i.object)<0;)i=i.previous;e.previous=i,e.next=i.next,e.next.previous=e,i.next=e}return e},i.prototype.removeByRef=function(t){return!(!t||t.container!==this)&&(--this.count,null===t.previous?this.first=t.next:t.previous.next=t.next,null===t.next?this.last=t.previous:t.next.previous=t.previous,t.previous=null,t.next=null,!(t.container=null))},i.prototype.moveToTheBeginning=function(t){return!(!t||t.container!==this)&&(null===t.previous||(t.previous.next=t.next,this.last===t?this.last=t.previous:t.next.previous=t.previous,t.previous=null,t.next=this.first,t.next.previous=t,this.first=t),!0)},i.prototype.moveToTheEnd=function(t){return!(!t||t.container!==this)&&(null===t.next||(t.next.previous=t.previous,this.first===t?this.first=t.next:t.previous.next=t.next,t.next=null,t.previous=this.last,t.previous.next=t,this.last=t),!0)},i.prototype.possess=function(t){return t&&t.container===this},i.prototype.popFirst=function(){var t=this.first;if(!t)return null;--this.count;var e=t.object;return this.first=t.next,null!==this.first&&(this.first.previous=null),t.next=null,t.container=null,e},i.prototype.popLast=function(){var t=this.last;if(!t)return null;--this.count;var e=t.object;return this.last=t.previous,null!==this.last&&(this.last.next=null),t.previous=null,t.container=null,e},i.prototype.getFirst=function(){return this.first&&this.first.object},i.prototype.getLast=function(){return this.last&&this.last.object},i.prototype.clear=function(){for(var t=this.first;t;t=t.next)t.container=null;this.count=0,this.first=null,this.last=null},i.prototype.getCount=function(){return this.count},i.prototype.forEach=function(t,e){for(var n=this.first;n;n=n.next)t(n.object,e)},i.prototype.forEachReverse=function(t,e){for(var n=this.last;n;n=n.previous)t(n.object,e)},i.prototype.reposition=function(t){if(t.container!==this)return this.add(t.object);var e=t.previous,n=t.next,i=t.object;for(null===n?this.last=e:n.previous=e,null===e?this.first=n:e.next=n;null!==e&&this.cmpFunc(i,e.object)<0;)e=(n=e).previous;for(;null!==n&&0<=this.cmpFunc(i,n.object);)n=(e=n).next;return null===(t.next=n)?this.last=t:n.previous=t,null===(t.previous=e)?this.first=t:e.next=t,t},e.exports=i},{}],315:[function(t,e,n){"use strict";var i=t("util").inherits,r=t("./ISound.js"),o={playAudioWhenScreenIsLocked:!1};function s(){r.call(this);var t=new Audio;t.loop=!1,t.type="audio/mpeg",this._audio=t,this.audioContext&&(this.source=this.audioContext.createMediaElementSource(t),this.source.connect(this.audioContext.destination))}i(s,r),(e.exports=s).prototype.setVolume=function(t){this.volume=this._audio.volume=t},s.prototype.setLoop=function(t){this.loop=this._audio.loop=t},s.prototype._load=function(){var e=this;function n(t){e._finalizeLoad(t)}function i(){this.removeEventListener("canplaythrough",i),this.removeEventListener("error",r),e.usedMemory=this.duration,e.audioManager.usedMemory+=this.duration,e._finalizeLoad(null)}function r(t){this.removeEventListener("canplaythrough",i),this.removeEventListener("error",r),n(t)}function o(t){e._loading=!0,e._audio.addEventListener("canplaythrough",i),e._audio.addEventListener("error",r),e._audio.src=t,e._audio.load()}var t=this.audioManager.settings.getFileUri,s=this.audioManager.settings.audioPath;if(2<t.length)t(s,this.id,function(t,e){if(t)return n(t);o(e)});else try{var a=t(s,this.id);if(!a)return n("emptyUri");o(a)}catch(t){n(t)}},s.prototype.unload=function(){r.prototype.unload.call(this)&&(this._audio.volume=1,this._audio.src="",this._audio.load())},s.prototype._play=function(t){this._audio.volume=this.volume,this._audio.pause(),this._audio.currentTime=0,this._audio.play(o),this.playing=!0},s.prototype.stop=function(t){return this._audio.pause(),this._audio.currentTime=0,this._playTriggered=0,this.playing=!1,t&&t()}},{"./ISound.js":313,util:310}],316:[function(t,e,n){"use strict";var i=t("util").inherits,r=t("./ISound.js");function o(){r.call(this),this.buffer=null,this.source=null,this.sourceConnector=null,this.gain=null,this.panNode=null,this.rawAudioData=null,this._playPitch=0,this._fadeTimeout=null,this._onStopCallback=null,this._audioNodeReady=!1,this._loopStart=0,this._loopEnd=0,this.init()}i(o,r),(e.exports=o).prototype._createAudioNodes=function(){if(!this._audioNodeReady&&this.audioContext){var t,e=this.audioContext,n=e.createGain();t=e.createStereoPanner?e.createStereoPanner():e.createPanner(),n.connect(t),t.connect(e.destination),n.gain.value=0,this.sourceConnector=n,this.gain=n.gain,this.panNode=t,this._audioNodeReady=!0}},o.prototype._destroyAudioNodes=function(){if(this._audioNodeReady){var t=this.audioContext,e=this.panNode,n=this.sourceConnector;n.disconnect(e),e.disconnect(t.destination),this.source&&(this.source.disconnect(n),this.source.onended=null,this.source=null),this.sourceConnector=null,this.gain=null,this.panNode=null,this.rawAudioData=null,this._audioNodeReady=!1}},o.prototype.init=function(){if(this._createAudioNodes(),this.rawAudioData){var e=this,n=this.audioManager.settings.maxPlayLatency;this.audioContext.decodeAudioData(this.rawAudioData,function(t){e.buffer=t,e.usedMemory=t.duration,e.audioManager.usedMemory+=t.duration,e.rawAudioData=null,e._loaded&&e._playTriggered&&((e.loop||Date.now()-e._playTriggered<n)&&e._play(),e._playTriggered=0)},function(){console.error("decode audio failed for sound ",e.id)})}},o.prototype.setVolume=function(t){if(this.volume=t,this.playing)if(this.fade){t<=0&&(t=1e-6);var e=this.audioContext.currentTime;this.gain.cancelScheduledValues(e),this.gain.setValueAtTime(this.gain.value||1e-6,e),this.gain.linearRampToValueAtTime(t,e+this.fade)}else this.gain.value=t},o.prototype.setPan=function(t){this.pan=t,this.panNode&&(this.panNode.pan?this.panNode.pan.value=t:this.panNode.setPosition(t,0,.2))},o.prototype.setLoop=function(t,e,n){this.loop=!!t,this._loopStart=e||0,this._loopEnd=n||0,this.source&&this.buffer&&(this.source.loop=t,this._setLoopPoints())},o.prototype._setLoopPoints=function(){this.source.loopStart=this._loopStart||0;var t=this._loopEnd;t<0&&(t=this.buffer.duration+t),t<0&&(t=0),this.source.loopEnd=t||this.buffer.duration},o.prototype.setPitch=function(t,e){this.pitch=t,this._setPlaybackRate(e)},o.prototype._updatePlayPitch=function(t){!t&&0!==t||t===this._playPitch||(this._playPitch=t,this._setPlaybackRate(0))},o.prototype._setPlaybackRate=function(t){if(this.source){var e=Math.pow(2,(this._playPitch+this.pitch)/12);if(t){var n=this.audioContext.currentTime;this.source.playbackRate.cancelScheduledValues(n),this.source.playbackRate.setValueAtTime(this.source.playbackRate.value||1e-6,n),this.source.playbackRate.linearRampToValueAtTime(e,n+t)}else this.source.playbackRate.value=e}},o.prototype._load=function(){var n=this;function i(t){n._finalizeLoad(t)}function r(t){n.buffer=t,n.usedMemory=t.duration,n.audioManager.usedMemory+=t.duration,n._finalizeLoad(null)}function o(t){var e=new XMLHttpRequest;e.responseType="arraybuffer",e.onreadystatechange=function(){if(4==~~e.readyState)return 200!=~~e.status&&0!=~~e.status?i("xhrError:"+e.status):void(n.audioContext?n.audioContext.decodeAudioData(e.response,r,i):(n.rawAudioData=e.response,n._finalizeLoad(null)))},e.open("GET",t,!0),e.send()}this._createAudioNodes();var t=this.audioManager.settings.getFileUri,e=this.audioManager.settings.audioPath;if(2<t.length)t(e,this.id,function(t,e){if(t)return i(t);o(e)});else try{var s=t(e,this.id);if(!s)return i("emptyUri");o(s)}catch(t){i(t)}},o.prototype.unload=function(){r.prototype.unload.call(this)&&(this._fadeTimeout&&(this._onStopCallback=null,this._stopAndClear()),this.buffer=null,this.source&&(this.source.onended=null,this.source.stop(0),this.source=null),this._destroyAudioNodes())},o.prototype._play=function(t){if(this.buffer){this.playing=!0;var e=this.audioContext.currentTime;if(this.gain.cancelScheduledValues(e),this.fade?(this.gain.setValueAtTime(this.gain.value||1e-6,e),this.gain.linearRampToValueAtTime(this.volume||1e-6,e+this.fade)):this.gain.value=this.volume,this._fadeTimeout)return this._onStopCallback=null,this.source.onended=null,this.stopping=!1,window.clearTimeout(this._fadeTimeout),void(this._fadeTimeout=null);this.source&&(this.source.disconnect(this.sourceConnector),this.source.onended=null);var n=this.source=this.audioContext.createBufferSource();n.connect(this.sourceConnector);var i=this;n.onended=function(){i.playing=!1,n.onended=null,i.source=null},this._playPitch=t||0,(t||this.pitch)&&this._setPlaybackRate(0),n.loop=this.loop,n.buffer=this.buffer,this._setLoopPoints(),n.start(0)}else this._playTriggered=Date.now()},o.prototype._stopAndClear=function(){this.stopping=!1,this.source.onended=null,this.source.stop(0),this.source=null,this._fadeTimeout&&(window.clearTimeout(this._fadeTimeout),this._fadeTimeout=null),this._onStopCallback&&(this._onStopCallback(),this._onStopCallback=null)},o.prototype.stop=function(t){if(!this.playing&&!this.stopping)return t&&t();if(this._playTriggered=0,this.stopping=!0,this.playing=!1,!this.source)return t&&t();if(this._onStopCallback=t,!this._fadeTimeout){if(this.fade){var e=this,n=this.audioContext.currentTime;return this.gain.cancelScheduledValues(n),this.gain.setValueAtTime(this.gain.value||1e-6,n),this.gain.linearRampToValueAtTime(1e-6,n+this.fade),void(this._fadeTimeout=window.setTimeout(function(){e._fadeTimeout=null,e._stopAndClear()},1e3*this.fade))}this._stopAndClear()}}},{"./ISound.js":313,util:310}],317:[function(t,e,n){"use strict";function i(t,e,n,i,r){this.id=t,this.soundIds=e,this.volumes=n||[],this.pitches=i||[],this.soundIndex=0,this.volIndex=0,this.pitchIndex=0,this.poolRef=null,this._ready=!1,0===this.volumes.length&&this.volumes.push(1),0===this.pitches.length&&this.pitches.push(0),r||this._createSounds()}(e.exports=i).prototype._createSounds=function(){for(var t=this.soundIds,e=0;e<t.length;e++)this.audioManager.loadSound(t[e]);this._ready=!0},i.prototype.play=function(t,e,n){if(0!==this.soundIds.length){this._ready||this._createSounds();var i=this.soundIds[this.soundIndex++],r=this.audioManager.getSound(i);if(!r)return console.warn("[Sound Group: "+this.id+"] sound id "+i+"  cannot be played.");t=t||1,n=n||0,t*=this.volumes[this.volIndex++],n+=this.pitches[this.pitchIndex++],r.play(t,e,n),this.soundIndex>=this.soundIds.length&&(this.soundIndex=0),this.volIndex>=this.volumes.length&&(this.volIndex=0),this.pitchIndex>=this.pitches.length&&(this.pitchIndex=0)}},i.prototype.verifySounds=function(){for(var t=0;t<this.soundIds.length;t++){var e=this.soundIds[t];this.audioManager.createSound(e)}}},{}],318:[function(t,e,n){"use strict";var s=/rgba?\(\s*([.0-9]+)\s*,\s*([.0-9]+)\s*,\s*([.0-9]+)\s*,?\s*([.0-9]+)?\s*\)/;function i(){this.r=0,this.g=0,this.b=0,this.a=void 0,this.string=""}(e.exports=i).prototype._setRGB=function(t,e,n){this.r=t,this.g=e,this.b=n},i.prototype.fromPixel=function(t,e){var n=t[e+0],i=t[e+1],r=t[e+2];return this.string="rgb("+n+","+i+","+r+")",this._setRGB(n,i,r),this},i.prototype.fromString=function(t){var e,n,i,r=(this.string=t).match(s);if(r)e=~~r[1],n=~~r[2],i=~~r[3],this._setRGB(e,n,i);else{var o="0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&");this._setRGB(o>>16,o>>8&255,255&o)}return this},i.prototype.fromRGB=function(t,e,n){return this._setRGB(t,e,n),this.string="rgb("+t+","+e+","+n+")",this},i.prototype.fromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.string=t.string,this}},{}],319:[function(t,e,n){"use strict";var u=t("../spritesheet/Sprite");function i(t,e,n){t._isNineSlice&&(t=t.asset);var i=(this.asset=t).path,r=0,o=0;if(t._isTileMap)throw new Error("TileMap cannot be used as NineSlice");var s=t.width,a=t.height;t._isSprite?(r=t.x,o=t.y,t=t.img):t._isTexture&&(t=t.canvas,i=""),this.w0=e,this.w1=s-1,this.w2=s-e-1,this.h0=n,this.h1=a-1,this.h2=a-n-1,this._a=new u(t,i,r,o,e,n),this._b=new u(t,i,r+e,o,1,n),this._c=new u(t,i,r+e+1,o,this.w2,n),this._d=new u(t,i,r,o+n,e,1),this._e=new u(t,i,r+e,o+n,1,1),this._f=new u(t,i,r+e+1,o+n,this.w2,1),this._g=new u(t,i,r,o+n+1,e,this.h2),this._h=new u(t,i,r+e,o+n+1,1,this.h2),this._i=new u(t,i,r+e+1,o+n+1,this.w2,this.h2),this._j=new u(t,i,r,o,e,a),this._k=new u(t,i,r+e,o,1,a),this._l=new u(t,i,r+e+1,o,this.w2,a),this._m=new u(t,i,r,o,s,n),this._n=new u(t,i,r,o+n,s,1),this._o=new u(t,i,r,o+n+1,s,this.h2)}(e.exports=i).prototype._isNineSlice=!0,i.prototype._draw=function(t,e,n,i,r){(i=Math.round(i))<0&&(e+=i,i=-i),(r=Math.round(r))<0&&(n+=r,r=-r);var o=this.w1+1,s=this.h1+1;if(i<=o&&r<=s)t.draw(this.asset,e,n);else{var a=e+this.w0,u=e+i-this.w2,c=n+this.h0,l=n+r-this.h2;if(r<=s)return t.draw(this._j,e,n),t.stretchDraw(this._k,a,n,i-this.w1,s),void t.draw(this._l,u,n);if(i<=o)return t.draw(this._m,e,n),t.stretchDraw(this._n,e,c,o,r-this.h1),void t.draw(this._o,e,l);t.draw(this._a,e,n),t.stretchDraw(this._b,a,n,i-this.w1,this.h0),t.draw(this._c,u,n),t.stretchDraw(this._d,e,c,this.w0,r-this.h1),t.stretchDraw(this._e,a,c,i-this.w1,r-this.h1),t.stretchDraw(this._f,u,c,this.w2,r-this.h1),t.draw(this._g,e,l),t.stretchDraw(this._h,a,l,i-this.w1,this.h2),t.draw(this._i,u,l)}},i.prototype.draw=function(t,e,n,i){this._draw($screen,t,e,n,i)}},{"../spritesheet/Sprite":334}],320:[function(t,e,n){"use strict";var s=t(".");function a(t){console.error('Could not find asset "'+t+'"')}function r(t,e,n){for(var i=t.split("/"),r=window.assets,o=i.pop();0<i.length;)if(!(r=r[i.shift()]))return void a(t);r[o]?r[o]=new s(r[o],e,n):a(t)}e.exports=function(t){if("Nine slices config"===t._type){var e=t.sprites;for(var n in e){var i=e[n];r(n,i.w,i.h)}}}},{".":319}],321:[function(t,e,n){"use strict";function i(t,e){this.width=t,this.height=e,this.camera={x:0,y:0},this._cursor={i:0,j:0},this._paper=0,this._pen=1,this._init()}function r(t,e){t.ox=0,t.oy=0,e._isImageWrapper&&(e=e.asset),e._isSprite?(t.ox=e.x,t.oy=e.y,t.tilesheet=e.img):e._isMap?(e.texture||e._prepareTexture(),t.tilesheet=e.texture.canvas):e._isTexture?t.tilesheet=e.canvas:(e instanceof Image||e instanceof HTMLCanvasElement)&&(t.tilesheet=e)}(e.exports=i).prototype.palette=[{string:"#000000",r:0,g:0,b:0},{string:"#FFFFFF",r:1,g:1,b:1}],i.prototype.ox=0,i.prototype.oy=0,i.setTileSize=function(){},i.prototype.setPalette=function(t){i.prototype.palette=t},i.prototype.setGlobalTilesheet=function(t){r(i.prototype,t)},i.prototype.setTilesheet=function(t){if(t)return r(this,t),this;delete this.tilesheet},i.prototype.setCamera=function(t,e){return this.camera.x=t||0,this.camera.y=e||0,this}},{}],322:[function(t,e,n){"use strict";var c=t("../domUtils/createCanvas"),l=[0,8338,45,11962,5588,21157,29354,10,17556,5265,21973,1488,5312,448,13824,5268,31599,29843,29671,31143,18925,31183,31689,18735,31727,18927,1040,5136,17492,3640,5393,8359,25450,23530,31467,25166,15211,29391,4815,27470,23533,29847,15142,23277,29257,23421,23403,11114,4843,26474,23279,14798,9367,27501,12141,24429,23213,14829,29351,25750,17553,13459,9402,28672,34,23530,31467,25166,15211,29391,4815,27470,23533,29847,15142,23277,29257,23421,23403,11114,4843,26474,23279,14798,9367,27501,12141,24429,23213,14829,29351,25686,9362,13587,42,21845];e.exports=function(){var t=c(64,36),e=t.getContext("2d");e.fillStyle="#FFF";for(var n=0;n<l.length;n++)for(var i=l[n],r=n%16,o=~~(n/16),s=0;s<15;s++){var a=s%3,u=~~(s/3);1==(i>>s&1)&&e.fillRect(4*r+a,6*o+u,1,1)}return t}},{"../domUtils/createCanvas":329}],323:[function(t,e,n){"use strict";function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=t("./index.js"),r=t("./minitext"),_=t("../webGL/batcher"),m=_.renderers,g=4,v=6,b=0,x=0,o=r(),w=o,s=i.prototype.resize;i.prototype.resize=function(t,e){return this._cursor.i=0,this._cursor.j=0,s.call(this,t,e),this};var a=i.prototype.cls;i.prototype.cls=function(){return a.call(this),this.locate(0,0),this},i.prototype.locate=function(t,e){return this._cursor.i=~~t,this._cursor.j=~~e,this},i.prototype.print=function(e,t,n){if("object"===y(e))try{e=JSON.stringify(e)}catch(t){e="[Object]"}else"string"!=typeof e&&(e=e.toString());var i=_.prepare(m.colorSprite,w,this),r=this.palette[this._pen],o=r.r,s=r.g,a=r.b;if(void 0!==t){t=~~Math.round(t-this.camera.x),n=~~Math.round(n-this.camera.y);for(var u=t,c=0;c<e.length;c++){if(10!==(d=e.charCodeAt(c))&&13!==d)if((d-=32)<0||255<d)t+=g;else{var l=g*(d%16)+b,h=v*~~(d/16)+x;i.pushSprite(t,n,g,v,l,h,o,s,a),t+=g}else n+=v,t=u}return this}c=this._cursor.i;for(var f=this._cursor.j,p=0;p<e.length;p++){var d;if(this.width-c*g<g&&(c=0,f+=1),this.height-f*v<v&&(this.textScroll(),--f,i=_.prepare(m.colorSprite,w,this)),10!==(d=e.charCodeAt(p))&&13!==d)if((d-=32)<0||255<d)c+=1;else{l=g*(d%16)+b,h=v*~~(d/16)+x;i.pushSprite(c*g,f*v,g,v,l,h,o,s,a),c+=1}else f+=1,c=0}return this._cursor.i=c,this._cursor.j=f,this},i.prototype.println=function(t){return this.print(t),this.print("\n"),this},i.prototype.textScroll=function(t){return void 0===t&&(t=1),this._cursor.j-=t,t*=v,this._copyTexture||(this._copyTexture=new i(this.width,this.height)),this._copyTexture.draw(this,0,0),this.cls(),this.draw(this._copyTexture,0,-t),this},i.prototype.setCharset=function(t){var e=this._cursor.i*g,n=this._cursor.j*v;g=~~((w=t||o).width/16),v=~~(w.height/6),this._cursor.i=Math.ceil(e/g),this._cursor.j=Math.ceil(n/v),x=b=0,w._isSprite&&(b=w.x,x=w.y,w=w.img)}},{"../webGL/batcher":338,"./index.js":321,"./minitext":322}],324:[function(t,e,n){"use strict";var h=t("./index.js"),i=t("../webGL/context"),f=t("../webGL/batcher"),r=i.gl,p=f.renderers,o=t("..").settings,u=~~o.tileSize.width,c=~~o.tileSize.height;function s(t,e){if(t.ox=0,t.oy=0,e._isImageWrapper&&(e=e.asset),e._isSprite)t.ox=e.x,t.oy=e.y,t.tilesheet=e.img;else{if(e._isMap)throw new Error("TileMap cannot be used as tilesheet if using webGL");e._isTexture?t.tilesheet=e.canvas:(e._isGlTexture||e instanceof Image||e instanceof HTMLCanvasElement)&&(t.tilesheet=e)}}h.prototype._init=function(){if(0===this.width||0===this.height)return this.ctx=null,void(this.framebuffer=null);this.ctx=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.ctx),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.width,this.height,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.framebuffer=r.createFramebuffer(),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.ctx,0)},h.prototype.setCamera=function(t,e){return this.camera.x=t||0,this.camera.y=e||0,this},h.prototype.sprite=function(t,e,n,i,r,o){if(e=Math.round((e||0)-this.camera.x),n=Math.round((n||0)-this.camera.y),e>=this.width||n>=this.height||e<=-u||n<=-c)return this;var s=t%16*u+this.ox,a=c*~~(t/16)+this.oy;return f.prepare(p.sprite,this.tilesheet,this).pushSprite(e,n,u,c,s,a,i,r,o),this},h.prototype.draw=function(t,e,n,i,r,o){if(!t)return console.error("Invalid asset"),this;if(t._isNineSlice)return t._draw(this,e,n,i,r),this;if(t===this&&(this._copyTexture||(this._copyTexture=new h(this.width,this.height)),this._copyTexture.draw(this,0,0),t=this._copyTexture),t._isTileMap)return t._draw(e,n,i,r,o,this),this;if(e=Math.round((e||0)-this.camera.x),n=Math.round((n||0)-this.camera.y),e>=this.width||n>=this.height)return this;if(t._isSprite){var s=t;t=s.img;var a=s.x,u=s.y,c=s.width,l=s.height;if(e<=-c||n<=-l)return this;f.prepare(p.sprite,t,this).pushSprite(e,n,c,l,a,u,i,r,o)}else{if(e<=-t.width||n<=-t.height)return this;f.prepare(p.sprite,t,this).pushSprite(e,n,t.width,t.height,0,0,i,r,o)}return this},h.prototype.stretchDraw=function(t,e,n,i,r){if(t._isSprite){var o=t;t=o.img;var s=o.x,a=o.y,u=o.width,c=o.height,l=~~Math.round((e||0)-this.camera.x),h=~~Math.round((n||0)-this.camera.y);return f.prepare(p.sprite,t,this).pushStretchSprite(l,h,i,r,s,a,u,c),this}t._isTexture&&(t=t.canvas);l=~~Math.round((e||0)-this.camera.x),h=~~Math.round((n||0)-this.camera.y);return f.prepare(p.sprite,t,this).pushStretchSprite(l,h,i,r,0,0,img.width,img.height),this},h.prototype.clear=function(){return f.flush(),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.viewport(0,0,this.width,this.height),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),this},h.prototype.cls=function(){var t=this.palette[this._paper];return f.flush(),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.viewport(0,0,this.width,this.height),r.clearColor(t.r/255,t.g/255,t.b/255,1),r.clear(r.COLOR_BUFFER_BIT),this},h.prototype.paper=function(t){return this._paper=t%this.palette.length,this},h.prototype.pen=function(t){return this._pen=t%this.palette.length,this},h.prototype.setTilesheet=function(t){if(t)return s(this,t),this;delete this.tilesheet},h.prototype.setGlobalTilesheet=function(t){s(h.prototype,t)},window.tilesheet=function(t){return h.prototype.setGlobalTilesheet(t)},window.texture=function(t){var e=new h(t.width,t.height);return e.clear().draw(t,0,0),e},h.prototype.rect=function(t,e,n,i){var r=this.palette[this._pen],o=f.prepare(p.color,null,this);return n<=2||i<=2?o.pushRect(t,e,n,i,r.r,r.g,r.b):(o.pushRect(t,e,n,1,r.r,r.g,r.b),o.pushRect(t,e+i-1,n,1,r.r,r.g,r.b),o.pushRect(t,e,1,i,r.r,r.g,r.b),o.pushRect(t+n-1,e,1,i,r.r,r.g,r.b)),this},h.prototype.rectf=function(t,e,n,i){var r=this.palette[this._paper];return f.prepare(p.color,null,this).pushRect(t,e,n,i,r.r,r.g,r.b),this},h.prototype.rectfill=h.prototype.rectf,h.prototype.resize=function(t,e){return this.width===t&&this.height===e||(this.width=t,this.height=e,this._init(),this._copyTexture&&(this._copyTexture=null)),this},h.prototype._isTexture=!0,h.prototype._isGlTexture=!0},{"..":331,"../webGL/batcher":338,"../webGL/context":339,"./index.js":321}],325:[function(t,e,n){"use strict";var i=t("../Texture"),r=t(".."),c=8,l=8;function h(t,e,n,i,r,o,s,a){this.x=~~t,this.y=~~e,this.sprite=~~n,this.flipH=!!i,this.flipV=!!r,this.flipR=!!o,this.flagA=!!s,this.flagB=!!a}function o(t,e){this._name="",this.width=0,this.height=0,this.items=[],this.texture=null,this.tilesheet=null,this._tilesheetPath="",t&&e&&this._init(t,e)}(e.exports=o).prototype._isTileMap=!0;var a,p,s={},u=[];o.getMap=function(t){return"string"==typeof t?s[t]:"number"==typeof t?u[t]:(console.error("Map does not exist",t),null)},o._checkBankFormat=function(t){return t?Array.isArray(t)?{_type:"maps",maps:t}:"maps"!==t._type?(console.warn("Map bank format incorrect"),{_type:"maps",maps:[]}):t:{_type:"maps",maps:[]}},o.loadBank=function(t){t=o._checkBankFormat(t),s={},u=[];for(var e=t.maps||[],n=0;n<e.length;n++)u.push((new o).load(e[n]))},o.setTileSize=function(t,e){c=~~t,l=~~e},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(t){this._name&&s[this._name]&&s[this._name]===this&&delete s[this._name],(this._name=t)&&!s[t]&&(s[t]=this)}}),o.prototype._init=function(t,e){this.width=t,this.height=e,this.items=[];for(var n=0;n<t;n++){this.items.push([]);for(var i=0;i<e;i++)this.items[n][i]=null}this.texture&&this.texture.resize(t*c,e*l)},o.prototype.resize=function(t,e){var n=this.items,i=Math.min(this.width,t),r=Math.min(this.height,e);this._init(t,e);for(var o=0;o<i;o++)for(var s=0;s<r;s++)this.items[o][s]=n[o][s];return this.redraw(),this},o.prototype.set=function(t,e,n,i,r,o,s,a){if(null==n)return this.remove(t,e);if(!(t<0||e<0||t>=this.width||e>=this.height)){var u=this.items[t][e]=new h(t,e,n,i,r,o,s,a);return this.texture&&(this.texture.ctx.clearRect(t*c,e*l,c,l),this.texture.sprite(u.sprite,u.x*c,u.y*l,u.flipH,u.flipV,u.flipR)),this}},o.prototype.remove=function(t,e){if(!(t<0||e<0||t>=this.width||e>=this.height))return this.items[t][e]=null,this.texture&&this.texture.ctx.clearRect(t*c,e*l,c,l),this},o.prototype.get=function(t,e){return t<0||e<0||t>=this.width||e>=this.height?null:this.items[t][e]},o.prototype.redraw=function(){if(!this.texture)return this;this.texture.clear();for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++){var n=this.items[t][e];n&&this.texture.sprite(n.sprite,n.x*c,n.y*l,n.flipH,n.flipV,n.flipR)}return this},o.prototype._prepareTexture=function(){this.texture=new i(this.width*c,this.height*l),this.texture.setTilesheet(this.tilesheet),this.redraw()},o.prototype.release=function(){this.texture=null},o.prototype.draw=function(t,e){this.texture||this._prepareTexture(),draw(this.texture,t,e)},o.prototype.setTilesheet=function(t){return this.tilesheet=t,this._tilesheetPath=t&&t.path||"",this.texture&&(this.texture.setTilesheet(t),this.redraw()),this},o.prototype._setTilesheetPath=function(t){if(this._tilesheetPath=t||"",!t)return this.setTilesheet();for(var e=t.split("/"),n=r.assets||{},i=0;i<e.length;i++)if(!(n=n[e[i]]))return console.warn("Could not find tilesheet",t);this.setTilesheet(n)},function(){for(var n="#$%&'()*+,-~/0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}. !",c={},t=0;t<n.length;t++)c[n[t]]=t;var l=n.length,h=l*l-1,f=Math.pow(2,13),o=h-f-1;function s(t){var e=t%l;return n[~~(t/l)]+n[e]}a=function(t){for(var e="",n=0,i=0;i<t.length;i++){var r=t[i];r===t[i+1]&&++n<o||(null===r&&(r=h),e+=s(r),n===o&&n--,0!==n&&(e+=s(f+n)),n=0)}return n===o&&n--,0!==n&&(e+=s(f+n)),e},p=function(t){for(var e=[],n=0;n<t.length;){var i=t[n++],r=t[n++],o=c[i]*l+c[r];if(o===h)e.push(null);else if(f<o)for(var s=o-f,a=e[e.length-1],u=0;u<s;u++)e.push(a);else e.push(o)}return e}}(),o.prototype.save=function(){for(var t=this.width,e=this.height,n=new Array(t*e),i=0;i<t;i++)for(var r=0;r<e;r++){var o=this.items[i][r];n[i+r*t]=o?o.sprite+(o.flipH<<8)+(o.flipV<<9)+(o.flipR<<10)+(o.flagA<<11)+(o.flagB<<12):null}return{w:t,h:e,name:this.name,sheet:this._tilesheetPath||"",data:a(n)}},o.prototype.load=function(t){this.texture=null;var e=t.w,n=t.h;this._init(e,n),this.name=t.name||"",this._setTilesheetPath(t.sheet);for(var i=p(t.data),r=0;r<e;r++)for(var o=0;o<n;o++){var s=i[r+o*e];if(null!==s){var a=255&s,u=s>>8&1,c=s>>9&1,l=s>>10&1,h=s>>11&1,f=s>>12&1;this.set(r,o,a,u,c,l,h,f)}}return this},o.prototype.copy=function(t,e,n,i){t=t||0,e=e||0,null==n&&(n=this.width),null==i&&(i=this.height);var r=new o(n,i);return r.paste(this,-t,-e),r},o.prototype.paste=function(t,e,n,i){e=e||0,n=n||0;for(var r=Math.min(t.width,this.width-e),o=Math.min(t.height,this.height-n),s=Math.max(0,-e),a=Math.max(0,-n),u=s;u<r;u++)for(var c=a;c<o;c++){var l=t.items[u][c];if(l)this.set(u+e,c+n,l.sprite,l.flipH,l.flipV,l.flipR,l.flagA,l.flagB);else{if(i)continue;this.remove(u+e,c+n)}}return this},o.prototype.clear=function(){for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++)this.items[t][e]=null;return this.texture&&this.texture.clear(),this},o.prototype.find=function(t,e,n){if(null===t)return this._findNull();void 0===e&&(e=null),void 0===n&&(n=null);for(var i=[],r=0;r<this.width;r++)for(var o=0;o<this.height;o++){var s=this.items[r][o];if(s){var a=null===e||s.flagA===e,u=null===n||s.flagB===n;s.sprite===t&&a&&u&&i.push(s)}}return i},o.prototype._findNull=function(){for(var t=[],e=0;e<this.width;e++)for(var n=0;n<this.height;n++)null===this.items[e][n]&&t.push({x:e,y:n});return t}},{"..":331,"../Texture":321}],326:[function(t,e,n){"use strict";var i=t("./index.js"),E=t("../Texture"),L=t("../webGL/batcher"),A=t(".."),r=A.settings,C=r.tileSize.width,I=r.tileSize.height,F=r.screen.width,D=r.screen.height,B=L.renderers.sprite,N={false:{false:{false:{flipH:!1,flipV:!1,flipR:!0},true:{flipH:!0,flipV:!0,flipR:!1}},true:{false:{flipH:!0,flipV:!1,flipR:!0},true:{flipH:!1,flipV:!0,flipR:!1}}},true:{false:{false:{flipH:!1,flipV:!0,flipR:!0},true:{flipH:!0,flipV:!1,flipR:!1}},true:{false:{flipH:!0,flipV:!0,flipR:!0},true:{flipH:!1,flipV:!1,flipR:!1}}}};i.prototype._prepareTexture=function(){},i.prototype.release=function(){},i.prototype.redraw=function(){},i.prototype.draw=function(t,e,n,i,r){this._draw(t,e,n,i,r,A.$screen)},i.prototype._draw=function(t,e,n,i,r,o){var s=this.tilesheet||E.prototype.tilesheet,a=L.prepare(B,s,o),u=A.$screen.camera;t=Math.round((t||0)-u.x),e=Math.round((e||0)-u.y);var c=this.tilesheet||assets.tilesheet,l=0,h=0;if(c._isSprite&&(l=c.x,h=c.y),n||i||r){var f,p;p=r?(f=this.height,this.width):(f=this.width,this.height);for(var d=Math.max(0,~~(-t/C)),y=Math.max(0,~~(-e/I)),_=Math.min(f,~~(1+(F-t)/C)),m=Math.min(p,~~(1+(D-e)/I)),g=y;g<m;g++)for(var v=d;v<_;v++){var b,x;if(x=r?(b=g,this.height-1-v):(b=v,g),n&&(b=this.width-1-b),i&&(x=this.height-1-x),T=this.get(b,x)){var w,$,j,S=(M=T.sprite)%16*C+l,k=~~(M/16)*I+h,P=t+v*C,O=e+g*I;if(r){var R=N[T.flipH][T.flipV][T.flipR];w=R.flipH,$=R.flipV,j=R.flipR,n&&($=!$),i&&(w=!w)}else w=T.flipH,$=T.flipV,j=T.flipR,n&&(w=!w),i&&($=!$);a.pushSprite(P,O,C,I,S,k,w,$,j)}}}else for(d=Math.max(0,~~(-t/C)),y=Math.max(0,~~(-e/I)),_=Math.min(this.width,~~(1+(F-t)/C)),m=Math.min(this.height,~~(1+(D-e)/I)),g=y;g<m;g++)for(v=d;v<_;v++){var T;if(T=this.get(v,g)){var M;S=(M=T.sprite)%16*C+l,k=~~(M/16)*I+h,P=t+v*C,O=e+g*I;a.pushSprite(P,O,C,I,S,k,T.flipH,T.flipV,T.flipR)}}},e.exports=i},{"..":331,"../Texture":321,"../webGL/batcher":338,"./index.js":325}],327:[function(t,e,n){"use strict";function p(t,e){var n=new Image;n.onload=function(){this.onload=null,this.onerror=null,e&&e(null,this)},n.onerror=function(){this.onload=null,this.onerror=null,e&&e("img:"+t)},n.src=t}function d(t,e){var n=new Audio;function i(){e&&e(null,n),n.removeEventListener("canplaythrough",i),n.removeEventListener("error",r)}function r(){e&&e("snd:load"),n.removeEventListener("canplaythrough",i),n.removeEventListener("error",r)}n.preload=!0,n.loop=!1,n.addEventListener("canplaythrough",i),n.addEventListener("error",r),n.src=t,n.load()}n.loadData=function(t,e,n){var i=new XMLHttpRequest;i.responseType=e||"arraybuffer",i.onreadystatechange=function(){if(4==~~i.readyState)return 200!=~~i.status&&0!=~~i.status?n&&n("xhrError:"+i.status):n&&n(null,i.response)},i.open("GET",t,!0),i.send()},n.loadJson=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==~~n.readyState)return 200!=~~n.status?e("xhrError:"+n.status):e&&e(null,JSON.parse(n.response))},n.open("GET",t,!0),n.send()},n.loadImage=p,n.loadSound=d,n.preloadStaticAssets=function(i,r,o){var a=i.dat,s=i.img.length,u=s+i.snd.length,c=i.root,l=0,h=0;function f(){var n,t,e=l+h;o&&o(l,e,u,e/u),t=e<s?(n=i.img[e],p):(n=i.snd[e-s],d),h+=1,t(c+n,function(t,e){t||function(t,e){var n=t.split("/"),i=n.pop().split(".");i.pop(),i=i.join(".");for(var r=a,o=0,s=n.length;o<s;o++)r=r[n[o]];r[i]=e,n.push(i),e.name=i,e.path=n.join("/")}(n,e),(l+=1)+--h<u?f():0===h&&r(null,a)})}if(0===u)return r(null,a);for(var t=Math.min(5,u-1),e=0;e<=t;e++)f()}},{}],328:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,r;i=window,r=function(){return i={},r.m=n=[function(t,e,n){var r=n(4);function i(){this.name="",this.speed=20,this.pmin=0,this.pmax=127,this.snap=!1,this.steps=[],this.audio=null}(t.exports=i).prototype.serialize=function(){for(var t="",e=0;e<this.steps.length;e++)t+=this.steps[e].serialize();return{n:this.name,i:[this.speed,this.pmin,this.pmax,~~this.snap],s:t}},i.prototype.deserialize=function(t){this.name=t.n,this.speed=t.i[0],this.pmin=t.i[1],this.pmax=t.i[2],this.snap=!!t.i[3],this.audio=null,this.steps=[];for(var e=t.s,n=0;n<e.length;n+=3){var i=new r;i.deserialize(e,n),this.steps.push(i)}return this},i.prototype.check=function(){11<this.name.length&&(this.name=this.name.substr(0,11)),this.speed=Math.max(0,Math.min(53,~~this.speed)),this.pmin=Math.max(0,Math.min(101,~~this.pmin)),this.pmax=Math.max(26,Math.min(127,~~this.pmax));for(var t=0;t<this.steps.length;t++)this.steps[t].check()}},function(t,e){e.SAMPLE_RATE=44100,e.CHUNK_LENGTH=50},function(t,e,n){var i=n(3),r=n(0),o=new(n(6)),s=audioManager.getEmptySound().__proto__.constructor;if(!s.prototype._createAudioNodes)throw new Error("webAudio required");function a(t){s.call(this),this._data=t}function u(t){var e=new a(t);return t.audio=e}inherits(a,s),a.prototype.load=function(t){if(this._loaded)return t&&t(null,this);t&&this._onLoadQueuedCallback.push(t),this.buffer=o.generateSound(this._data),this.usedMemory=this.buffer.duration,this.audioManager.usedMemory+=this.buffer.duration,this._finalizeLoad(null)},r.prototype.play=function(t,e,n){this.audio?this.audio.play(t,e,n):u(this).play(t,e,n)};var c=new i,l=[];e.loadProgram=function(t){c.deserialize(t),assets.bleeper={};for(var e=l.length=0;e<c.sounds.length;e++){var n=c.sounds[e],i=u(n);l.push(i);var r=n.name;r&&(assets.bleeper[r]=i,audioManager.permanentSounds[r]=i)}return c},e.sounds=l},function(t,e,n){var r=n(0);function i(){this.version=1,this.sounds=[]}(t.exports=i).prototype.serialize=function(){for(var t=[],e=0;e<this.sounds.length;e++)t.push(this.sounds[e].serialize());return{_type:"Bleeper program",v:this.version,s:t}},i.prototype.deserialize=function(t){if("Bleeper program"!==t._type)throw new Error("Incorrect data type");this.version=t.v,this.sounds.length=0;for(var e=t.s,n=0;n<e.length;n++){var i=new r;i.deserialize(e[n]),this.sounds.push(i)}return this},i.prototype.check=function(){if(0!==this.sounds.length)for(var t=0;t<this.sounds.length;t++)this.sounds[t].check();else this.sounds.push(new r)}},function(t,e,n){var r=n(5);function i(){this.wave=0,this.pitch=0,this.volume=0}(t.exports=i).prototype.serialize=function(){var t=this.wave,e=this.pitch;return 92<this.pitch&&(t+=8,e-=92),r.encodeUint6(t)+r.encodeUint6(e)+r.encodeUint6(this.volume)},i.prototype.deserialize=function(t,e){var n=r.decodeUint6(t,e),i=r.decodeUint6(t,e+1);return this.volume=r.decodeUint6(t,e+2),8<=n&&(n-=8,i+=92),this.wave=n,this.pitch=i,this},i.prototype.check=function(){this.wave=Math.max(0,Math.min(7,~~this.wave)),this.pitch=Math.max(0,Math.min(93,~~this.pitch)),this.volume=Math.max(0,Math.min(62,~~this.volume))}},function(t,e){for(var n="#$%&'()*+,-~/0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}. !",r=n.length,o={},i=0;i<n.length;i++)o[n[i]]=i;e.encodeUint13=function(t){return n[~~(t/r)]+n[t%r]},e.encodeUint6=function(t){return n[t]},e.decodeUint13=function(t,e){var n=t[e],i=t[e+1];return o[n]*r+o[i]},e.decodeUint6=function(t,e){return o[t[e]]}},function(t,e,n){var c=n(7),i=n(8),r=n(1),l=r.SAMPLE_RATE,h=r.CHUNK_LENGTH;function o(){this.oscillator=new i}(t.exports=o).prototype.generateSound=function(t){var e=t.steps;if(0===e.length)return null;var n=(t.speed+1)*h,i=e.length*n+100,r=c.createBuffer(1,i,l),o=r.getChannelData(0);this.oscillator.reset();for(var s=0,a=0;s<e.length;s++){var u=e[s];this.oscillator.setStep(t,u),this.oscillator.generate(o,a,a+n),a+=n}return this.oscillator.generateEndDamping(o,a,a+100),r}},function(t,e){var n=new window.AudioContext;t.exports=n},function(t,e,n){var i=n(9),r=n(1).SAMPLE_RATE,o=2*Math.PI,s=[0,.12,.25,.37,.5,.62,.75,.87,.87,.75,.62,.5,.37,.25,.12,0,-.12,-.25,-.37,-.5,-.62,-.75,-.87,-1,-1,-.87,-.75,-.62,-.5,-.37,-.25,-.12];function a(){this._amp=1,this._oscPos=0,this._oscInc=0,this._oscState=1,this._oscOut=0,this._duty=0,this._prevOut=0,this.generate=this._generatePulse}(t.exports=a).prototype.reset=function(){this._oscPos=0,this._oscState=1,this._oscOut=0,this._prevOut=0},a.prototype.setStep=function(t,e){var n=t.pmin+(t.pmax-t.pmin-20)*e.pitch/93;switch(n=20+90*n/107,t.snap&&(n=Math.round(n)),this._oscInc=i.noteToFreq(n)/r,this._amp=e.volume/63,e.wave){case 0:this.generate=this._generatePulse,this._duty=.06;break;case 1:this.generate=this._generatePulse,this._duty=.12;break;case 2:this.generate=this._generatePulse,this._duty=.25;break;case 3:this.generate=this._generatePulse,this._duty=.5;break;case 4:this.generate=this._generateTriangle;break;case 5:this.generate=this._generateSine;break;case 6:this.generate=this._generateSaw,this._amp*=2;break;case 7:this.generate=this._generateNoise,this._oscInc=2.9*this._oscInc+.01}},a.prototype._generatePulse=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++)this._oscPos+=this._oscInc,1<this._oscPos&&(this._oscPos=this._oscPos%1),i=this._oscPos>this._duty?this._amp:-this._amp,t[r]=i;this._prevOut=i},a.prototype._generateTriangle=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++)this._oscPos+=this._oscInc,1<this._oscPos&&(this._oscPos=this._oscPos%1),i=s[~~(32*this._oscPos)]*this._amp,t[r]=i;this._prevOut=i},a.prototype._generateSine=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++)this._oscPos+=this._oscInc,1<this._oscPos&&(this._oscPos=this._oscPos%1),i=Math.sin(this._oscPos*o)*this._amp,t[r]=i;this._prevOut=i},a.prototype._generateSaw=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++)this._oscPos+=this._oscInc,1<this._oscPos&&(this._oscPos=this._oscPos%1),i=(this._oscPos-.5)*this._amp,t[r]=i;this._prevOut=i},a.prototype._generateNoise=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++){if(this._oscPos+=this._oscInc,1<this._oscPos){this._oscPos=this._oscPos%1;var o=!(16384&this._oscState)^!(8192&this._oscState);this._oscState=32767&(this._oscState<<1|o),this._oscOut=(16384&this._oscState)>>14}i=(this._oscOut-.5)*this._amp,t[r]=i}this._prevOut=i},a.prototype.generateEndDamping=function(t,e,n){for(var i=this._prevOut,r=e;r<n;r++)i*=.98,t[r]=i}},function(t,e){for(var r=[],n=0;n<128;n++)r.push(440*Math.pow(2,(n-69)/12));e.noteToFreqTable=r,e.noteToFreq=function(t){t<0&&(t=0),127<t&&(t=127);var e=~~t,n=t-e,i=r[e];return i+n*(r[1+e]-i)}}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2);function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i},"object"==(void 0===n?"undefined":o(n))&&"object"==(void 0===e?"undefined":o(e))?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==(void 0===n?"undefined":o(n))?n.bleeper=r():i.bleeper=r()},{}],329:[function(t,e,n){"use strict";e.exports=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}},{}],330:[function(t,e,n){"use strict";var h=["A","B","X","Y","lb","rb","lt","rt","back","start","lp","rp","up","down","left","right"],i=!(!navigator||!navigator.getGamepads),f=!1,p=.2;function r(){this.available=!1,this.btn={},this.btnp={},this.btnr={},this.x=0,this.y=0,this.z=0,this.w=0,this.lt=0,this.rt=0,this._setupButtons()}r.prototype._setupButtons=function(){for(var t=0;t<h.length;t++){var e=h[t];this.btn[e]=!1,this.btnp[e]=!1,this.btnr[e]=!1}};var d=[new r,new r,new r,new r,window],o=new r;var s=i?function(){for(var t=navigator.getGamepads(),e=0;e<4;e++){var n=t[e],i=d[e];if(n){var r,o,s,a;i.available=!0,f&&(r=i.btn.right,o=i.btn.left,a=i.btn.down,s=i.btn.up);for(var u=0;u<h.length;u++){var c=h[u],l=n.buttons[u].pressed;i.btnp[c]=!i.btn[c]&&l,i.btnr[c]=i.btn[c]&&!l,i.btn[c]=l}i.x=n.axes[0],i.y=n.axes[1],i.z=n.axes[2],i.w=n.axes[3],i.lt=n.buttons[6].value,i.rt=n.buttons[7].value,f&&(i.btn.right=i.btn.right||i.x>p,i.btn.left=i.btn.left||i.x<-p,i.btn.down=i.btn.down||i.y>p,i.btn.up=i.btn.up||i.y<-p,i.btnp.right=i.btn.right&&!r,i.btnp.left=i.btn.left&&!o,i.btnp.down=i.btn.down&&!a,i.btnp.up=i.btn.up&&!s,i.btnr.right=!i.btn.right&&r,i.btnr.left=!i.btn.left&&o,i.btnr.down=!i.btn.down&&a,i.btnr.up=!i.btn.up&&s)}else i.available=!1}return d}:function(){return d};n.mapAnalogStickToDpad=function(t){f=!0,p=void 0===t?.3:t},n.update=function(){window.gamepads=s(),window.gamepad=function(){for(var t=0;t<h.length;t++){var e=h[t];o.btnp[e]=btnp[e]||d[0].btnp[e]||d[1].btnp[e]||d[2].btnp[e]||d[3].btnp[e],o.btnr[e]=btnr[e]||d[0].btnr[e]||d[1].btnr[e]||d[2].btnr[e]||d[3].btnr[e],o.btn[e]=btn[e]||d[0].btn[e]||d[1].btn[e]||d[2].btn[e]||d[3].btn[e]}return o.btn.up&&o.btn.down&&(o.btn.down=!1),o.btn.right&&o.btn.left&&(o.btn.left=!1),o}()}},{}],331:[function(t,e,n){"use strict";e.exports={}},{}],332:[function(t,e,n){"use strict";e.exports=function(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}},{}],333:[function(t,e,n){"use strict";var c=null;!function r(o,s,a){function u(e,t){if(!s[e]){if(!o[e]){if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[e]={exports:{}};o[e][0].call(i.exports,function(t){return u(o[e][1][t]||t)},i,i.exports,r,o,s,a)}return s[e].exports}for(var c=null,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){e.exports=function(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}},{}],2:[function(t,e,n){function i(t){this.color=0,this.steps=[],this.frozen=!1;for(var e=0;e<t;e++){var n=new r(e);this.steps.push(n)}}var r=t("./Step"),o=(e.exports=i).prototype;o.$15=function(){for(var t=null,e=this.steps.length-1;0<=e;e--){var n=this.steps[e];if(n.$1i){var i=new r(n.index);i.note=-1,i.$1g=n.$1i,i.next=t,n.next=i}else n.next=t;n.$26||(t=n)}},o.$14=function(t){this.color=t.c||0;for(var e=t.s,n=0,i=0;i<this.steps.length;i++)n=this.steps[i].$14(e,n);this.$15()}},{"./Step":4}],3:[function(t,e,n){function i(t,e){this.album=t,this.index=e,this.name="untitled",this.author="",this.infos="",this.bpm=130,this.$k=32,this.speed=4,this.groove=[],this.highlight=16,this.loop=0,this.length=0,this.tracks=[],this.effects=[],this.$t=null;for(var n=t.trackCount,i=0;i<n;i++){var r=new o(this,i);this.tracks.push(r)}}var s=t("./Pattern"),o=t("./Track");(e.exports=i).prototype.$14=function(t){this.name=t.n||"",this.author=t.a||"",this.infos=t.i||"",this.bpm=t.b,this.$k=t.l,this.speed=t.s,this.groove=t.g,this.highlight=t.h,this.loop=t.o||0,this.$t=new s(this.$k),this.$t.frozen=!0;for(var e=t.t,n=this.length=0;n<e.length;n++){var i=this.tracks[n];i.$14(e[n]),this.length=Math.max(this.length,i.sequence.length)}var r=t.e||[];this.effects=[];for(n=0;n<4;n++){var o=r[n];o?this.effects.push({id:o.i||0,params:o.p||{}}):this.effects.push(null)}}},{"./Pattern":2,"./Track":5}],4:[function(t,e,n){function u(t,e){return l[t]*a.length+l[e]}function c(t,e,n,i){var r=u(t,e);n["fx"+i]=r%h,n["fv"+i]=~~(r/h)}function i(t,e,n,i){this.id=t,this.value=e,this.x=n,this.y=i}function r(t){this.index=t,this.$26=!0,this.next=null,this.note=null,this.inst=null,this.vol=null,this.fx1=null,this.fx2=null,this.fv1=0,this.fv2=0,this.$2n=[],this.$2o=[],this.$1g=0,this.$1i=0}var o=t("../constants").$1s,s=t("./encoding"),a=s.$1v,l=s.$25,h=s.$i,f=(e.exports=r).prototype;f.$x=function(t,e){if(t!==o.$1c)if(t!==o.$1d){var n=new i(t,e,e>>4,15&e);t===o.$2s?this.$2n.push(n):this.$2o.push(n)}else this.$1i=e/256;else this.$1g=e/256},f.$1e=function(){this.$26=!(null!==this.note||null!==this.inst||null!==this.vol||null!==this.fx1||null!==this.fx2),this.$2n=[],this.$2o=[],this.$1g=0,this.$1i=0,null!==this.fx2&&this.$x(this.fx2,this.fv2),null!==this.fx1&&this.$x(this.fx1,this.fv1)},f.$14=function(t,e){this.note=null,this.inst=null,this.vol=null,this.fx1=null,this.fx2=null;var n=l[t[e++]],i=n>>1&1,r=n>>2&1,o=n>>3&1,s=n>>4&1;if(1&n){var a=n>>5&1;this.note=a?-1:u(t[e++],t[e++])}return i&&(this.inst=l[t[e++]]),r&&(this.vol=l[t[e++]]),o&&c(t[e++],t[e++],this,1),s&&c(t[e++],t[e++],this,2),this.$1e(),e}},{"../constants":13,"./encoding":6}],5:[function(t,e,n){function i(t,e){this.index=e,this.song=t,this.synthId=0,this.patterns=[],this.sequence=[]}var o=t("./Pattern"),r=(e.exports=i).prototype;r.$2=function(t){var e=this.song.length;if(e<=t){var n=this.song.loop;t=(t-n)%(e-n)+n}if(t>this.sequence.length)return this.song.$t;var i=this.sequence[t];return-1===i?this.song.$t:this.patterns[i]},r.$js=function(){return this.song.album.instruments[this.synthId]},r.$14=function(t){this.synthId=t.y||0,this.sequence=t.s,this.patterns=[];for(var e=t.p,n=this.song.$k,i=0;i<e.length;i++){var r=new o(n);r.$14(e[i]),this.patterns.push(r)}}},{"./Pattern":2}],6:[function(t,e,n){for(var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&'()*+,-~/:;<=>?@[]^_`{|}. !",r={},o=0;o<i.length;o++)r[i[o]]=o;n.$1v=i,n.$25=r,n.$i=32},{}],7:[function(t,e,n){function i(){this.version=0,this.trackCount=8,this.instruments={},this.songs=[],this.samples=[],this.path=""}var o=t("./Song");(e.exports=i).prototype.$14=function(t){var e=t.v||0,n=t.s||[];this.version=e,this.trackCount=t.t,this.songs=[],this.instruments=t.i,this.samples=t.a;for(var i=0;i<n.length;i++){var r=new o(this,i);r.$14(n[i]),this.songs.push(r)}}},{"./Song":3}],8:[function(t,e,n){function i(t,e){this.index=t,this.sequencer=e,this.effector=null,this.params=null,this.buffL=new Float32Array(s),this.buffR=new Float32Array(s)}var r=t("../constants"),o=t("../synths").getEffector,s=r.$h,a=(e.exports=i).prototype;a.loadEffect=function(t){if(t){this.effector=o(t.id,this.sequencer);var e=t.params;for(var n in e)this.effector[n]=e[n]}else this.effector=null},a.clearBuffer=function(){if(this.effector)for(var t=0;t<s;t++)this.buffL[t]=0,this.buffR[t]=0},a.process=function(t){this.effector&&this.effector.process(this.buffL,this.buffR,this.sequencer.buffL,this.sequencer.buffR,t)}},{"../constants":13,"../synths":27}],9:[function(t,e,n){function i(t,e){this.index=t,this.sequencer=e,this.muted=!1,this.synth=null,this.data=null,this.$u=0,this.$1w=null,this.$1f=0,this.output=this.sequencer}var r=t("../synths").getSynth,o=t("../constants").$1s,s=(e.exports=i).prototype;s.restart=function(t){this.synth&&(this.synth.$27(),this.$u=t||0,this.$1w=this.data.$2(this.$u).steps[0],this.$3())},s.loadData=function(t){this.data=t,this.synth=r(t.synthId,this.sequencer),this.output=this.sequencer,this.restart()},s.$y=function(t){if(t){null!==t.vol&&this.synth.$1q(t.vol),null!==t.inst&&this.synth.$n(this.sequencer.$j(this.index,t.inst));for(var e=0;e<t.$2n.length;e++){var n=t.$2n[e];this.synth.$2t(n.id,n.value,n.x,n.y)}null!==t.note&&(-1===t.note?this.synth.$27():this.synth.$2m(t.note));for(e=0;e<t.$2o.length;e++){(n=t.$2o[e]).id===o.$12?this.output=this.sequencer.effects[n.value]||this.sequencer:this.synth.$2t(n.id,n.value,n.x,n.y)}}},s.$3=function(){var t=this.sequencer,e=this.$1w,n=t.$w[e.index%t.$w.length];this.$1f=this.$u*t.$1y+(e.index+e.$1g)*t.$1z+n},s.$b=function(){this.$1w=this.$1w.next,this.$1w||(this.$u+=1,this.$1w=this.data.$2(this.$u).steps[0]),this.$3()},s.$1x=function(t){if(this.synth&&!this.muted){var e=this.sequencer.t;this.$1f<=e&&(this.$y(this.$1w),this.$b());for(var n=0,i=e+t;this.$1f<i;){var r=~~(this.$1f-e);r<0&&(r=0),this.synth.$1x(this.output.buffL,this.output.buffR,n,r),n=r,this.$y(this.$1w),this.$b()}this.synth.$1x(this.output.buffL,this.output.buffR,n,t)}}},{"../constants":13,"../synths":27}],10:[function(t,e,n){function i(){this.tracks=[],this.effects=[],this.buffers=[],this.album=null,this.song=null,this.$1z=0,this.$1y=0,this.$w=[0],this.synth=null,this.t=0,this.stopped=!0,this.$1r=null,this.$16=null,this.$2kLength=0,this.buffL=null,this.buffR=null,this.effects.push(this);for(var t=0;t<4;t++)this.effects.push(new u(t,this));this.$4=[]}var r=t("./loadAudioBuffer"),o=t("../constants"),s=t("../audioContext"),a=t("./Track"),u=t("./Effect"),c=o.$11,l=(e.exports=i).prototype;l.$e=function(){this.$16||(this.$1r=s.createGain(),this.$1r.connect(s.destination),this.$1r.gain.value=.5,this.createScriptProcessor())},i.prototype.createScriptProcessor=function(){if(this.$2kLength!==o.$h){this.$2kLength=o.$h,this.$16&&this.$16.disconnect(this.$1r);var t=s.createScriptProcessor(o.$h,0,2);t.onaudioprocess=this.onAudioProcess.bind(this),t.connect(this.$1r),this.$16=t}},l.onAudioProcess=function(t){var e,n=t.outputBuffer,i=this.buffL=n.getChannelData(0),r=this.buffR=n.getChannelData(1);for(e=0;e<o.$h;e++)i[e]=0,r[e]=0;for(e=0;e<this.$4.length;e++)this.$4[e].clearBuffer();if(!this.stopped){for(e=0;e<this.tracks.length;e++)this.tracks[e].$1x(o.$h);for(e=0;e<this.$4.length;e++)this.$4[e].process(o.$h);this.t+=o.$h}},l.$13=function(){for(var t=0;t<this.tracks.length;t++){var e=this.tracks[t].synth;e&&e.reset()}},l.play=function(){this.$q(0)},l.$q=function(t){if(this.song){this.t=t*this.$1y;for(var e=0;e<this.tracks.length;e++)this.tracks[e].restart(t);this.stopped=!1}},l.stop=function(){this.stopped=!0,this.$13()},l.$j=function(t,e){var n=this.song.tracks[t].synthId,i=this.album.instruments[n];return i[e%i.length]},l.loadAlbum=function(t,e){this.stop(),this.album=t,this.song=null,this.tracks=[];for(var n=t.trackCount,i=0;i<n;i++){var r=new a(i,this);this.tracks.push(r)}this.loadAudioBuffers(e)},l.loadAudioBuffers=function(t){var e=this.album.samples;this.buffers=[];for(var n=0;n<e.length;n++)this.buffers.push(null),this.loadAudioBufferInIndex(e[n],n)},l.loadAudioBufferInIndex=function(t,n){var i=this.buffers;r(t,function(t,e){return t?void console.error(t):void(i[n]=e.getChannelData(0))},this.album.path)},l.$d=function(t){if(!this.album)return console.error("No album loaded");var e=this.album.songs[t];if(!e)return console.error("No song at index");this.song=e,this.$1b();for(var n=0;n<this.tracks.length;n++){this.tracks[n].loadData(e.tracks[n])}for(n=1;n<this.effects.length;n++){this.effects[n].loadEffect(e.effects[n-1])}this.$p(),this.synth=this.tracks[0].synth,this.$13()},l.$p=function(){this.$4=[];for(var t=1;t<this.effects.length;t++){var e=this.effects[t];e.effector&&this.$4.push(e)}},l.$1b=function(){this.$1z=60*c/this.song.bpm/this.song.speed,this.$1y=this.$1z*this.song.$k,this.$v()},l.$v=function(){this.$w=[0];var t=this.song.groove;if(t&&!(t.length<2)){for(var e=0,n=0;n<t.length;n++)e+=t[n];var i=e/t.length,r=t[0];for(n=1;n<t.length;n++){var o=(r-i*n)/i*this.$1z;this.$w.push(o),r+=t[n]}}}},{"../audioContext":12,"../constants":13,"./Effect":8,"./Track":9,"./loadAudioBuffer":11}],11:[function(t,e,n){function r(t,e){this.uri=t,this.buffer=null,this.error=null,this.loading=!1,this.onLoad=[],this.albumPath=e}var i=t("../audioContext"),o={};r.prototype.load=function(t){return this.error||this.buffer?t(this.error,this.buffer):(this.onLoad.push(t),void(this.loading||this.initiateLoad()))},r.prototype.initiateLoad=function(){this.loading=!0;var t,e=this;(t=new XMLHttpRequest).responseType="arraybuffer",t.onreadystatechange=function(){if(4==~~t.readyState)return 200!=~~t.status&&0!=~~t.status?e.completeLoad("xhrError:"+t.status):void i.decodeAudioData(t.response,function(t){return e.completeLoad(null,t)},e.completeLoad.bind(e))},t.open("GET",this.uri,!0),t.send()},r.prototype.completeLoad=function(t,e){this.buffer=e,this.error=t;for(var n=0;n<this.onLoad.length;n++)this.onLoad[n](t,e);this.onLoad=[]},e.exports=function(t,e,n){var i=o[t];(i=i||(o[t]=new r(t,n))).load(e)}},{"../audioContext":12}],12:[function(t,e,n){var i=t("./constants"),r=new window.AudioContext({sampleRate:i.$11});e.exports=r},{"./constants":13}],13:[function(t,e,n){n.$h=1024,n.$11=44100,n.$r=n.$11/64,n.$1s={$1t:0,$23:1,$24:2,$2v:3,$2s:4,$8:5,$g:6,$1c:7,$1d:8,$12:9,PANORAMIC:10},n.$1u=1,n.$5=2,n.$9=32,n.$6=4,n.TAU=2*Math.PI},{}],14:[function(t,e,n){for(var r=[],i=0;i<128;i++)r.push((o=i,440*Math.pow(2,(o-69)/12)));var o;n.$a=r,n.$1h=function(t){t<0&&(t=0),127<t&&(t=127);var e=~~t,n=t-e,i=r[e];return i+n*(r[1+e]-i)}},{}],15:[function(t,e,n){var i=t("./audioContext"),r=t("./Album"),o=t("./Sequencer"),s=new r,a=new o;a.$e();var u={};c={context:i,output:a.$1r,loadData:function(t){s.$14(t),a.loadAlbum(s),u={};for(var e=0;e<s.songs.length;e++){var n=s.songs[e];u[n.name]=e}},playSong:function(t){u[t]&&(t=u[t]),a.$d(~~t),a.play()},stop:function(){a.stop()},$1q:function(t){a.$1r.gain.value=Math.max(0,Math.min(t,1))}}},{"./Album":7,"./Sequencer":10,"./audioContext":12}],16:[function(t,e,n){function i(){this._time=11025,this.f=.4,this.c=.6,this.$2kL=new Float32Array(u),this.$2kR=new Float32Array(u),this.$21=0,this._filterStateL=0,this._filterStateR=0}var u=44100,r=(e.exports=i).prototype;i.getDefaultParams=function(){return{t:.25,f:.4,c:.6,p:!1}},r.process=function(t,e,n,i,r){for(var o=0;o<r;o++){var s=this.$2kR[this.$21]*this.f,a=this.$2kL[this.$21]*this.f;this._filterStateL=a*this.c+this._filterStateL*(1-this.c),a=t[o]+this._filterStateL,this._filterStateR=s*this.c+this._filterStateR*(1-this.c),s=e[o]+this._filterStateR,this.p?(this.$2kR[(this.$21+this._time)%u]=a,this.$2kL[(this.$21+this._time)%u]=s):(this.$2kL[(this.$21+this._time)%u]=a,this.$2kR[(this.$21+this._time)%u]=s),this.$21+=1,this.$21>=u&&(this.$21=0),n[o]+=a,i[o]+=s}},Object.defineProperty(r,"t",{set:function(t){this._time=Math.max(100,~~(t*u))}})},{}],17:[function(t,e,n){function i(t){this.synth=t,this.$2p=0,this.$2l=d,this.$2c=0,this.out=0,this.instrument=null}function r(){this.note=0,this.volume=0,this.playing=!1,this.$2q=0,this.$m=0,this.instrument=null,this.$2w=0,this._panL=1,this._panR=1,this.$2wL=this.$2w,this.$2wR=this.$2w,this.$1m=null,this.$1p=0,this.$1n=0,this.$1o=0,this.$2e=0,this.$2f=0,this.$2g=0,this.$2j=0,this.$2h=0,this.$2i=0,this.$19=!1,this.$2d=0,this.$1l=null,this.$20=0,this._damping=!1,this._dampVal=0,this._lastOut=0,this.$1j=[new i(this),new i(this),new i(this),new i(this)],this.$n(this.$1())}var o=t("../constants"),s=t("../noteUtils"),a=o.$1s,u=o.$11,c=u/60,l=(o.$1u,o.TAU),h=o.$5,f=o.$6,p=o.$9,d=0,y=i.prototype;y.$n=function(t){this.instrument=t},y.$28=function(){this.$2c=0,this.$2l=4,this.$2p=0},y.$1x=function(){switch(this.$2l){case d:return;case 2:break;case 4:this.$2c+=this.instrument.a/64,1<=this.$2c&&(this.$2c=1,this.$2l=3);break;case 3:this.$2c-=this.instrument.d/64,this.$2c<=this.instrument.s&&(this.$2c=this.instrument.s,1===this.synth.instrument.c?this.$2l=1:this.$2l=2);break;case 1:this.$2c-=this.instrument.r/64,this.$2c<=0&&(this.$2c=0,this.$2l=d,this.out=0)}var t=this.synth.$1j,e=this.instrument.c,n=0;n+=e[0]*t[0].out,n+=e[1]*t[1].out,n+=e[2]*t[2].out,n+=e[3]*t[3].out,this.$2p+=this.synth.$2q*this.instrument.m,1<=this.$2p&&(this.$2p=this.$2p%1),this.out=this.$2c*Math.sin(l*(this.$2p+n))};var _=(e.exports=r).prototype;_.$1=function(){return{n:"",l:{},p:0,c:1,o:[{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:1}]}},_.$n=function(t){this.instrument=t,this.$1j[0].$n(t.o[0]),this.$1j[1].$n(t.o[1]),this.$1j[2].$n(t.o[2]),this.$1j[3].$n(t.o[3])},_.reset=function(){this.$27(),this.$1q(15),this.$19=!1,this.$1l=null,this.$20=0,this.$2g=0,this.$2i=0,this.$17(),this.$18()},_.$2m=function(t){null!==this.$1m?(this.note+=this.$1n,this.$1o=0,this.$1n=t-this.note,this.$1p=this.$1n/(this.$1m+1)/h,this.$1m=null):(this.note=t,this.$1n=0,this.$1p=0,this.$1o=0),this.playing=!0,this.$m=0,this.$2d=0,this.$1j[0].$28(),this.$1j[1].$28(),this.$1j[2].$28(),this.$1j[3].$28(),this.$17(),this._damping=!1},_.$27=function(){this.playing&&(0===this.instrument.c?(this.$1j[0].$2l=1,this.$1j[1].$2l=1,this.$1j[2].$2l=1,this.$1j[3].$2l=1):(this.playing=!1,this._damping=!0,this._dampVal=this._lastOut))},_.$17=function(){var t=0;0<this.$2f&&(t=this.$2g*Math.sin(this.$2e*l));var e=this.note+this.instrument.p+this.$20+this.$1o+t;this.$2q=s.$1h(e)/u},_._updatePannoramic=function(t,e){this._panL=t/15,this._panR=e/15,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},_.$18=function(){var t=1;0<this.$2h&&(t=1-this.$2i*(Math.sin(this.$2j*l)+1)),this.$2w=this.volume*t,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},_.$c=function(){var t=!1,e=!1;this.$19&&(this.$2d=(this.$2d+1)%this.$1l.length,this.$20=this.$1l[this.$2d],e=!0),0!==this.$1p&&(this.$1o+=this.$1p,e=!0,(0<this.$1p&&this.$1o>=this.$1n||this.$1p<0&&this.$1o<=this.$1n)&&(this.$1o=this.$1n,this.$1p=0)),0<this.$2f&&(this.$2e+=this.$2f,1<this.$2e&&--this.$2e,e=!0),0<this.$2h&&(this.$2j+=this.$2h,1<this.$2j&&--this.$2j,t=!0),e&&this.$17(),t&&this.$18()},_.$1q=function(t){this.volume=t/40,this.$18()},_.$2t=function(t,e,n,i){var r=!1,o=!1;switch(t){case a.$1t:this.$20=0,(this.$2d=0)===e?(this.$19=!1,r=!(this.$1l=null)):(this.$19=!0,this.$1l=0===i?[0,n]:[0,n,i]);break;case a.$24:this.$2f=n/64,this.$2g=i/16,0===i&&(r=!0);break;case a.$23:this.$2h=n/64,this.$2i=i/p,o=!0;break;case a.$2s:this.$1m=e/f;break;case a.$g:this.note+=this.$1n,this.$1o=0,this.$1n=i,this.$1p=i/(n+1)/h;break;case a.$8:this.note+=this.$1n,this.$1o=0,this.$1n=-i,this.$1p=-i/(n+1)/h;break;case a.PANORAMIC:this._updatePannoramic(n,i)}r&&this.$17(),o&&this.$18()},_.$1x=function(t,e,n,i){if(this._damping){for(var r=n;r<i;r++)if(this._dampVal*=.98,t[r]+=this._dampVal,e[r]+=this._dampVal,-.01<this._dampVal&&this._dampVal<.01)return void(this._damping=!1)}else if(this.playing){for(r=n;r<i;r++){if(++this.$m>=c){if(this.$m-=c,this.$1j[0].$2l===d&&this.$1j[1].$2l===d&&this.$1j[2].$2l===d&&this.$1j[3].$2l===d)return void(this.playing=!1);this.$c()}this.$1j[0].$1x(),this.$1j[1].$1x(),this.$1j[2].$1x(),this.$1j[3].$1x();var o=0;o+=this.$1j[0].instrument.v*this.$1j[0].out,o+=this.$1j[1].instrument.v*this.$1j[1].out,o+=this.$1j[2].instrument.v*this.$1j[2].out,o+=this.$1j[3].instrument.v*this.$1j[3].out,t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}this._lastOut=o}}},{"../constants":13,"../noteUtils":14}],18:[function(t,e,n){function i(t){this.feedback=0,this.$2k=new Float32Array(t),this._bufsize=t,this._index=0,this._filtered=0,this._damp1=0,this._damp2=0}function r(t){this.$2k=new Float32Array(t),this._bufsize=t,this._index=0}function o(){this._roomSize=0,this._roomSize1=0,this._damp=0,this._damp1=0,this._wet=0,this._wet1=0,this._wet2=0,this._dry=0,this._width=0,this.combL=[],this.combR=[],this.allpassL=[],this.allpassR=[];for(var t=0;t<8;t++)this.combL.push(new i(u[t])),this.combR.push(new i(u[t]+23));for(var e=0;e<4;e++)this.allpassL.push(new r(c[e])),this.allpassR.push(new r(c[e]+23))}var s=i.prototype;s.setDamp=function(t){this._damp1=t,this._damp2=1-t},s.mute=function(){for(var t=0;t<this._bufsize;t++)this.$2k[t]=0},s.process=function(t){var e=this.$2k[this._index];return this._filtered=e*this._damp2+this._filtered*this._damp1,this.$2k[this._index]=t+this._filtered*this.feedback,++this._index>=this._bufsize&&(this._index=0),e};var a=r.prototype;a.mute=function(){for(var t=0;t<this._bufsize;t++)this.$2k[t]=0},a.process=function(t){var e=this.$2k[this._index];return this.$2k[this._index]=t+.5*e,++this._index>=this._bufsize&&(this._index=0),e-t};var u=[1116,1188,1277,1356,1422,1491,1557,1617],c=[556,441,341,225],l=(e.exports=o).prototype;o.getDefaultParams=function(){return{d:.8,w:.3,z:.8,a:.5,i:.8}},l.process=function(t,e,n,i,r){for(var o,s=0;s<r;s++){var a=0,u=0;for(o=0;o<8;o++)a+=this.combL[o].process(t[s]),u+=this.combR[o].process(e[s]);for(o=0;o<4;o++)a=this.allpassL[o].process(a),u=this.allpassR[o].process(u);n[s]+=a*this._wet1+u*this._wet2+t[s]*this._dry,i[s]+=u*this._wet1+a*this._wet2+e[s]*this._dry}},l.mute=function(){for(var t=0;t<8;t++)this.combL[t].mute(),this.combR[t].mute();for(t=0;t<4;t++)this.allpassL[t].mute(),this.allpassR[t].mute()},l.update=function(){this._wet1=this._wet*(this._width/2+.5),this._wet2=this._wet*((1-this._width)/2),this._roomSize1=this._roomSize,this._damp1=this._damp;for(var t=0;t<8;t++)this.combL[t].feedback=this._roomSize1,this.combR[t].feedback=this._roomSize1,this.combL[t].setDamp(this._damp1),this.combR[t].setDamp(this._damp1)},Object.defineProperty(l,"d",{set:function(t){this._dry=+t}}),Object.defineProperty(l,"w",{set:function(t){this._wet=.06*t,this.update()}}),Object.defineProperty(l,"z",{set:function(t){this._roomSize=.28*t+.7,this.update()}}),Object.defineProperty(l,"a",{set:function(t){this._damp=.4*t,this.update()}}),Object.defineProperty(l,"i",{set:function(t){this._width=t,this.update()}})},{}],19:[function(t,e,n){function i(){this.note=0,this.volume=0,this.playing=!1,this.$m=0,this.$2w=1.4,this._panL=1,this._panR=1,this.$2wL=this.$2w,this.$2wR=this.$2w,this.$29=0,this.$2a=0,this.$1k=1,this.$2b=0,this.$2u=l[0],this.$2j=0,this.$2h=0,this.$2i=0,this.$1a=new o(1,15),this.$o=new o(0,1),this.$10=new o(0,1)}var r=t("../constants"),o=t("./TableEnvelope"),s=r.$1s,a=r.$11/60,u=2*Math.PI,c=[.01,.02,.04,.053,.08,.105,.15,.2,.25,.3,.35,.4,.45,.5,.7,.9],l=[8192,256,6144,4480],h=(e.exports=i).prototype;h.$1=function(){return{n:""}},h.$n=function(t){this.$1a.set(t.a),this.$o.set(t.p),this.$10.set(t.d)},h.reset=function(){this.$27(),this.$1q(15),this.$29=0,this.$2i=0,this.$17(),this.$18()},h.$2m=function(t){this.note=t,this.$m=0,this.$1a.$2r(),this.$o.$2r(),this.$10.$2r(),this.$17(),this.$18(),this.playing=!0},h.$27=function(){this.playing=!1},h.$1q=function(t){this.volume=t/30,this.$18()},h.$2t=function(t,e,n,i){var r=!1;switch(t){case s.$23:this.$2h=n/64,this.$2i=i/32,r=!0;break;case s.$2v:this.$2u=l[e%l.length];break;case s.PANORAMIC:this._updatePannoramic(n,i)}r&&this.$18()},h._updatePannoramic=function(t,e){this._panL=t/15,this._panR=e/15,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},h.$18=function(){var t=1;0<this.$2h&&(t=1-this.$2i*(Math.sin(this.$2j*u)+1)),this.$2w=1.4*this.volume*t,this.$2w*=this.$1a.value,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},h.$17=function(){var t=~~(this.note+this.$o.value);this.$2a=c[t%16]},h.$c=function(){var t=!1,e=!1;0<this.$2h&&(this.$2j+=this.$2h,1<this.$2j&&--this.$2j,t=!0),this.$1a.enabled&&this.$1a.clock()&&(t=!0),this.$o.enabled&&this.$o.clock()&&(e=!0),this.$10.enabled&&this.$10.clock()&&(this.$2u=l[~~this.$10.value%l.length]),e&&this.$17(),t&&this.$18()},h.$1x=function(t,e,n,i){if(this.playing)for(var r=n;r<i;r++){if(++this.$m>=a&&(this.$m-=a,this.$c()),this.$29+=this.$2a,1<this.$29){this.$29=this.$29%1;var o=!(16384&this.$1k)^!(this.$1k&this.$2u);this.$1k=32767&(this.$1k<<1|o),this.$2b=(16384&this.$1k)>>14}var s=this.$2b-.5;t[r]+=s*this.$2wL,e[r]+=s*this.$2wR}}},{"../constants":13,"./TableEnvelope":25}],20:[function(t,e,n){function i(){s.call(this),this.$2w=.25,this.$2u=.25,this.$10=new o(0,1)}for(var r=t("../constants"),o=t("./TableEnvelope"),s=t("./SimpleOscillator"),a=t("pixelbox/inherits"),u=r.$11/60,c=[1/8,.25,.5,.75],l=1;l<63;l++)c.push(l/64);a(i,s);var h=(e.exports=i).prototype;h.$n=function(t){s.prototype.$n.call(this,t),this.$10.set(t.d)},h.$2m=function(t){s.prototype.$2m.call(this,t),this.$10.$2r()},h.$1q=function(t){this.volume=t/60,this.$18()},h._updateDuty=function(t){this.$2u=c[t%c.length]},h.$c=function(){s.prototype.$c.call(this),this.$10.enabled&&this.$10.clock()&&(this.$2u=c[~~this.$10.value])},h.$1x=function(t,e,n,i){if(this.playing)for(var r=n;r<i;r++){++this.$m>=u&&(this.$m-=u,this.$c()),this.$29+=this.$2a,1<this.$29&&(this.$29=this.$29%1);var o=this.$29>this.$2u?1:-1;t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}}},{"../constants":13,"./SimpleOscillator":24,"./TableEnvelope":25,"pixelbox/inherits":1}],21:[function(t,e,n){function i(){r.call(this),this._damping=!1,this._dampVal=0}var r=t("./SimpleOscillator"),o=t("../constants"),s=t("pixelbox/inherits"),a=o.$11/60,u=[0,.12,.25,.37,.5,.62,.75,.87,.87,.75,.62,.5,.37,.25,.12,0,-.12,-.25,-.37,-.5,-.62,-.75,-.87,-1,-1,-.87,-.75,-.62,-.5,-.37,-.25,-.12];s(i,r);var c=(e.exports=i).prototype;c.$2m=function(t){r.prototype.$2m.call(this,t),this._damping=!1},c.$27=function(){this.playing&&(this._damping=!0,this._dampVal=u[~~(32*this.$29)]),this.playing=!1},c.$1x=function(t,e,n,i){if(this._damping){for(var r=n;r<i;r++)if(this._dampVal*=.98,t[r]+=this._dampVal*this.$2wL,e[r]+=this._dampVal*this.$2wR,-.01<this._dampVal&&this._dampVal<.01)return this._damping=!1,void(this.$29=0)}else if(this.playing)for(r=n;r<i;r++){++this.$m>=a&&(this.$m-=a,this.$c()),this.$29+=this.$2a,1<this.$29&&(this.$29=this.$29%1);var o=u[~~(32*this.$29)];t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}}},{"../constants":13,"./SimpleOscillator":24,"pixelbox/inherits":1}],22:[function(t,e,n){function i(t){this._sequencer=t,this.$2k=null,this._instrument=this.$1(),this.note=0,this.volume=0,this.playing=!1,this.$21=0,this.$22=0,this.$f=0,this.$m=0,this.$2w=1,this._panL=1,this._panR=1,this.$2wL=this.$2w,this.$2wR=this.$2w,this.$1m=null,this.$1p=0,this.$1n=0,this.$1o=0,this.$2e=0,this.$2f=0,this.$2g=0,this.$2j=0,this.$2h=0,this.$2i=0,this.$2l=0,this.$2c=0}var r=t("../constants"),o=t("../noteUtils"),s=(r.$1u,r.$1s),a=r.$11/60,u=o.$a[60],c=r.TAU,l=r.$5,h=r.$6,f=r.$9,p=(e.exports=i).prototype;p.$1=function(){return{n:"",a:0,s:0,e:0,l:0,p:0,v:[1,1,1,1,0]}},p.$n=function(t){var e=(this._instrument=t).a||0;this.$2k=this._sequencer.buffers[e],this.$21=t.s},p.reset=function(){this.playing=!1,this.$1q(15),this.$17(),this.$18()},p.$2m=function(t){null!==this.$1m?(this.note+=this.$1n,this.$1o=0,this.$1n=t-this.note,this.$1p=this.$1n/(this.$1m+1)/l,this.$1m=null):(this.note=t,this.$1n=0,this.$1p=0,this.$1o=0),this.$m=0,this.$21=this._instrument.s,this.$17(),this.$18(),this.$2c=0,this.$2l=4,this.$2k&&(this.playing=!0)},p.$27=function(){0===this._instrument.v[4]?this.$2l=1:this.playing=!1},p.$1q=function(t){this.volume=t/20,this.$18()},p.$2t=function(t,e,n,i){var r=!1,o=!1;switch(t){case s.$24:this.$2f=n/64,this.$2g=i/16,0===i&&(r=!0);break;case s.$23:this.$2h=n/64,this.$2i=i/f,o=!0;break;case s.$2s:this.$1m=e/h;break;case s.$g:this.note+=this.$1n,this.$1o=0,this.$1n=i,this.$1p=i/(n+1)/l;break;case s.$8:this.note+=this.$1n,this.$1o=0,this.$1n=-i,this.$1p=-i/(n+1)/l;break;case s.PANORAMIC:this._updatePannoramic(n,i)}r&&this.$17(),o&&this.$18()},p._updatePannoramic=function(t,e){this._panL=t/15,this._panR=e/15,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},p.$18=function(){var t=1;0<this.$2h&&(t=1-this.$2i*(Math.sin(this.$2j*c)+1)),this.$2w=this.volume*t,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},p.$17=function(){var t=0;0<this.$2f&&(t=this.$2g*Math.sin(this.$2e*c));var e=this.note+this._instrument.p+this.$1o+t;this.$22=o.$1h(e)/u},p.$c=function(){var t=!1,e=!1;0!==this.$1p&&(this.$1o+=this.$1p,e=!0,(0<this.$1p&&this.$1o>=this.$1n||this.$1p<0&&this.$1o<=this.$1n)&&(this.$1o=this.$1n,this.$1p=0)),0<this.$2f&&(this.$2e+=this.$2f,1<this.$2e&&--this.$2e,e=!0),0<this.$2h&&(this.$2j+=this.$2h,1<this.$2j&&--this.$2j,t=!0),e&&this.$17(),t&&this.$18()},p.$7=function(){if(0!==this.$2l){var t=this._instrument.v;switch(this.$2l){case 2:break;case 4:this.$2c+=t[0],1<=this.$2c&&(this.$2c=1,this.$2l=3);break;case 3:this.$2c-=t[1],this.$2c<=t[2]&&(this.$2c=t[2],1===t[4]?this.$2l=1:this.$2l=2);break;case 1:this.$2c-=t[3],this.$2c<=0&&(this.$2c=0,this.$2l=0,this.playing=!1)}}},p.$1x=function(t,e,n,i){if(this.playing)for(var r=n;r<i;r++){if(64<=++this.$f&&(this.$f=0,this.$7()),++this.$m>=a&&(this.$m-=a,this.$c()),this.$21+=this.$22,this.$21>=this._instrument.e){if(0===this._instrument.l)return void(this.playing=!1);this.$21-=this._instrument.l}var o=this.$2k[~~this.$21]*this.$2c;t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}}},{"../constants":13,"../noteUtils":14}],23:[function(t,e,n){function i(){r.call(this)}var r=t("./SimpleOscillator"),o=t("../constants"),s=t("pixelbox/inherits"),a=o.$11/60;s(i,r),(e.exports=i).prototype.$1x=function(t,e,n,i){if(this.playing)for(var r=n;r<i;r++){++this.$m>=a&&(this.$m-=a,this.$c()),this.$29+=this.$2a,1<this.$29&&(this.$29=this.$29%1);var o=this.$29-.5;t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}}},{"../constants":13,"./SimpleOscillator":24,"pixelbox/inherits":1}],24:[function(t,e,n){function i(){this._instrument=null,this.note=0,this.volume=0,this.playing=!1,this.$m=0,this.$2w=l,this._panL=1,this._panR=1,this.$2wL=this.$2w,this.$2wR=this.$2w,this.$29=0,this.$2a=0,this.$1m=null,this.$1p=0,this.$1n=0,this.$1o=0,this.$2e=0,this.$2f=0,this.$2g=0,this.$2j=0,this.$2h=0,this.$2i=0,this.$19=!1,this.$2d=0,this.$1l=null,this.$20=0,this.$1a=new s(1,15),this.$o=new s(0,1),this.$z=new s(0,16)}var r=t("../constants"),o=t("../noteUtils"),s=t("./TableEnvelope"),a=r.$1s,u=r.$11,c=r.TAU,l=r.$1u,h=r.$5,f=r.$6,p=r.$9,d=(e.exports=i).prototype;d.$1=function(){return{n:""}},d.$n=function(t){this._instrument=t,this.$1a.set(t.a),this.$o.set(t.p),this.$z.set(t.t)},d.reset=function(){this.$27(),this.$1q(15),this.$19=!1,this.$1l=null,this.$20=0,this.$2g=0,this.$2i=0,this.$17(),this.$18()},d.$2m=function(t){null!==this.$1m?(this.note+=this.$1n,this.$1o=0,this.$1n=t-this.note,this.$1p=this.$1n/(this.$1m+1)/h,this.$1m=null):(this.note=t,this.$1n=0,this.$1p=0,this.$1o=0),this.$m=0,this.$2d=0,this.$1a.$2r(),this.$o.$2r(),this.$z.$2r(),this.$17(),this.$18(),this.playing=!0},d.$27=function(){this.playing=!1,this.$1m=null},d.$1q=function(t){this.volume=t/30,this.$18()},d.$2t=function(t,e,n,i){var r=!1,o=!1;switch(t){case a.$1t:this.$20=0,(this.$2d=0)===e?(this.$19=!1,r=!(this.$1l=null)):(this.$19=!0,this.$1l=0===i?[0,n]:[0,n,i]);break;case a.$24:this.$2f=n/64,this.$2g=i/16,0===i&&(r=!0);break;case a.$23:this.$2h=n/64,this.$2i=i/p,o=!0;break;case a.$2s:this.$1m=e/f;break;case a.$g:this.note+=this.$1n,this.$1o=0,this.$1n=i,this.$1p=i/(n+1)/h;break;case a.$8:this.note+=this.$1n,this.$1o=0,this.$1n=-i,this.$1p=-i/(n+1)/h;break;case a.$2v:this._updateDuty(e);break;case a.PANORAMIC:this._updatePannoramic(n,i)}r&&this.$17(),o&&this.$18()},d._updateDuty=function(t){},d._updatePannoramic=function(t,e){this._panL=t/15,this._panR=e/15,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},d.$18=function(){var t=1;0<this.$2h&&(t=1-this.$2i*(Math.sin(this.$2j*c)+1)),this.$2w=l*this.volume*t,this.$2w*=this.$1a.value,this.$2wL=this.$2w*this._panL,this.$2wR=this.$2w*this._panR},d.$17=function(){var t=0;0<this.$2f&&(t=this.$2g*Math.sin(this.$2e*c));var e=this.note+this.$20+this.$1o+this.$o.value+this.$z.value+t;this.$2a=o.$1h(e)/u},d.$c=function(){var t=!1,e=!1;this.$19&&(this.$2d=(this.$2d+1)%this.$1l.length,this.$20=this.$1l[this.$2d],e=!0),0!==this.$1p&&(this.$1o+=this.$1p,e=!0,(0<this.$1p&&this.$1o>=this.$1n||this.$1p<0&&this.$1o<=this.$1n)&&(this.$1o=this.$1n,this.$1p=0)),0<this.$2f&&(this.$2e+=this.$2f,1<this.$2e&&--this.$2e,e=!0),0<this.$2h&&(this.$2j+=this.$2h,1<this.$2j&&--this.$2j,t=!0),this.$1a.enabled&&this.$1a.clock()&&(t=!0),this.$o.enabled&&this.$o.clock()&&(e=!0),this.$z.enabled&&this.$z.clock()&&(e=!0),e&&this.$17(),t&&this.$18()},d.$1x=function(t,e,n,i){}},{"../constants":13,"../noteUtils":14,"./TableEnvelope":25}],25:[function(t,e,n){function i(t,e){this._playing=!1,this._pos=0,this.min=t,this.max=e,this.data=null,this.table=null,this.enabled=!1,this.value=this.min}var r=(e.exports=i).prototype;r.set=function(t){if(!t)return this.enabled=!1,this.data=null,this.table=null,void(this.value=this.min);var e=t.t||null;this.data=t,this.enabled=e&&e.length&&!0,this.table=e,this.value=e?e[0]/this.max:this.min},r.clock=function(){return!!this._playing&&(this._pos+=1,this._pos>=this.table.length&&(0===this.data.l?(this._pos=this.table.length-1,this._playing=!1):this._pos-=this.data.l),this.value=this.table[this._pos]/this.max,!0)},r.$2r=function(){this.enabled&&(this._playing=!0,this._pos=0,this.value=this.table[0]/this.max)}},{}],26:[function(t,e,n){function i(){r.call(this),this._damping=!1,this._dampVal=0,this.$n(this.$1())}var r=t("./SimpleOscillator"),o=t("../constants"),s=t("pixelbox/inherits"),a=o.$11/60;s(i,r);var u=(e.exports=i).prototype;u.$1=function(){return{n:"",w:{t:[0,1,2,3,4,5,6,7,8,7,6,5,4,3,2,1,0,-1,-2,-3,-4,-5,-6,-7,-8,-7,-6,-5,-4,-3,-2,-1]}}},u.$2m=function(t){r.prototype.$2m.call(this,t),this._damping=!1},u.$27=function(){this.playing&&(this._damping=!0,this._dampVal=this._instrument.w.t[~~(32*this.$29)]),this.playing=!1},u.$1q=function(t){this.volume=t/256,this.$18()},u.$1x=function(t,e,n,i){if(this._damping){for(var r=n;r<i;r++)if(this._dampVal*=.98,t[r]+=this._dampVal*this.$2wL,e[r]+=this._dampVal*this.$2wR,-.01<this._dampVal&&this._dampVal<.01)return this._damping=!1,void(this.$29=0)}else if(this.playing)for(r=n;r<i;r++){++this.$m>=a&&(this.$m-=a,this.$c()),this.$29+=this.$2a,1<this.$29&&(this.$29=this.$29%1);var o=this._instrument.w.t[~~(32*this.$29)];t[r]+=o*this.$2wL,e[r]+=o*this.$2wR}}},{"../constants":13,"./SimpleOscillator":24,"pixelbox/inherits":1}],27:[function(t,e,n){var i=t("./NesPulse"),r=t("./NesNoise"),o=t("./NesTriangle"),s=t("./Wavetable"),a=t("./Sawtooth"),u=t("./Sampler"),c=t("./FM"),l=t("./FreeVerb"),h=t("./Delay"),f=[null,i,o,r,a,s,u,c,null,null],p=[null,l,h];n.getSynth=function(t,e){if(!t)return null;var n=f[t];return n?new n(e):null},n.getEffector=function(t,e){if(!t)return null;var n=p[t];return n?new n:null},n.$s=p},{"./Delay":16,"./FM":17,"./FreeVerb":18,"./NesNoise":19,"./NesPulse":20,"./NesTriangle":21,"./Sampler":22,"./Sawtooth":23,"./Wavetable":26}]},{},[15]),e.exports=c},{}],334:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){this.img=t,this.path=e,this.x=n,this.y=i,this.width=r,this.height=o,this.pivotX=s||0,this.pivotY=a||0}i.prototype._isSprite=!0,e.exports=i},{}],335:[function(t,e,n){"use strict";var d=t("./Sprite");function y(t,e){return t?t+"/"+e:e}function l(t,e,n,i,r,o){var s=new d(r,e,n.x,n.y,n.w||o.defaultWidth,n.h||o.defaultHeight,n.p||o.defaultPivotX,n.q||o.defaultPivotY);t[i]=s}function h(t,e,n,i,r,o){t[i]||(t[i]={});var s=t[i];for(var a in n)if("_folder"!==a){var u=n[a],c=y(e,a);(u._folder?h:l)(s,c,u,a,r,o)}}function u(t,e,n,i){var r=n._meta;r.grid?function(t,e,n,i){for(var r=i.width,o=i.height,s=n.spriteWidth,a=n.spriteHeight,u=n.list,c=0,l=0;l<o;l+=a)for(var h=0;h<r;h+=s){if(c>=u.length)return;var f=u[c],p=new d(i,y(e,f),h,l,s,a);t[f]=p,c++}}(t,e,r,i):function(t,e,n,i,r){for(var o in n)if("_type"!==o&&"_meta"!==o){var s=n[o],a=y(e,o);(s._folder?h:l)(t,a,s,o,i,r)}}(t,e,n,i,r)}n.unpackSpritesheets=function(){var t=assets[".atlas"];if(t&&t.data){var e=t.data.spritesheets;for(var n in e){for(var i=e[n],r=t[i._meta.image],o=n.split("/"),s=window.assets;o.length;){var a=o.shift();""!==a&&(s[a]||(s[a]={}),s=s[a])}u(s,n,i,r)}}}},{"./Sprite":334}],336:[function(t,e,n){"use strict";var i=t("./context").gl;function r(t){this.uShortView=new Uint16Array(t),this.binder=i.createBuffer(),this.length=0,this.vertexIndice=0}(e.exports=r).prototype.uploadData=function(){i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.binder),i.bufferData(i.ELEMENT_ARRAY_BUFFER,this.uShortView,i.STATIC_DRAW)},r.prototype.bindBuffer=function(){i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.binder)},r.prototype.reset=function(){this.length=0,this.vertexIndice=0}},{"./context":339}],337:[function(t,e,n){"use strict";var i=t("./context").gl;function r(t){this.arrayBuffer=new ArrayBuffer(t),this.floatView=new Float32Array(this.arrayBuffer),this.uLongView=new Uint32Array(this.arrayBuffer),this.longView=new Int32Array(this.arrayBuffer),this.uShortView=new Uint16Array(this.arrayBuffer),this.shortView=new Int16Array(this.arrayBuffer),this.byteView=new Uint8Array(this.arrayBuffer),this.uByteView=new Int8Array(this.arrayBuffer),this.binder=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.binder)}(e.exports=r).prototype.uploadData=function(){i.bindBuffer(i.ARRAY_BUFFER,this.binder),i.bufferData(i.ARRAY_BUFFER,this.arrayBuffer,i.DYNAMIC_DRAW)}},{"./context":339}],338:[function(t,e,n){"use strict";var i=t("./context"),r=t("./VertexBuffer"),o=t("./IndexBuffer"),s=t("./renderers/sprite"),a=t("./renderers/line"),u=t("./renderers/colorQuad"),c=t("./renderers/colorSprite"),l=i.gl;function h(){this._renderer=s,this._program=null,this._renderTarget=null,this._channel0=null,this._batchIndex=0,this.vertexBuffer=new r(65536),this.indexBuffer=new o(32768),this.quadIndexBuffer=new o(49152),this._initQuadIndexBuffer(),this.renderers={sprite:s,line:a,color:u,colorSprite:c}}h.prototype._initQuadIndexBuffer=function(){for(var t=this.quadIndexBuffer.uShortView,e=0,n=0;n<32768;n+=4)t[e]=n,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n,t[e+4]=n+2,t[e+5]=n+3,e+=6;this.quadIndexBuffer.uploadData()},h.prototype.prepare=function(t,e,n){e&&e._isSprite&&(e=e.img);var i=!1;return e!==this._channel0&&(i=!0),n!==this._renderTarget&&(i=!0),t!==this._renderer&&(i=!0),i&&this.flush(),this._renderer.batcher=null,(t.batcher=this)._renderer=t,this._program=t.program,this._renderTarget=n,this._channel0=e,this._renderer},h.prototype.flush=function(){if(0!==this._batchIndex){var t=this._renderTarget;l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer),l.viewport(0,0,t.width,t.height);var e=i.useProgram(this._renderer.program);this._renderer.render.call(this,e),this._batchIndex=0}},e.exports=new h},{"./IndexBuffer":336,"./VertexBuffer":337,"./context":339,"./renderers/colorQuad":341,"./renderers/colorSprite":342,"./renderers/line":343,"./renderers/sprite":344}],339:[function(t,e,n){"use strict";var i=t("../domUtils/createCanvas"),r=t("..").settings,o=r.screen.width,s=r.screen.height,a=r.screen.pixelSize.width,u=r.screen.pixelSize.height,c=i(o,s);c.style.width=o*a+"px",c.style.height=s*u+"px";var l=c.getContext("webgl",{antialias:!1,alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!1,powerPreference:"default",premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1});l.viewport(0,0,c.width,c.height),l.enable(l.BLEND),l.disable(l.DEPTH_TEST),l.depthMask(!1);var h={},f=null;function p(t,e){var n=l.createShader(e);if(l.shaderSource(n,t),l.compileShader(n),!l.getShaderParameter(n,l.COMPILE_STATUS))throw new Error(l.getShaderInfoLog(n));return n}var d=new WeakMap;n.canvas=c,n.gl=l,n.programs=h,n.createProgram=function(t,e,n){if(t&&h[t])return h[t];var i=p(e,l.VERTEX_SHADER),r=p(n,l.FRAGMENT_SHADER),o=l.createProgram();if(l.attachShader(o,i),l.attachShader(o,r),l.linkProgram(o),!l.getProgramParameter(o,l.LINK_STATUS))throw l.deleteProgram(o),new Error(l.getProgramInfoLog(o));return t&&(h[t]=o),o},n.useProgram=function(t){if(f===t)return t;if(null!==f){var e=l.getProgramParameter(f,l.ACTIVE_ATTRIBUTES),n=l.getProgramParameter(t,l.ACTIVE_ATTRIBUTES);if(e<n)for(var i=e;i<n;i++)l.enableVertexAttribArray(i);else if(n<e)for(i=n;i<e;i++)l.disableVertexAttribArray(i)}return f=t,l.useProgram(t),t},n.bindTexture=function(t,e,n,i){var r,o,s;r=e._isGlTexture?e.ctx:(o=e,(s=d.get(o))||(s=l.createTexture(),l.bindTexture(l.TEXTURE_2D,s),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!0),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,o),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),d.set(o,s),s)),l.activeTexture(l.TEXTURE0+i),l.bindTexture(l.TEXTURE_2D,r),l.uniform1i(l.getUniformLocation(t,n),i)}},{"..":331,"../domUtils/createCanvas":329}],340:[function(t,e,n){"use strict";var o=t("./context"),s=t("./batcher"),a=t(".."),i=a.settings,u=o.gl,c=~~i.screen.width,l=~~i.screen.height,r=new Int16Array([0,l,0,l,c,l,c,l,0,0,0,0,c,l,c,l,c,0,c,0,0,0,0,0]),h=u.createBuffer();function f(t,e){var n=u.getAttribLocation(t,e);return u.enableVertexAttribArray(n),n}u.bindBuffer(u.ARRAY_BUFFER,h),u.bufferData(u.ARRAY_BUFFER,r,u.STATIC_DRAW),n.shaders=o.programs,n.context=o,n.canvas=o.canvas,n.gl=u,n.batcher=s,n.commit=function(){s.flush();var t,e,n,i,r=o.useProgram(o.programs.sprite);u.bindFramebuffer(u.FRAMEBUFFER,null),u.viewport(0,0,c,l),u.bindBuffer(u.ARRAY_BUFFER,h),u.uniform2f(u.getUniformLocation(r,"iChannel0Resolution"),c,l),u.uniform2f(u.getUniformLocation(r,"iResolution"),c,l),u.vertexAttribPointer(f(r,"a_coordinates"),2,u.SHORT,!1,8,0),u.vertexAttribPointer(f(r,"a_uv"),2,u.SHORT,!1,8,4),t=r,e=a.$screen,n="iChannel0",i=0,u.activeTexture(u.TEXTURE0+i),u.bindTexture(u.TEXTURE_2D,e.ctx),u.uniform1i(u.getUniformLocation(t,n),i),u.drawArrays(u.TRIANGLES,0,6)}},{"..":331,"./batcher":338,"./context":339}],341:[function(t,e,n){"use strict";var i=t("../context"),r=i.gl;function o(){this.batcher=null,this.program=i.createProgram("color",t("../shaders/color.vert"),t("../shaders/color.frag"))}o.prototype.pushRect=function(t,e,n,i,r,o,s){var a=t+n,u=e+i,c=(o<<8)+r,l=this.batcher.vertexBuffer.shortView,h=this.batcher.vertexBuffer.uShortView,f=this.batcher._batchIndex;l[f++]=t,l[f++]=e,h[f++]=c,h[f++]=s,l[f++]=a,l[f++]=e,h[f++]=c,h[f++]=s,l[f++]=a,l[f++]=u,h[f++]=c,h[f++]=s,l[f++]=t,l[f++]=u,h[f++]=c,h[f++]=s,f<32752?this.batcher._batchIndex=f:this.batcher.flush()},o.prototype.render=function(t){this.quadIndexBuffer.bindBuffer(),this.vertexBuffer.uploadData(),r.vertexAttribPointer(r.getAttribLocation(t,"a_coordinates"),2,r.SHORT,!1,8,0),r.vertexAttribPointer(r.getAttribLocation(t,"a_color"),4,r.UNSIGNED_BYTE,!0,8,4),r.uniform2f(r.getUniformLocation(t,"iResolution"),this._renderTarget.width,this._renderTarget.height);var e=this._batchIndex/4/4*6;r.drawElements(r.TRIANGLES,e,r.UNSIGNED_SHORT,0)},e.exports=new o},{"../context":339,"../shaders/color.frag":345,"../shaders/color.vert":346}],342:[function(t,e,n){"use strict";var i=t("../context"),r=i.gl;function o(){this.batcher=null,this.program=i.createProgram("colorSprite",t("../shaders/colorSprite.vert"),t("../shaders/colorSprite.frag"))}o.prototype.pushSprite=function(t,e,n,i,r,o,s,a,u){var c=t+n,l=e+i,h=r+n,f=o+i,p=(a<<8)+s,d=this.batcher.vertexBuffer.shortView,y=this.batcher.vertexBuffer.uShortView,_=this.batcher._batchIndex;d[_++]=t,d[_++]=e,d[_++]=r,d[_++]=o,y[_++]=p,y[_++]=u,d[_++]=c,d[_++]=e,d[_++]=h,d[_++]=o,y[_++]=p,y[_++]=u,d[_++]=c,d[_++]=l,d[_++]=h,d[_++]=f,y[_++]=p,y[_++]=u,d[_++]=t,d[_++]=l,d[_++]=r,d[_++]=f,y[_++]=p,y[_++]=u,_<32744?this.batcher._batchIndex=_:this.batcher.flush()},o.prototype.render=function(t){this.quadIndexBuffer.bindBuffer(),this.vertexBuffer.uploadData(),r.vertexAttribPointer(r.getAttribLocation(t,"a_coordinates"),2,r.SHORT,!1,12,0),r.vertexAttribPointer(r.getAttribLocation(t,"a_uv"),2,r.SHORT,!1,12,4),r.vertexAttribPointer(r.getAttribLocation(t,"a_color"),4,r.UNSIGNED_BYTE,!0,12,8),r.uniform2f(r.getUniformLocation(t,"iResolution"),this._renderTarget.width,this._renderTarget.height),r.uniform2f(r.getUniformLocation(t,"iChannel0Resolution"),this._channel0.width,this._channel0.height),i.bindTexture(t,this._channel0,"iChannel0",0);var e=this._batchIndex/6/4*6;r.drawElements(r.TRIANGLES,e,r.UNSIGNED_SHORT,0)},e.exports=new o},{"../context":339,"../shaders/colorSprite.frag":347,"../shaders/colorSprite.vert":348}],343:[function(t,e,n){"use strict";var i=t("../context"),r=i.gl;function o(){this.batcher=null,this.program=i.createProgram("line",t("../shaders/color.vert"),t("../shaders/color.frag"))}o.prototype.pushLines=function(t,e,n,i){},o.prototype.pushRect=function(t,e,n,i,r,o,s){var a=t+n,u=e+i-1;t+=1;var c=(o<<8)+r,l=this.batcher.vertexBuffer,h=l.shortView,f=l.uShortView,p=this.batcher._batchIndex;h[p++]=t,h[p++]=e,f[p++]=c,f[p++]=s,h[p++]=a,h[p++]=e,f[p++]=c,f[p++]=s,h[p++]=a,h[p++]=u,f[p++]=c,f[p++]=s,h[p++]=t,h[p++]=u,f[p++]=c,f[p++]=s,this.batcher._batchIndex=p;var d=this.batcher.indexBuffer,y=d.uShortView,_=(p=d.length,d.vertexIndice);y[p++]=_+0,y[p++]=_+1,y[p++]=_+1,y[p++]=_+2,y[p++]=_+2,y[p++]=_+3,y[p++]=_+3,y[p++]=_+0,d.length=p,d.vertexIndice+=4,32752<=p&&this.batcher.flush()},o.prototype.render=function(t){this.indexBuffer.uploadData(),this.vertexBuffer.uploadData(),r.vertexAttribPointer(r.getAttribLocation(t,"a_coordinates"),2,r.SHORT,!1,8,0),r.vertexAttribPointer(r.getAttribLocation(t,"a_color"),4,r.UNSIGNED_BYTE,!0,8,4),r.uniform2f(r.getUniformLocation(t,"iResolution"),this._renderTarget.width,this._renderTarget.height),r.drawElements(r.LINES,this.indexBuffer.length,r.UNSIGNED_SHORT,0),this.indexBuffer.reset()},e.exports=new o},{"../context":339,"../shaders/color.frag":345,"../shaders/color.vert":346}],344:[function(t,e,n){"use strict";var i=t("../context"),r=i.gl;function o(){this.batcher=null,this.program=i.createProgram("sprite",t("../shaders/sprite.vert"),t("../shaders/sprite.frag"))}o.prototype.pushQuad=function(t,e,n,i,r,o,s,a,u,c,l,h,f,p,d,y){var _=this.batcher.vertexBuffer.shortView,m=this.batcher._batchIndex;_[m++]=t,_[m++]=e,_[m++]=n,_[m++]=i,_[m++]=r,_[m++]=o,_[m++]=s,_[m++]=a,_[m++]=u,_[m++]=c,_[m++]=l,_[m++]=h,_[m++]=f,_[m++]=p,_[m++]=d,_[m++]=y,m<32752?this.batcher._batchIndex=m:this.batcher.flush()},o.prototype.pushSprite=function(t,e,n,i,r,o,s,a,u){var c,l,h,f=r+n,p=o+i;if(u){c=t+i,l=e+n;var d=r,y=p,_=r,m=o,g=f,v=o,b=f,x=p;s&&(h=y,y=m,m=h,h=x,x=v,v=h),a&&(h=d,d=g,g=h,h=_,_=b,b=h),this.pushQuad(t,e,d,y,c,e,_,m,c,l,g,v,t,l,b,x)}else c=t+n,l=e+i,s&&(h=r,r=f,f=h),a&&(h=o,o=p,p=h),this.pushQuad(t,e,r,o,c,e,f,o,c,l,f,p,t,l,r,p)},o.prototype.pushStretchSprite=function(t,e,n,i,r,o,s,a){var u=r+s,c=o+a,l=t+n,h=e+i;this.pushQuad(t,e,r,o,l,e,u,o,l,h,u,c,t,h,r,c)},o.prototype.render=function(t){this.quadIndexBuffer.bindBuffer(),this.vertexBuffer.uploadData(),r.vertexAttribPointer(r.getAttribLocation(t,"a_coordinates"),2,r.SHORT,!1,8,0),r.vertexAttribPointer(r.getAttribLocation(t,"a_uv"),2,r.SHORT,!1,8,4),r.uniform2f(r.getUniformLocation(t,"iResolution"),this._renderTarget.width,this._renderTarget.height),r.uniform2f(r.getUniformLocation(t,"iChannel0Resolution"),this._channel0.width,this._channel0.height),i.bindTexture(t,this._channel0,"iChannel0",0);var e=this._batchIndex/4/4*6;r.drawElements(r.TRIANGLES,e,r.UNSIGNED_SHORT,0)},e.exports=new o},{"../context":339,"../shaders/sprite.frag":349,"../shaders/sprite.vert":350}],345:[function(t,e,n){e.exports="precision mediump float;\r\n\r\nvarying vec4 iColor;\r\n\r\nvoid main() {\r\n\tvec4 color = iColor;\r\n\tcolor.a = 1.0;\r\n\tgl_FragColor = color;\r\n}\r\n"},{}],346:[function(t,e,n){e.exports="uniform   vec2 iResolution;\r\nattribute vec2 a_coordinates;\r\nattribute vec4 a_color;\r\nvarying   vec4 iColor;\r\n\r\nvoid main(void) {\r\n\tgl_Position = vec4(\r\n\t\ta_coordinates.x *  2.0 / iResolution.x - 1.0,\r\n\t\ta_coordinates.y * -2.0 / iResolution.y + 1.0,\r\n\t\t0.0,\r\n\t\t1.0\r\n\t);\r\n\tiColor = a_color;\r\n}\r\n"},{}],347:[function(t,e,n){e.exports="precision mediump float;\r\n\r\nuniform sampler2D iChannel0;\r\nvarying vec2 fragCoord;\r\nvarying vec4 iColor;\r\n\r\nvoid main(void) {\r\n\tvec4 color = texture2D(iChannel0, fragCoord);\r\n\tif (color.a == 0.0) discard;\r\n\tgl_FragColor = iColor;\r\n}\r\n"},{}],348:[function(t,e,n){e.exports="uniform   vec2 iResolution;\r\nuniform   vec2 iChannel0Resolution;\r\nattribute vec2 a_coordinates;\r\nattribute vec2 a_uv;\r\nattribute vec4 a_color;\r\nvarying   vec2 fragCoord;\r\nvarying   vec4 iColor;\r\n\r\nvoid main(void) {\r\n\tgl_Position = vec4(\r\n\t\ta_coordinates.x *  2.0 / iResolution.x - 1.0,\r\n\t\ta_coordinates.y * -2.0 / iResolution.y + 1.0,\r\n\t\t0.0,\r\n\t\t1.0\r\n\t);\r\n\tfragCoord = vec2(a_uv.x / iChannel0Resolution.x, 1.0 - a_uv.y / iChannel0Resolution.y);\r\n\tiColor = vec4(a_color.rgb, 1.0);\r\n}\r\n"},{}],349:[function(t,e,n){e.exports="precision mediump float;\r\n\r\nuniform sampler2D iChannel0;\r\nvarying vec2 fragCoord;\r\n\r\nvoid main(void) {\r\n\tvec4 color = texture2D(iChannel0, fragCoord);\r\n\tif (color.a == 0.0) discard;\r\n\tgl_FragColor = color;\r\n}\r\n"},{}],350:[function(t,e,n){e.exports="uniform   vec2 iResolution;\r\nuniform   vec2 iChannel0Resolution;\r\nattribute vec2 a_coordinates;\r\nattribute vec2 a_uv;\r\nvarying   vec2 fragCoord;\r\n\r\nvoid main(void) {\r\n\tgl_Position = vec4(\r\n\t\ta_coordinates.x *  2.0 / iResolution.x - 1.0,\r\n\t\ta_coordinates.y * -2.0 / iResolution.y + 1.0,\r\n\t\t0.0,\r\n\t\t1.0\r\n\t);\r\n\tfragCoord = vec2(a_uv.x / iChannel0Resolution.x, 1.0 - a_uv.y / iChannel0Resolution.y);\r\n}\r\n"},{}],351:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=e,this.y=n,this.sprite=t,console.log("New AtlasItem",this)}var t,e,n,r;function o(t,e){return r.apply(this,arguments)}return t=i,(e=[{key:"draw",value:(r=function(t,e){draw(this.sprite,this.x+t,this.y+e)},o.toString=function(){return r.toString()},o)},{key:"die",value:function(){var e=this;atlasQueue=atlasQueue.filter(function(t){return t!==e})}}])&&s(t.prototype,e),n&&s(t,n),i}();n.default=i},{}],352:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=t("../enemy.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(o){return function(){var t,e,n,i=p(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=p(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(o,a["default"]);var t,e,n,i,r=f(o);function o(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.move,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.accel=.03,n.speed=.6,n.flipH=!0,n.entityName="Bee",n.life=3,n.knockbackDuration=50,n.friction=.3,n.bbox={x1:2,y1:1,x2:6,y2:7},n.states=(u(e={},state.move,{anim:{0:48},reset:200}),u(e,state.knockback,{anim:{0:48},reset:-1}),e),n}function s(t,e,n){return i.apply(this,arguments)}return t=o,(e=[{key:"knockback",value:(i=function(t,e,n){this.noKnockback||this.isInvincible()||(this.xm=n?-t:t,void 0!==this.states.knockback&&(this.state=knockback),this.knockbackTimer=this.knockbackDuration)},s.toString=function(){return i.toString()},s)},{key:"init",value:function(t,e){l(p(o.prototype),"init",this).call(this,t,e),this.ym=-1,this.xm=-.6}},{key:"update",value:function(){l(p(o.prototype),"update",this).call(this),this.state=state.move,this.x<this.startX-40?this.xm+=this.accel:this.x>this.startX+40&&(this.xm-=this.accel),0<this.xm?this.facing=facing.right:this.facing=facing.left,this.xm=clamp(this.xm,-this.speed,this.speed),this.y>this.startY?this.ym-=.1:this.ym+=.1,this.move()}},{key:"move",value:function(){this.x+=this.xm,this.y+=this.ym}},{key:"die",value:function(){l(p(o.prototype),"die",this).call(this),this.explode(assets.data.particles.sparkBlue)}}])&&c(t.prototype,e),n&&c(t,n),o}();n.default=r},{"../enemy.js":358}],353:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("../enemy.js")),r=o(t("../../particle/particle.js"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(o){return function(){var t,e,n,i=h(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,i["default"]);var t,e,n,o=l(s);function s(t){var e,n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.move,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.5,e.entityName="Fireball",e.noKnockback=!0,e.ignoreEdges=!0,e.bbox={x1:1,y1:1,x2:6,y2:6},e.states=(n={},i=state.move,r={anim:{0:16,12:17},reset:24},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),e}return t=s,(e=[{key:"update",value:function(){if(u(h(s.prototype),"update",this).call(this),this.xm=0,this.ym=0,this.touchingTile("down","solid")?this.xm=this.speed:this.touchingTile("up","solid")?this.xm=-this.speed:this.touchingTile("left","solid")?this.ym=this.speed:this.touchingTile("right","solid")?this.ym=-this.speed:this.touchingTile("downRight","solid")?this.xm=this.speed:this.touchingTile("upLeft","solid")?this.xm=-this.speed:!this.touchingTile("downLeft","solid")&&this.touchingTile("upRight","solid")?this.ym=-this.speed:this.ym=this.speed,this.move(),this.stateCounter%3==0){var t=this.getRealBbox(),e=new r.default;e.x=randRange(t.x1,t.x2),e.y=randRange(t.y1,t.y2),e.colors={0:23,3:22,6:21,9:20,12:18,15:16},e.gravity=-.075,e.xm=this.xm,e.ym=this.ym,e.setLife(18),particleQueue.push(e)}}},{key:"die",value:function(){u(h(s.prototype),"die",this).call(this),this.explode(assets.data.particles.spark)}}])&&a(t.prototype,e),n&&a(t,n),s}();n.default=f},{"../../particle/particle.js":369,"../enemy.js":358}],354:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("../enemy.js")),s=i(t("./inky_projectile.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(o){return function(){var t,e,n,i=p(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=p(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,o["default"]);var t,e,n,i=f(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.left,n.state=state.move,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.speed=.4,n.flipH=!0,n.entityName="Inky",n.life=6,n.knockbackDuration=50,n.friction=.3,n.jumpTimer=100,n.jumpFrame=0,n.jumpAccel=1.75,n.inkSpeed=2,n.bbox={x1:2,y1:1,x2:6,y2:7},n.states=(u(e={},state.move,{anim:{0:64,4:65,8:66},reset:12}),u(e,state.knockback,{anim:{0:64,4:65,8:66},reset:12}),e),n}return t=r,(e=[{key:"update",value:function(){l(p(r.prototype),"update",this).call(this);var t=this.getRealCenter();if(player.getRealCenter().x>t.x?this.facing=facing.right:this.facing=facing.left,0<this.knockbackTimer)this.state=state.knockback,this.touchingTile("down","solid")&&0<=this.ym?this.ym=0:this.ym+=gravity,this.xm*=.8,Math.abs(this.xm)<.01&&(this.xm=0);else if(this.state=state.move,this.jumpFrame+=1,this.touchingTile("down","solid")?(this.ym=0,this.jumpFrame>=this.jumpTimer&&(this.jumpFrame=0,this.ym=-this.jumpAccel)):this.ym+=gravity,18==this.jumpFrame){var e=this.getCenter(),n=new s.default;n.init(this.x+e.x-2,this.y+e.y-2),this.facing==facing.left?n.xm=-this.inkSpeed:n.xm=this.inkSpeed,n.ym=-1,enemyQueue.push(n)}this.move()}},{key:"die",value:function(){l(p(r.prototype),"die",this).call(this),this.explode(assets.data.particles.blackSplat)}}])&&c(t.prototype,e),n&&c(t,n),r}();n.default=r},{"../enemy.js":358,"./inky_projectile.js":355}],355:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../enemy.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"]);var t,e,n,i=h(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.move,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.speed=.4,n.flipH=!1,n.entityName="Inky",n.life=6,n.knockbackDuration=50,n.friction=.3,n.jumpTimer=100,n.jumpFrame=0,n.jumpAccel=1.75,n.bbox={x1:3,y1:3,x2:5,y2:5},n.states=(a(e={},state.move,{anim:{0:80},reset:-1}),a(e,state.knockback,{anim:{0:80},reset:-1}),e),n}return t=r,(e=[{key:"update",value:function(){c(f(r.prototype),"update",this).call(this),this.state=state.move,this.jumpFrame+=1,this.touchingTile("down","solid")?this.die():this.ym+=gravity,this.move()}},{key:"die",value:function(){c(f(r.prototype),"die",this).call(this),this.splat(assets.data.particles.blackSplat)}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../enemy.js":358}],356:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("../enemy.js"));i(t("../../particle/particle.js"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"]);var t,e,n,i=h(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.move,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.speed=.4,n.flipH=!0,n.entityName="Lava Bubble",n.lifeCounter=125,n.noKnockback=!0,n.ignoreEdges=!0,n.bbox={x1:3,y1:2,x2:4,y2:3},n.states=(a(e={},state.move,{anim:{0:32},reset:30}),a(e,state.ouch,{anim:{0:32},reset:-1}),e),n}return t=r,(e=[{key:"update",value:function(){c(f(r.prototype),"update",this).call(this),this.state==state.move&&(14==this.stateCounter&&this.x--,29==this.stateCounter&&this.x++,this.y-=.175),this.lifeCounter--,this.lifeCounter<=0&&this.die(),this.collidingWith(player)&&(this.lifeCounter=0)}},{key:"knockback",value:function(){}},{key:"die",value:function(){c(f(r.prototype),"die",this).call(this),this.explode(assets.data.particles.shortSpark)}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../../particle/particle.js":369,"../enemy.js":358}],357:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../enemy.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"]);var t,e,n,i=h(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.move,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.speed=.4,n.flipH=!0,n.entityName="Mogus",n.life=6,n.knockbackDuration=50,n.friction=.3,n.bbox={x1:2,y1:1,x2:6,y2:7},n.states=(a(e={},state.move,{anim:{0:0,8:1},reset:16}),a(e,state.knockback,{anim:{0:0},reset:-1}),e),n}return t=r,(e=[{key:"update",value:function(){c(f(r.prototype),"update",this).call(this),0<this.knockbackTimer?(this.state=state.knockback,this.touchingTile("down","solid")&&0<=this.ym?this.ym=0:this.ym+=gravity,this.xm*=.8,Math.abs(this.xm)<.01&&(this.xm=0)):(this.state=state.move,this.touchingTile("down","solid")?(this.ym=0,this.facing==facing.left?this.touchingTile("downLeft","solid")&&!this.touchingTile("left","solid")?this.xm=-this.speed:this.facing=facing.right:this.touchingTile("downRight","solid")&&!this.touchingTile("right","solid")?this.xm=this.speed:this.facing=facing.left):this.ym+=gravity),this.move()}},{key:"die",value:function(){c(f(r.prototype),"die",this).call(this),this.explode(assets.data.particles.sparkBlue)}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../enemy.js":358}],358:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("../entity.js")),s=i(t("../particle/text_particle.js")),a=i(t("../particle/particle.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(o){return function(){var t,e,n,i=p(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=p(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==u(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,o["default"]);var t,e,n,i=f(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this)).life=1,t.maxLife=1,t.entityName="Generic Enemy",t.noKnockback=!1,t.playerDamage=1,t.playerKnockback={x:1.5,y:-1.5},t.spriteSheet=assets.sprites.enemies,t}return t=r,(e=[{key:"damage",value:function(t){if(!this.isInvincible()){this.life-=t,this.life<=0&&this.die(),this.setInvincible();var e=this.getRealCenter(),n=new s.default;n.str=Math.round(t).toString(),n.x=e.x,n.y=e.y-4,n.colors=assets.data.particles.spark.colors,n.gravity=-.05,n.setLife(assets.data.particles.spark.duration),textQueue.push(n)}}},{key:"die",value:function(){var e=this;enemyQueue=enemyQueue.filter(function(t){return t!==e})}},{key:"update",value:function(){var e=this;l(p(r.prototype),"update",this).call(this),this.y>tileSize*map.height&&(enemyQueue=enemyQueue.filter(function(t){return t!==e}))}},{key:"explode",value:function(t){for(var e=this.getRealCenter(),n=0;n<20;n++){var i=new a.default,r=Math.random()*Math.PI*2,o=.6*Math.random();i.x=e.x,i.y=e.y,i.entityName="explosion",i.xm=Math.cos(r)*o,i.ym=Math.sin(r)*o,i.colors=t.colors,i.gravity=.075,i.setLife(t.duration),particleQueue.push(i)}}},{key:"splat",value:function(t){for(var e=this.getRealCenter(),n=0;n<20;n++){var i=new a.default,r=Math.random()*Math.PI*2,o=.6*Math.random();i.x=e.x,i.y=e.y,i.entityName="explosion",i.xm=Math.cos(r)*o,i.ym=-Math.abs(Math.sin(r)*o),i.colors=t.colors,i.gravity=.075,i.setLife(t.duration),particleQueue.push(i)}}}])&&c(t.prototype,e),n&&c(t,n),r}();n.default=r},{"../entity.js":359,"../particle/particle.js":369,"../particle/text_particle.js":370}],359:[function(t,e,n){"use strict";function w(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startX=0,this.startY=0,this.x=0,this.y=0,this.xm=0,this.ym=0,this.maxSpeed=1,this.bbox={x1:0,y1:0,x2:1,y2:1},this.facing=null,this.state=null,this.stateCounter=0,this.showBox=!1,this.freeze=!1,this.flipH=!1,this.states={},this.metadata={},this.entityName="Generic Entity",this.customSprite=null,this.customTimer=0,this.invincibilityFrames=0,this.invincibilityDuration=12,this.noKnockback=!0,this.knockbackDuration=0,this.knockbackTimer=0,this.spriteSheet=assets.tilesheet,this.ignoreEdges=!1}var e,n,i,r;function o(t,e,n){return r.apply(this,arguments)}return e=t,(n=[{key:"init",value:function(t,e){this.startX=t,this.startY=e,this.x=t,this.y=e,this.xm=0,this.ym=0;var n=Math.floor(this.startX/tileSize),i=Math.floor(this.startY/tileSize);try{this.metadata=assets.data.mapdata[map._name].entities[n.toString()+","+i.toString()],console.log(["loaded metadata",this.metadata])}catch(t){this.metadata={}}}},{key:"restart",value:function(){console.log("restart"),this.x=this.startX,this.y=this.startY,this.xm=0,this.ym=0,this.freeze=!1,console.log([this.x,this.y])}},{key:"getBbox",value:function(){return this.facing==facing.right?this.bbox:{x1:tileSize-this.bbox.x2-1,y1:this.bbox.y1,x2:tileSize-this.bbox.x1,y2:this.bbox.y2}}},{key:"getPos",value:function(){return{x:this.x-camera.x,y:this.y-camera.y}}},{key:"getX",value:function(){return this.x-camera.x}},{key:"getY",value:function(){return this.y-camera.y}},{key:"getSprite",value:function(){var t=this.states[this.state].anim[0];for(var e in this.states[this.state].anim){if(!(this.stateCounter>=e))break;t=this.states[this.state].anim[e]}return t}},{key:"colliding",value:function(){for(var t=this.getBbox(),e=[this.x+t.x1,this.x+t.x2+1],n=[],i=0,r=[this.y+t.y1,this.y+t.y2];i<r.length;i++){s=r[i];var o,s=Math.floor(s/tileSize),a=w(e);try{for(a.s();!(o=a.n()).done;){u=o.value;var u=Math.floor(u/tileSize),c=map.get(u,s);if(c&&(c=c.sprite,void 0!==tiles[c])){var l,h=w(tiles[c]);try{for(h.s();!(l=h.n()).done;){var f=l.value;n.includes(f)||n.push(f)}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){a.e(t)}finally{a.f()}}return n}},{key:"getRealBbox",value:function(){var t=this.getBbox();return{x1:t.x1+this.x,x2:t.x2+this.x,y1:t.y1+this.y,y2:t.y2+this.y}}},{key:"getCenter",value:function(){var t=this.getBbox();return{x:Math.floor((t.x1+t.x2)/2),y:Math.floor((t.y1+t.y2)/2)}}},{key:"getRealCenter",value:function(){var t=this.getRealBbox();return{x:Math.floor((t.x1+t.x2)/2),y:Math.floor((t.y1+t.y2)/2)}}},{key:"offsetBox",value:function(t,e,n){return{x1:t.x1+e,y1:t.y1+n,x2:t.x2+e,y2:t.y2+n}}},{key:"touching",value:function(t,e,n){var i=1<arguments.length&&void 0!==e?e:0,r=2<arguments.length&&void 0!==n?n:0,o=this.offsetBox(this.getRealBbox(),i,r),s=[];return"down"==t?s=checkTilesH(o.x1,o.x2,o.y2+1):"up"==t?s=checkTilesH(o.x1,o.x2,o.y1-1):"left"==t?s=checkTilesV(o.x1-1,o.y1,o.y2):"right"==t?s=checkTilesV(o.x2+1,o.y1,o.y2):"upLeft"==t?s=checkTile(o.x1-1,o.y1-1):"upRight"==t?s=checkTile(o.x2+1,o.y1-1):"downLeft"==t?s=checkTile(o.x1-1,o.y2+1):"downRight"==t&&(s=checkTile(o.x2+1,o.y2+1)),s}},{key:"touchingTile",value:function(t,e,n,i){var r,o=2<arguments.length&&void 0!==n?n:0,s=3<arguments.length&&void 0!==i?i:0,a=w(this.touching(t,o,s));try{for(a.s();!(r=a.n()).done;){var u=r.value.tile.sprite;if(void 0!==tiles[u]&&tiles[u].includes(e))return!0}}catch(t){a.e(t)}finally{a.f()}return!1}},{key:"onGround",value:function(){return(this.touchingTile("down","solid")||this.touchingTile("down","platform"))&&0<=this.ym}},{key:"onPlatform",value:function(){return this.touchingTile("down","platform")&&!this.touchingTile("down","solid")&&0<=this.ym}},{key:"setState",value:function(t){this.state!=t&&(this.state=t,this.stateCounter=0)}},{key:"setCustomState",value:function(t,e){this.customSprite=t,this.customTimer=e,this.state=state.custom}},{key:"draw",value:function(){if(tilesheet(this.spriteSheet),this.invincibilityFrames%2!=1&&(this.flipH?this.state==state.custom?sprite(this.customSprite,this.getX(),this.getY(),this.facing==facing.right):sprite(this.getSprite(),this.getX(),this.getY(),this.facing==facing.right):this.state==state.custom?sprite(this.customSprite,this.getX(),this.getY(),this.facing==facing.left):sprite(this.getSprite(),this.getX(),this.getY(),this.facing==facing.left),this.showBbox)){var t=this.getBbox();pushPen(20),rect(Math.round(this.x+t.x1-camera.x),Math.round(this.y+t.y1-camera.y),Math.round(t.x2-t.x1+1),Math.round(t.y2-t.y1+1)),popPen(),pushPen(6),print("x: "+this.x.toFixed(2),10,110),print("y: "+this.y.toFixed(2),10,119),popPen()}}},{key:"updateStateCounter",value:function(){this.stateCounter++;try{0<=this.states[this.state].reset&&this.stateCounter>=this.states[this.state].reset&&(this.stateCounter=0)}catch(t){this.stateCounter=0}}},{key:"collidingWith",value:function(t){var e=this.getRealBbox(),n=t.getRealBbox();return e.x1<n.x2&&e.x2>n.x1&&e.y1<n.y2&&e.y2>n.y1}},{key:"collidingWithBox",value:function(t){if(null===t)return!1;var e=this.getRealBbox();return e.x1<t.x2&&e.x2>t.x1&&e.y1<t.y2&&e.y2>t.y1}},{key:"getMove",value:function(){var t=this.xm,e=this.ym,n=this.x+t,i=this.y+e,r={up:!1,down:!1,left:!1,right:!1},o=this.getBbox(),s=[this.x+o.x1,this.x+o.x2],a=[i+o.y1,i+o.y2];if(e<0){var u,c=Math.floor(a[0]/tileSize),l=w(s);try{for(l.s();!(u=l.n()).done;){h=u.value;var h=Math.floor(h/tileSize),f=map.get(h,c);if(this.showBbox&&tileRect(11,h,c),f&&(f=f.sprite,void 0!==tiles[f]&&tiles[f].includes("solid"))){e=0,i=(c+1)*tileSize-o.y1,r.up=!0;break}}}catch(t){l.e(t)}finally{l.f()}}else if(0<e){var p=Math.floor((a[1]+1)/tileSize),d=Math.ceil((this.y+o.y2)/tileSize)-1;(this.touchingTile("down","solid",0,e)||d<p&&this.touchingTile("down","platform",0,e))&&(e=0,i=Math.floor(p*tileSize-o.y2-1),r.down=!0)}s=[n+o.x1,n+o.x2],a=[this.y+o.y1,this.y+o.y2];if(0<t){var y,_=Math.floor(Math.ceil(s[1])/tileSize),m=w(a);try{for(m.s();!(y=m.n()).done;){g=y.value;var g=Math.floor(g/tileSize);f=map.get(_,g);if(this.showBbox&&tileRect(11,_,g),f){if(f=f.sprite,void 0!==tiles[f]&&tiles[f].includes("solid")){r.right=!0,t=0,n=_*tileSize-o.x2-1;break}}else if(_>=map.width&&!this.ignoreEdges){r.right=!0,t=0,n=_*tileSize-o.x2-1;break}}}catch(t){m.e(t)}finally{m.f()}}s=[n+o.x1,n+o.x2],a=[this.y+o.y1,this.y+o.y2];if(t<0){var v,b=Math.floor(Math.floor(s[0])/tileSize),x=w(a);try{for(x.s();!(v=x.n()).done;){g=v.value;g=Math.floor(g/tileSize),f=map.get(b,g);if(this.showBbox&&tileRect(11,b,g),f){if(f=f.sprite,void 0!==tiles[f]&&tiles[f].includes("solid")){t=0,n=(b+1)*tileSize-o.x1,r.left=!0;break}}else if(b<0&&!this.ignoreEdges){t=0,n=(b+1)*tileSize-o.x1,r.left=!0;break}}}catch(t){x.e(t)}finally{x.f()}}return{x:n,y:i,xm:t,ym:e,collision:r}}},{key:"die",value:function(){}},{key:"move",value:function(){this.clampMotion();var t=this.getMove();this.x=t.x,this.y=t.y,this.xm=t.xm,this.ym=t.ym}},{key:"update",value:function(){this.freeze||this.updateStateCounter(),0<this.invincibilityFrames&&this.invincibilityFrames--,0<this.knockbackTimer&&this.knockbackTimer--}},{key:"drawActionSprite",value:function(t){var e=this.getRealCenter();queueSprite(assets.ui,t,e.x-3,e.y-12)}},{key:"isInvincible",value:function(){return 0<this.invincibilityFrames}},{key:"setInvincible",value:function(){this.invincibilityFrames=this.invincibilityDuration}},{key:"knockback",value:(r=function(t,e,n){this.noKnockback||this.isInvincible()||(this.xm=n?-t:t,this.ym=e,void 0!==this.states.knockback&&(this.state=knockback),this.knockbackTimer=this.knockbackDuration)},o.toString=function(){return r.toString()},o)},{key:"clampMotion",value:function(){this.xm=clamp(this.xm,1-tileSize,tileSize-1),this.ym=clamp(this.ym,1-tileSize,tileSize-1)}},{key:"tx",get:function(){return Math.floor(this.x/tileSize)},set:function(t){this.x=t,this.tx=t*tileSize}},{key:"ty",get:function(){return Math.floor(this.y/tileSize)},set:function(t){this.y=t,this.ty=t*tileSize}}])&&s(e.prototype,n),i&&s(e,i),t}();n.default=i},{}],360:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("../entity.js")),s=i(t("../particle/particle.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(o){return function(){var t,e,n,i=h(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"]);var t,e,n,i=l(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this)).itemName="Generic Goodie",t.spriteSheet=assets.sprites.goodies,t}return t=r,(e=[{key:"die",value:function(){var e=this;goodieQueue=goodieQueue.filter(function(t){return t!==e})}},{key:"explode",value:function(t){for(var e=this.getRealCenter(),n=0;n<20;n++){var i=new s.default,r=Math.random()*Math.PI*2,o=.6*Math.random();i.x=e.x,i.y=e.y,i.entityName="explosion",i.xm=Math.cos(r)*o,i.ym=Math.sin(r)*o,i.colors=t.colors,i.gravity=.075,i.setLife(t.duration),particleQueue.push(i)}}},{key:"splat",value:function(t){for(var e=this.getRealCenter(),n=0;n<20;n++){var i=new s.default,r=Math.random()*Math.PI*2,o=.6*Math.random();i.x=e.x,i.y=e.y,i.entityName="explosion",i.xm=Math.cos(r)*o,i.ym=-Math.abs(Math.sin(r)*o),i.colors=t.colors,i.gravity=.075,i.setLife(t.duration),particleQueue.push(i)}}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../entity.js":359,"../particle/particle.js":369}],361:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../goodie.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"]);var t,e,n,i=h(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.closed,n.stateCounter=0,n.showBox=!1,n.freeze=!1,n.speed=.4,n.flipH=!0,n.entityName="Chest",n.bbox={x1:2,y1:1,x2:6,y2:7},n.states=(a(e={},state.closed,{anim:{0:4},reset:-1}),a(e,state.open,{anim:{0:5},reset:-1}),e),n}return t=r,(e=[{key:"update",value:function(){if(c(f(r.prototype),"update",this).call(this),this.state==state.closed&&this.collidingWith(player)&&this.drawActionSprite(2),this.state==state.closed&&this.collidingWith(player)&&input.pressed.Y){for(var t in this.setState(state.open),sfx("bonus"),this.metadata.contents)player.addItem(t,this.metadata.contents[t]);null!==this.metadata.sprite&&player.setCustomState(this.metadata.sprite,30)}}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../goodie.js":360}],362:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("../goodie.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(o){return function(){var t,e,n,i=h(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,r["default"]);var t,e,n,o=l(s);function s(t){var e,n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.4,e.flipH=!0,e.entityName="Coin",e.bbox={x1:2,y1:2,x2:5,y2:7},e.states=(n={},i=state.stand,r={anim:{0:0,6:1,12:2,18:3},reset:24},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),e}return t=s,(e=[{key:"update",value:function(){u(h(s.prototype),"update",this).call(this),(this.collidingWith(player)||this.collidingWithBox(player.getRealWeaponBbox()))&&(sfx("coin"),player.addItem("coin"),this.die())}}])&&a(t.prototype,e),n&&a(t,n),s}();n.default=o},{"../goodie.js":360}],363:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../goodie.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"]);var t,e,n,i=h(r);function r(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).startX=0,n.startY=0,n.x=0,n.y=0,n.xm=0,n.ym=0,n.facing=facing.right,n.state=state.open,n.stateCounter=0,n.freeze=!1,n.speed=.4,n.flipH=!0,n.entityName="Door",n.showBbox=!1,18==t&&(n.state=state.closed),n.bbox={x1:1,y1:1,x2:6,y2:7},n.states=(a(e={},state.closed,{anim:{0:8},reset:-1}),a(e,state.open,{anim:{0:7},reset:-1}),e),n}return t=r,(e=[{key:"update",value:function(){c(f(r.prototype),"update",this).call(this),this.freeze||(this.state==state.closed&&this.collidingWith(player)&&player.hasItem("key")&&!input.pressed.Y?this.drawActionSprite(2):this.state==state.open&&this.collidingWith(player)&&player.onGround()&&!player.freeze?this.drawActionSprite(3):this.state==state.closed&&this.collidingWith(player)&&!input.pressed.Y&&this.drawActionSprite(2),this.state==state.closed&&this.collidingWith(player)&&input.pressed.Y&&player.hasItem("key")?(this.setState(state.open),player.removeItem("key"),sfx("unlock")):this.state==state.open&&this.collidingWith(player)&&input.pressed.up&&player.onGround()&&!player.freeze&&(sfx("steps"),void 0!==this.metadata.x?loadMap(this.metadata.map,this.metadata.x,this.metadata.y):loadMap(this.metadata.map)),this.state==state.closed&&this.collidingWith(player)&&input.pressed.Y&&!player.hasItem("key")&&say("It's locked..."))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"../goodie.js":360}],364:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(t("../goodie.js")),s=i(t("../../particle/particle.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(o){return function(){var t,e,n,i=y(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=y(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(o,r["default"]);var t,e,n,i=d(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.4,e.flipH=!1,e.entityName="Grenade",e.timer=150,e.knockback={x:2.5,y:-1},e.fireSpeed={x:2,y:-1},e.power=8,e.splashPower=4,e.radius=16,e.origin={x:0,y:4},e.bbox={x1:3,y1:3,x2:4,y2:5},e.states=l({},state.stand,{anim:{0:10},reset:-1}),e}return t=o,n=[{key:"fire",value:function(t){var e=new o,n=e.getCenter();t.facing==facing.right?(e.init(t.x+t.weapon_origin_right.x-n.x,t.y+t.weapon_origin_right.y-n.y),e.xm=t.xm+e.fireSpeed.x):(e.init(t.x+t.weapon_origin_left.x-n.x,t.y+t.weapon_origin_left.y-n.y),e.xm=t.xm-e.fireSpeed.x),e.ym=t.ym+e.fireSpeed.y,goodieQueue.push(e)}}],(e=[{key:"die",value:function(){f(y(o.prototype),"die",this).call(this),sfx("thud"),this.explode(assets.data.particles.shortSpark);var t,e=this.getExplosionBbox(),n=u(enemyQueue);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.getRealCenter();!i.isInvincible()&&i.collidingWithBox(e)&&(i.knockback(this.knockback.x,this.knockback.y,r.x<ctr.x),i.damage(this.splashPower))}}catch(t){n.e(t)}finally{n.f()}}},{key:"getExplosionBbox",value:function(){var t=this.getRealCenter();return l({x1:t.x-this.radius,y1:t.y-this.radius,x2:t.x+this.radius},"y1",t.y-this.radius)}},{key:"draw",value:function(){f(y(o.prototype),"draw",this).call(this)}},{key:"move",value:function(){this.clampMotion();var t=this.getMove();this.x=t.x,this.y=t.y,t.collision.left||t.collision.right?this.xm=.6*-this.xm:this.xm=t.xm,t.collision.down?(this.ym=.6*-this.ym,this.xm*=.5,Math.abs(this.xm)<.05&&(this.xm=0),Math.abs(this.ym)<.05&&(this.ym=0)):this.ym=t.ym}},{key:"update",value:function(){f(y(o.prototype),"update",this).call(this);var t=this.getRealCenter();this.ym+=gravity,this.move();var e,n=u(enemyQueue);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.getRealCenter();!this.collidingWith(i)||i.freeze||i.isInvincible()||(i.knockback(this.knockback.x,this.knockback.y,r.x<t.x),i.damage(this.power),this.die())}}catch(t){n.e(t)}finally{n.f()}this.timer--,this.timer<=0&&this.die()}},{key:"explode",value:function(t){for(var e=this.getRealCenter(),n=0;n<20;n++){var i=new s.default,r=Math.random()*Math.PI*2,o=1.2*Math.random();i.x=e.x,i.y=e.y,i.entityName="explosion",i.xm=Math.cos(r)*o,i.ym=Math.sin(r)*o,i.colors=t.colors,i.gravity=0,i.setLife(t.duration),particleQueue.push(i)}}}])&&h(t.prototype,e),n&&h(t,n),o}();n.default=o},{"../../particle/particle.js":369,"../goodie.js":360}],365:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("../goodie"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(o){return function(){var t,e,n,i=h(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,r["default"]);var t,e,n,o=l(s);function s(t){var e,n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.4,e.flipH=!1,e.entityName="Item",e.itemName="Generic Item",e.bbox={x1:2,y1:2,x2:6,y2:6},e.states=(n={},i=state.stand,r={anim:{0:6},reset:80},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),e}return t=s,(e=[{key:"setSprite",value:function(t){this.states[state.stand].anim[0]=t}},{key:"init",value:function(t,e){u(h(s.prototype),"init",this).call(this,t,e);try{this.setSprite(this.metadata.sprite),this.itemName=this.metadata.item}catch(t){console.log("No metadata for item at ".concat(this.tx,",").concat(this.ty))}this.y--}},{key:"update",value:function(){u(h(s.prototype),"update",this).call(this),0==this.stateCounter&&this.y++,12==this.stateCounter&&this.y++,40==this.stateCounter&&this.y--,52==this.stateCounter&&this.y--,this.collidingWith(player)&&(sfx("bonus"),console.log("Player got item ".concat(this.itemName)),this.itemName&&player.addItem(this.itemName,1),this.die())}}])&&a(t.prototype,e),n&&a(t,n),s}();n.default=o},{"../goodie":360}],366:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _goodie=_interopRequireDefault(require("../goodie.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(i){return function(){var t,e=_getPrototypeOf(i);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var NpcGoodie=function(_Goodie){_inherits(NpcGoodie,_Goodie);var _super=_createSuper(NpcGoodie);function NpcGoodie(t){var e;return _classCallCheck(this,NpcGoodie),(e=_super.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.left,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=0,e.flipH=!0,e.entityName="Npc",e.data={},e.bbox={x1:-6,y1:1,x2:13,y2:7},e.states=_defineProperty({},state.stand,{anim:{0:32},reset:-1}),e}return _createClass(NpcGoodie,[{key:"init",value:function(t,e){_get(_getPrototypeOf(NpcGoodie.prototype),"init",this).call(this,t,e);var n=Math.floor(this.startX/tileSize),i=Math.floor(this.startY/tileSize);try{this.data=assets.data.npcs[map._name][n.toString()+","+i.toString()],this.setSprite(this.data.sprite),console.log(["loaded npc data",this.data])}catch(t){console.log(t),console.log(assets.data.npcs),console.log("No data for NPC at (".concat(n,", ").concat(i,") on ").concat(map._name))}}},{key:"setSprite",value:function(t){this.states[state.stand].anim[0]=t}},{key:"update",value:function update(){_get(_getPrototypeOf(NpcGoodie.prototype),"update",this).call(this);var ctr=this.getRealCenter(),pctr=player.getRealCenter();if(pctr.x>ctr.x?this.facing=facing.right:this.facing=facing.left,this.collidingWith(player)&&this.drawActionSprite(2),this.collidingWith(player)&&input.pressed.Y){console.log(Flags),console.log("Dialog",this.data.dialog);for(var i=this.data.dialog.length-1;0<=i;i--){var t=this.data.dialog[i];if(void 0!==t.condition){console.log("NPC checking condition: ".concat(t.condition,":"));var result=eval(t.condition);console.log("Eval: ".concat(t.condition,": ").concat(result))}else console.log("NPC: no condition");if(void 0===t.condition||result){var post_eval=null;return void 0!==t.post_eval&&(post_eval=t.post_eval),void 0!==t.pre_eval&&(console.log("Pre Eval: ".concat(t.pre_eval)),eval(t.pre_eval)),void(t.text?(console.log("Post Eval: ".concat(post_eval)),say(t.text,post_eval)):null!==post_eval&&(console.log("Post Eval: ".concat(post_eval)),eval(post_eval)))}}}}}]),NpcGoodie}(_goodie.default);exports.default=NpcGoodie},{"../goodie.js":360}],367:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("../goodie.js")),r=o(t("../../enemy/enemies/lava_bubble_enemy.js")),a=o(t("../../particle/particle.js"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){return function(){var t,e,n,i=f(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(s,i["default"]);var t,e,n,o=h(s);function s(t){var e,n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.4,e.flipH=!0,e.entityName="Volcano",e.bubbleInterval=220,e.bubbleCounter=random(e.bubbleInterval),e.spriteSheet=assets.sprites.enemies,e.bbox={x1:1,y1:4,x2:6,y2:7},e.states=(n={},i=state.stand,r={anim:{0:33},reset:-1},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),e}return t=s,(e=[{key:"update",value:function(){if(c(f(s.prototype),"update",this).call(this),this.bubbleCounter++,this.bubbleCounter>=this.bubbleInterval){var t=new r.default(0),e=t.getCenter();t.init(this.x+e.x-2,this.y+e.y-2),enemyQueue.push(t),this.bubbleCounter=0}if(1==randRange(0,20)){var n=new a.default;n.x=this.x+4,n.y=this.y+4,n.xm=randFloatRange(-.25,.25),n.ym=randFloatRange(-.3,-.5),n.colors=assets.data.particles.spark.colors,n.gravity=.05,n.setLife(assets.data.particles.spark.duration),particleQueue.push(n)}}}])&&u(t.prototype,e),n&&u(t,n),s}();n.default=p},{"../../enemy/enemies/lava_bubble_enemy.js":356,"../../particle/particle.js":369,"../goodie.js":360}],368:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("../goodie.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(o){return function(){var t,e,n,i=h(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,r["default"]);var t,e,n,o=l(s);function s(t){var e,n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.speed=.4,e.flipH=!1,e.entityName="Weapon",e.weapon="Sword",e.bbox={x1:2,y1:2,x2:6,y2:6},e.states=(n={},i=state.stand,r={anim:{0:6},reset:80},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),e}return t=s,(e=[{key:"setSprite",value:function(t){this.states[state.stand].anim[0]=t}},{key:"init",value:function(t,e){u(h(s.prototype),"init",this).call(this,t,e);try{this.setSprite(this.metadata.sprite),this.weapon=this.metadata.weapon}catch(t){console.log("No metadata for weapon at ".concat(this.tx,",").concat(this.ty))}this.y--}},{key:"update",value:function(){u(h(s.prototype),"update",this).call(this),0==this.stateCounter&&this.y++,12==this.stateCounter&&this.y++,40==this.stateCounter&&this.y--,52==this.stateCounter&&this.y--,this.collidingWith(player)&&(sfx("bonus"),console.log("Player got weapon ".concat(this.weapon)),player.addWeapon(this.weapon),this.die())}}])&&a(t.prototype,e),n&&a(t,n),s}();n.default=o},{"../goodie.js":360}],369:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../entity.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){return function(){var t,e,n,i=l(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=l(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"]);var t,e,n,i=c(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this)).entityName="Generic Particle",t.gravity=gravity,t.wind=0,t.totalLife=30,t.life=30,t.colors={0:6},t.sprite=null,t.tilesheet=null,t.moveFunction=null,t}return t=r,(e=[{key:"setLife",value:function(t){this.totalLife=t,this.life=t}},{key:"draw",value:function(){if(null!==this.colors){var t=this.totalLife-this.life,e=0;for(var n in this.colors){if(!(n<=t))break;e=this.colors[n]}pushPaper(e),rectf(this.getX(),this.getY(),1,1),popPaper()}else this.flipH?sprite(this.getSprite(),this.getX(),this.getY(),this.facing==facing.right):sprite(this.getSprite(),this.getX(),this.getY(),this.facing==facing.left)}},{key:"die",value:function(){var e=this;particleQueue=particleQueue.filter(function(t){return t!==e})}},{key:"update",value:function(){this.life--,0!=this.life?this.moveFunction?this.moveFunction():(this.xm+=this.wind,this.ym+=this.gravity,this.x+=this.xm,this.y+=this.ym):this.die()}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"../entity.js":359}],370:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("./particle.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){return function(){var t,e,n,i=l(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=l(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"]);var t,e,n,i=c(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this)).entityName="Text Particle",t.gravity=-.3,t.wind=0,t.totalLife=30,t.life=30,t.str="x",t}return t=r,(e=[{key:"die",value:function(){var e=this;textQueue=textQueue.filter(function(t){return t!==e})}},{key:"draw",value:function(){if(null!==this.colors){var t=this.totalLife-this.life,e=0;for(var n in this.colors){if(!(n<=t))break;e=this.colors[n]}pushPen(e),print(this.str,this.getX(),this.getY()),popPen()}}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"./particle.js":369}],371:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wipe=_interopRequireDefault(require("../../wipe.js")),_entity=_interopRequireDefault(require("../entity.js")),_text_particle=_interopRequireDefault(require("../particle/text_particle.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(i){return function(){var t,e=_getPrototypeOf(i);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Player=function(_Entity){_inherits(Player,_Entity);var _super=_createSuper(Player);function Player(){var t,e;return _classCallCheck(this,Player),(e=_super.call(this)).accel=.15,e.airAccel=.07,e.jumpAccel=2.7,e.airJumpAccel=2.7,e.maxSpeed=1,e.wasGrounded=0,e.startX=0,e.startY=0,e.x=0,e.y=0,e.xm=0,e.ym=0,e.maxSpeed=1,e.facing=facing.right,e.state=state.stand,e.stateCounter=0,e.showBox=!1,e.freeze=!1,e.oldBtnA=!1,e.inventory={},e.entityName="Player",e.weapon=null,e.attackTimer=0,e.maxLife=10,e.life=10,e.weapon_sprite=null,e.weapon_origin_right={x:6,y:4},e.weapon_origin_left={x:1,y:4},e.chain_atk_count=0,e.showWeaponBbox=!1,e.weaponFrame=null,e.knockbackDuration=20,e.invincibilityDuration=90,e.noKnockback=!1,e.spriteSheet=assets.sprites.player_default,e.airJumpCounter=0,e.showBbox=!1,e.bbox={x1:2,y1:1,x2:6,y2:7},e.states=(_defineProperty(t={},state.stand,{anim:{0:0},reset:0}),_defineProperty(t,state.move,{anim:{0:3,4:2,8:1},reset:12}),_defineProperty(t,state.jump,{anim:{0:1},reset:0}),_defineProperty(t,state.fall,{anim:{0:3,12:4},reset:-1}),_defineProperty(t,state.ouch,{anim:{0:5},reset:-1}),_defineProperty(t,state.slide,{anim:{0:1},reset:-1}),_defineProperty(t,state.knockback,{anim:{0:3},reset:-1}),t),e}return _createClass(Player,[{key:"addItem",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:1;0!=n&&(void 0===this.inventory[t]?this.inventory[t]=n:this.inventory[t]+=n,0<n?console.log("got "+t+" x"+n):console.log("removed "+t+" x"+-n),console.log("inventory",this.inventory))}},{key:"hasItem",value:function(t){return void 0===this.inventory[t]?0:this.inventory[t]}},{key:"removeItem",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:1;this.addItem(t,-n),this.inventory[t]<=0&&delete this.inventory[t]}},{key:"init",value:function(t,e){_get(_getPrototypeOf(Player.prototype),"init",this).call(this,t,e)}},{key:"move",value:function(){this.clampMotion();var t=this.getMove();this.x=t.x,this.y=t.y,this.xm=t.xm;var e=.5;if(this.hasItem("Double Jump Ring")&&(e=1.5),t.collision.down&&this.ym>this.jumpAccel+e){var n=this.getBbox();Math.floor((this.y+n.y2)/tileSize);this.ym=-this.ym/3,this.y-=.1,sfx("bounce")}else this.ym=t.ym}},{key:"restart",value:function(){_get(_getPrototypeOf(Player.prototype),"restart",this).call(this),this.life=this.maxLife,patatracker.playSong(0)}},{key:"damage",value:function(t){if(!this.isInvincible()){this.life-=t,this.life<=0?(sfx("squeak"),this.setState(state.ouch),this.die()):(sfx("oof"),this.setInvincible());var e=this.getRealCenter(),n=new _text_particle.default;n.str=Math.round(t).toString(),n.x=e.x,n.y=e.y-4,n.colors=assets.data.particles.spark.colors,n.gravity=-.05,n.setLife(assets.data.particles.spark.duration),textQueue.push(n)}}},{key:"die",value:function(){var t=this;this.freeze=!0,patatracker.stop(),_wipe.default.run(function(){return t.restart()},null)}},{key:"addWeapon",value:function(t){console.log("Got weapon "+t),this.weapon=assets.data.weapons[t]}},{key:"getWeaponBbox",value:function(){if(null===this.weaponFrame||0==this.attackTimer)return null;var t=null;try{t=this.weapon[this.chain_atk_count].frames[this.weaponFrame].bbox}catch(t){return null}return null===t||this.facing==facing.right?t:{x1:tileSize-t.x2-1,y1:t.y1,x2:tileSize-t.x1,y2:t.y2}}},{key:"getRealWeaponBbox",value:function(){var t=this.getWeaponBbox();if(null===t)return null;var e=this.weapon[this.chain_atk_count];return this.facing==facing.right?{x1:t.x1+this.x+this.weapon_origin_right.x-e.origin.x,y1:t.y1+this.y+this.weapon_origin_right.y-e.origin.y,x2:t.x2+this.x+this.weapon_origin_right.x-e.origin.x,y2:t.y2+this.y+this.weapon_origin_right.y-e.origin.y}:{x1:t.x1+this.x+this.weapon_origin_left.x-7+e.origin.x,y1:t.y1+this.y+this.weapon_origin_left.y-e.origin.y,x2:t.x2+this.x+this.weapon_origin_left.x-7+e.origin.x,y2:t.y2+this.y+this.weapon_origin_left.y-e.origin.y}}},{key:"update",value:function update(){if(_get(_getPrototypeOf(Player.prototype),"update",this).call(this),!this.freeze){if(this.state==state.custom){if(this.customTimer--,!(this.customTimer<=0))return;this.state=state.stand}var grounded=this.onGround();if(grounded&&this.hasItem("Double Jump Ring")&&(this.airJumpCounter=1),grounded&&this.colliding().includes("exit"))return current_level++,this.freeze=!0,void setTimeout(function(){loadMap(levels[current_level]),player.freeze=!1},1500);this.y>tileSize*map.height&&(sfx("thud"),this.die());var accel=this.accel;if(grounded||(accel=this.airAccel),0==this.attackTimer&&(this.chain_atk_count=0),0<this.knockbackTimer)return 0<this.xm&&(this.xm=Math.max(this.xm-accel,0)),this.xm<0&&(this.xm=Math.min(this.xm+accel,0)),this.ym+=gravity,void this.move();var chain=null;null!==this.weapon&&(chain=this.weapon[this.chain_atk_count],void 0===chain.cancel&&(chain.cancel=chain.anim_duration+1));var canMove=!0;null!==chain&&void 0!==chain.stopMove&&chain.stopMove&&0<this.attackTimer&&(canMove=!1),canMove&&input.btn.right?(this.xm+accel<this.maxSpeed?this.xm=Math.max(this.xm+accel,this.maxSpeed):this.xm=Math.max(this.xm-accel,this.maxSpeed),this.facing=facing.right,grounded&&this.setState(state.move)):canMove&&input.btn.left?(this.xm-accel>-this.maxSpeed?this.xm=Math.min(this.xm-accel,-this.maxSpeed):this.xm=Math.min(this.xm+accel,-this.maxSpeed),this.facing=facing.left,grounded&&this.setState(state.move)):(0<this.xm&&(this.xm=Math.max(this.xm-accel,0)),this.xm<0&&(this.xm=Math.min(this.xm+accel,0)),grounded&&(0==this.xm?this.setState(state.stand):this.setState(state.slide))),canMove&&input.pressed.A&&(grounded||this.wasGrounded&&0<=this.ym)?this.onPlatform()&&input.btn.down?this.y+=2:(this.ym=-this.jumpAccel,sfx("jump")):canMove&&input.pressed.A&&0<this.airJumpCounter?(this.ym=-this.airJumpAccel,this.airJumpCounter--,sfx("jump")):this.ym+=gravity,input.released.A&&!grounded&&this.ym<=-.7&&(this.ym=-.7);var clamp_mult=1,gpx=Math.abs(gamepad.x);.075<=gpx&&(clamp_mult=gpx),this.move(),0<this.ym&&this.setState(state.fall),this.ym<0&&this.setState(state.jump),grounded?this.wasGrounded=4:(this.wasGrounded--,this.wasGrounded<0&&(this.wasGrounded=0)),input.pressed.B&&null!==chain&&(0==this.attackTimer?(this.attackTimer=chain.anim_duration,sfx(chain.sfx)):this.attackTimer<=chain.anim_duration-chain.cancel&&(this.chain_atk_count++,this.chain_atk_count>=this.weapon.length&&(this.chain_atk_count=0),chain=this.weapon[this.chain_atk_count],void 0===chain.cancel&&(chain.cancel=chain.anim_duration+1),this.attackTimer=chain.anim_duration,sfx(chain.sfx)),void 0!==chain.eval&&eval(chain.eval));var weapon_frame=null,weapon_real_bbox=null;if(0<this.attackTimer){weapon_frame=chain.anim_duration-this.attackTimer-1;var weapon_bbox=null;if(this.weapon_sprite=null,void 0!==chain.frames)for(var f in chain.frames){if(f=parseInt(f),!(f<=weapon_frame))break;this.weaponFrame=f,weapon_bbox=this.getWeaponBbox(),this.weapon_sprite=chain.frames[f].sprite,null!==weapon_bbox?(weapon_real_bbox=this.getRealWeaponBbox(),weapon_frame==f&&(void 0!==chain.frames[f].xm&&(this.xm+=chain.frames[f].xm*(this.facing==facing.right?1:-1)),void 0!==chain.frames[f].ym&&(this.ym+=chain.frames[f].ym))):weapon_real_bbox=null}null!==this.weapon_sprite&&(this.facing==facing.right?queueSprite(assets.sprites.weapons,this.weapon_sprite,this.x+this.weapon_origin_right.x-chain.origin.x,this.y+this.weapon_origin_right.y-chain.origin.y):queueSprite(assets.sprites.weapons,this.weapon_sprite,this.x+this.weapon_origin_left.x-7+chain.origin.x,this.y+this.weapon_origin_right.y-chain.origin.y,!0)),this.attackTimer--}var _iterator=_createForOfIteratorHelper(enemyQueue),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var enemy=_step.value;!this.collidingWith(enemy)||enemy.freeze||enemy.isInvincible()||this.isInvincible()||(this.knockback(enemy.playerKnockback.x,enemy.playerKnockback.y,this.facing==facing.right),this.damage(enemy.playerDamage)),null!==weapon_real_bbox&&enemy.collidingWithBox(weapon_real_bbox)&&!enemy.isInvincible()&&(enemy.knockback(chain.knockback.x,chain.knockback.y,this.facing==facing.left),enemy.damage(chain.power))}}catch(t){_iterator.e(t)}finally{_iterator.f()}this.oldBtnA=input.btn.A}}}]),Player}(_entity.default);exports.default=Player},{"../../wipe.js":377,"../entity.js":359,"../particle/text_particle.js":370}],372:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../entity.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){return function(){var t,e,n,i=l(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=l(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"]);var t,e,n,i=c(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this)).itemName="Generic Script",t.mode="collide",t.bbox={x1:1,y1:1,x2:6,y2:7},t}return t=r,(e=[{key:"draw",value:function(){}},{key:"die",value:function(){var e=this;scriptQueue=scriptQueue.filter(function(t){return t!==e})}},{key:"update",value:function(){("collide"==this.mode&&this.collidingWith(player)||"activate"==this.mode&&this.collidingWith(player)&&input.pressed.Y)&&this.run()}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"../entity.js":359}],373:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("../script.js"))&&i.__esModule?i:{default:i};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){return function(){var t,e,n,i=l(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=l(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"]);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this)).entityName="Exit",e.mode="collide",e.bbox={x1:1,y1:1,x2:6,y2:7},e}return t=r,(e=[{key:"run",value:function(){void 0!==this.metadata.map&&(void 0!==this.metadata.x?loadMap(this.metadata.map,this.metadata.x,this.metadata.y):loadMap(this.metadata.map))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"../script.js":372}],374:[function(require,module,exports){"use strict";var _player=_interopRequireDefault(require("./entity/player/player.js")),_fireball_enemy=_interopRequireDefault(require("./entity/enemy/enemies/fireball_enemy.js")),_mogus_enemy=_interopRequireDefault(require("./entity/enemy/enemies/mogus_enemy.js")),_bee_enemy=_interopRequireDefault(require("./entity/enemy/enemies/bee_enemy.js")),_inky_enemy=_interopRequireDefault(require("./entity/enemy/enemies/inky_enemy.js")),_volcano_goodie=_interopRequireDefault(require("./entity/goodie/goodies/volcano_goodie.js")),_chest_goodie=_interopRequireDefault(require("./entity/goodie/goodies/chest_goodie.js")),_coin_goodie=_interopRequireDefault(require("./entity/goodie/goodies/coin_goodie.js")),_door_goodie=_interopRequireDefault(require("./entity/goodie/goodies/door_goodie.js")),_weapon_goodie=_interopRequireDefault(require("./entity/goodie/goodies/weapon_goodie.js")),_item_goodie=_interopRequireDefault(require("./entity/goodie/goodies/item_goodie.js")),_npc_goodie=_interopRequireDefault(require("./entity/goodie/goodies/npc_goodie.js")),_grenade_projectile=_interopRequireDefault(require("./entity/goodie/goodies/grenade_projectile.js")),_exit_script=_interopRequireDefault(require("./entity/script/scripts/exit_script.js")),_textbox=_interopRequireDefault(require("./textbox.js")),_atlas_item=_interopRequireDefault(require("./atlas_item.js")),_wipe=_interopRequireDefault(require("./wipe.js")),_scripts=_interopRequireDefault(require("./scripts.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}window.GrenadeProjectile=_grenade_projectile.default,window.Scripts=_scripts.default,_scripts.default.init(),window.levels=["Home","Test","Level 4","Level 1","Level 2","Level 3"],window.disembugulate=!1;var max_parallax=10;window.Flags={};var penColors=[],paperColors=[];function _loadMap(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;console.log("_loadmap ".concat(t," ").concat(n," ").concat(i)),enemyQueue=[],goodieQueue=[],particleQueue=[],textQueue=[],scriptQueue=[],atlasQueue={},background=[];for(var r=0;r<max_parallax;r++){var o=getMap(t+"/bg."+r);console.log("loading background "+t+"/bg."+r),o&&(console.log("loaded",o),background.push(o))}map=getMap(t+"/main"),foreground=getMap(t+"/fg"),entityMap=getMap(t+"/entities"),tiles=assets.data.tiletypes[map._tilesheetPath];try{bgcolor=assets.data.mapdata[map._name].bgcolor}catch(t){bgcolor=1}var s,a=_createForOfIteratorHelper(background.concat([map,foreground]));try{for(a.s();!(s=a.n()).done;){var u=s.value;if(void 0!==u&&void 0!==u._name){atlasQueue[u._name]=[];try{e=assets.data.mapdata[u._name].atlas}catch(t){e=[]}if(void 0!==e){var c,l=_createForOfIteratorHelper(e);try{for(l.s();!(c=l.n()).done;){var h=c.value,f=new _atlas_item.default(assets.atlas[h.sprite],h.x,h.y);atlasQueue[u._name].push(f)}}catch(t){l.e(t)}finally{l.f()}}}}}catch(t){a.e(t)}finally{a.f()}null!==bgcolor&&void 0!==bgcolor||(bgcolor=1);var p=entityMap.find(0).pop();for(var d in enemyTypes){var y,_=enemyTypes[d],m=_createForOfIteratorHelper(entityMap.find(parseInt(d)));try{for(m.s();!(y=m.n()).done;){var g=y.value;console.log([_.name,g.x,g.y]);var v=new _(parseInt(d));v.init(g.x*tileSize,g.y*tileSize),enemyQueue.push(v)}}catch(t){m.e(t)}finally{m.f()}}for(var d in goodieTypes){var b,x=goodieTypes[d],w=_createForOfIteratorHelper(entityMap.find(parseInt(d)));try{for(w.s();!(b=w.n()).done;){g=b.value;console.log([x.name,g.x,g.y]);var $=new x(parseInt(d));$.init(g.x*tileSize,g.y*tileSize),goodieQueue.push($)}}catch(t){w.e(t)}finally{w.f()}}for(var d in scriptTypes){var j,S=scriptTypes[d],k=_createForOfIteratorHelper(entityMap.find(parseInt(d)));try{for(k.s();!(j=k.n()).done;){g=j.value;console.log([S.name,g.x,g.y]);var P=new S(parseInt(d));P.init(g.x*tileSize,g.y*tileSize),scriptQueue.push(P)}}catch(t){k.e(t)}finally{k.f()}}null!==n&&null!==i?player.init(n*tileSize,i*tileSize):player.init(p.x*tileSize,p.y*tileSize),console.log("player init complete"),console.log(p)}function initInput(){input={btn:_objectSpread({},gamepad.btn),pressed:_objectSpread({},gamepad.btn),released:_objectSpread({},gamepad.btn)}}function updateInput(){for(var t in gamepad.btn)gamepad.btn[t]&&!input.btn[t]?input.pressed[t]=!0:input.pressed[t]=!1,!gamepad.btn[t]&&input.btn[t]?input.released[t]=!0:input.released[t]=!1;input.btn=_objectSpread({},gamepad.btn)}function drawHealthBar(){tilesheet(assets.ui),sprite(0,9,9),pushPen(6),rect(18,9,30,7),popPen(),pushPen(3),rect(19,10,28,5),popPen(),pushPaper(20),rectf(20,11,26*player.life/player.maxLife,3),popPaper()}window.firstFrame=!0,window.evenFrame=!0,window.bgcolor=1,window.paused=!1,window.hideUI=!1,_wipe.default.init(),window.Flag=function(t){return console.log("Checking flag "+t),void 0!==window.Flags[t]?(console.log("Flag ".concat(t,": ").concat(window.Flags[t])),window.Flags[t]):(console.log("Flag ".concat(t," is not set")),!1)},window.template=function(str){return eval("`"+str+"`")},window.randRange=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},window.randFloatRange=function(t,e){return Math.random()*(e-t)+t},window.pushPen=function(t){penColors.push(t),pen(t)},window.popPen=function(){penColors.pop(),0<penColors.length&&pen(penColors.slice(-1))},window.pushPaper=function(t){paperColors.push(t),paper(t)},window.popPaper=function(){paperColors.pop(),0<paperColors.length&&paper(paperColors.slice(-1))},window.drawBbox=function(t){pushPaper(1<arguments.length&&void 0!==arguments[1]?arguments[1]:20);var e=Math.round(t.x1-camera.x),n=Math.round(t.y1-camera.y),i=t.x2-t.x1+1,r=t.y2-t.y1+1;rectf(e,n,i,r),popPaper()},window.queueBox=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;boxQueue.push({box:t,color:e})},window.enemyQueue=[],window.goodieQueue=[],window.particleQueue=[],window.boxQueue=[],window.spriteQueue=[],window.scriptQueue=[],window.textQueue=[],window.spriteQueueDrawn=[],window.atlasQueue={},window.gravity=.15,window.tileSize=8,window.input={},window.tiles=null,window.display={w:128,h:128},window.enemyTypes={113:_fireball_enemy.default,112:_mogus_enemy.default,116:_bee_enemy.default,117:_inky_enemy.default},window.goodieTypes={16:_coin_goodie.default,17:_door_goodie.default,18:_door_goodie.default,19:_chest_goodie.default,20:_weapon_goodie.default,32:_npc_goodie.default,35:_item_goodie.default,114:_volcano_goodie.default},window.scriptTypes={34:_exit_script.default},window.facing={left:0,right:1},window.state={stand:0,move:1,jump:2,fall:3,ouch:4,closed:5,open:6,custom:7,slide:8,knockback:9},window.current_level=0,window.camera={x:0,y:0,set:function(t,e){this.x=t,this.y=e}},window.player=new _player.default,window.background=[],window.map=null,window.foreground=null,window.entityMap=null,window.loadMap=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_wipe.default.run(function(){return _loadMap(t,e,n)})},window.tileRect=function(t,e,n){pushPen(t),rect(e*tileSize-camera.x,n*tileSize-camera.y,tileSize,tileSize),popPen()},window.checkTile=function(t,e){var n=Math.floor(t/tileSize),i=Math.floor(e/tileSize);return map.get(n,i)?[{tx:n,ty:i,tile:map.get(n,i)}]:[]},window.checkTilesH=function(t,e,n){for(var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,r=[],o=t;o<e;o+=tileSize)r.push(o);r.push(e);for(var s=Math.floor(n/tileSize),a=[],u=null,c=0,l=r;c<l.length;c++){var h=l[c];if((h=Math.floor(h/tileSize))!=u){u=h;var f=map.get(h,s);0<=i&&tileRect(i,h,s),f&&a.push({tx:h,ty:s,tile:f})}}return a},window.checkTilesV=function(t,e,n){for(var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,r=[],o=e;o<n;o+=tileSize)r.push(o);r.push(n);for(var s=Math.floor(t/tileSize),a=[],u=null,c=0,l=r;c<l.length;c++){var h=l[c];if((h=Math.floor(h/tileSize))!=u){u=h;var f=map.get(s,h);0<=i&&tileRect(i,s,h),f&&a.push({tx:s,ty:h,tile:f})}}return a},console.log(assets),_textbox.default.init(),_textbox.default.setColor(6),_loadMap(levels[current_level]),pushPaper(1),pushPen(20),patatracker.playSong(0),window.say=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];_textbox.default.queue(template(t),e),_textbox.default.show(),_textbox.default.showBox=n},setInterval(function(){if(window.disembugulate,updateInput(),!_textbox.default.isVisible()&&!paused){var t,e=_createForOfIteratorHelper(particleQueue);try{for(e.s();!(t=e.n()).done;){t.value.update()}}catch(t){e.e(t)}finally{e.f()}var n,i=_createForOfIteratorHelper(textQueue);try{for(i.s();!(n=i.n()).done;){n.value.update()}}catch(t){i.e(t)}finally{i.f()}player.update();var r,o=_createForOfIteratorHelper(enemyQueue);try{for(o.s();!(r=o.n()).done;){r.value.update()}}catch(t){o.e(t)}finally{o.f()}var s,a=_createForOfIteratorHelper(goodieQueue);try{for(a.s();!(s=a.n()).done;){s.value.update()}}catch(t){a.e(t)}finally{a.f()}var u,c=_createForOfIteratorHelper(scriptQueue);try{for(c.s();!(u=c.n()).done;){u.value.update()}}catch(t){c.e(t)}finally{c.f()}}_textbox.default.update(),_wipe.default.update(),spriteQueueDrawn=[],evenFrame=!evenFrame},1e3/60),console.log(assets),exports.update=function(){window.disembugulate,firstFrame&&initInput(),pushPaper(bgcolor),cls(),popPaper();var t=Math.round(player.x-display.w/2+tileSize);t<0&&(t=0),t>map.width*tileSize-display.w&&(t=map.width*tileSize-display.w);var e=Math.round(player.y-display.h/2+tileSize);e<0&&(e=0),e>map.height*tileSize-display.h&&(e=map.height*tileSize-display.h),camera.set(t,e);var n,i=display.w/tileSize,r=display.h/tileSize,o=_createForOfIteratorHelper(background);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s&&s.draw(-camera.x*(s.width-i)/(map.width-i),-camera.y*(s.height-r)/(map.height-r)),void 0!==atlasQueue[s._name]){var a,u=_createForOfIteratorHelper(atlasQueue[s._name]);try{for(u.s();!(a=u.n()).done;){a.value.draw(-camera.x*(s.width-i)/(map.width-i),-camera.y*(s.height-r)/(map.height-r))}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){o.e(t)}finally{o.f()}if(map.draw(-camera.x,-camera.y),void 0!==atlasQueue[map._name]){var c,l=_createForOfIteratorHelper(atlasQueue[map._name]);try{for(l.s();!(c=l.n()).done;){c.value.draw(-camera.x,-camera.y)}}catch(t){l.e(t)}finally{l.f()}}var h,f=_createForOfIteratorHelper(goodieQueue);try{for(f.s();!(h=f.n()).done;){h.value.draw()}}catch(t){f.e(t)}finally{f.f()}player.draw();var p,d=_createForOfIteratorHelper(enemyQueue);try{for(d.s();!(p=d.n()).done;){p.value.draw()}}catch(t){d.e(t)}finally{d.f()}var y,_=_createForOfIteratorHelper(particleQueue);try{for(_.s();!(y=_.n()).done;){y.value.draw()}}catch(t){_.e(t)}finally{_.f()}if(foreground&&(foreground.draw(-camera.x,-camera.y),void 0!==atlasQueue[foreground._name])){var m,g=_createForOfIteratorHelper(atlasQueue[foreground._name]);try{for(g.s();!(m=g.n()).done;){m.value.draw(-camera.x,-camera.y)}}catch(t){g.e(t)}finally{g.f()}}var v,b=_createForOfIteratorHelper(spriteQueueDrawn);try{for(b.s();!(v=b.n()).done;){var x=v.value;drawSprites(x.sheet,x.tile,x.x,x.y,x.flipH,x.flipV,x.flipR)}}catch(t){b.e(t)}finally{b.f()}for(;0<spriteQueue.length;){x=spriteQueue.pop();drawSprites(x.sheet,x.tile,x.x,x.y,x.flipH,x.flipV,x.flipR),spriteQueueDrawn.push(x)}for(tilesheet(assets.tiles.cave.tiles);0<boxQueue.length;){var w=boxQueue.pop();drawBbox(w.box,w.color)}var $,j=_createForOfIteratorHelper(textQueue);try{for(j.s();!($=j.n()).done;){$.value.draw()}}catch(t){j.e(t)}finally{j.f()}window.hideUI||drawHealthBar(),_textbox.default.draw(),_wipe.default.draw(),firstFrame=!1},window.drawSprites=function(t,e,n,i){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=6<arguments.length&&void 0!==arguments[6]&&arguments[6];if(tilesheet(t),Array.isArray(e))for(var a=0;a<e[1];a++)for(var u=0;u<e[2];u++)sprite(a+e[0]+16*u,n-camera.x+a*tileSize*(r?-1:1),i-camera.y+u*tileSize*(o?-1:1),r,o,s);else sprite(e,n-camera.x,i-camera.y,r,o,s)},window.queueSprite=function(t,e,n,i){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=6<arguments.length&&void 0!==arguments[6]&&arguments[6];spriteQueue.push({sheet:t,tile:e,x:n,y:i,flipH:r,flipV:o,flipR:s})}},{"./atlas_item.js":351,"./entity/enemy/enemies/bee_enemy.js":352,"./entity/enemy/enemies/fireball_enemy.js":353,"./entity/enemy/enemies/inky_enemy.js":354,"./entity/enemy/enemies/mogus_enemy.js":357,"./entity/goodie/goodies/chest_goodie.js":361,"./entity/goodie/goodies/coin_goodie.js":362,"./entity/goodie/goodies/door_goodie.js":363,"./entity/goodie/goodies/grenade_projectile.js":364,"./entity/goodie/goodies/item_goodie.js":365,"./entity/goodie/goodies/npc_goodie.js":366,"./entity/goodie/goodies/volcano_goodie.js":367,"./entity/goodie/goodies/weapon_goodie.js":368,"./entity/player/player.js":371,"./entity/script/scripts/exit_script.js":373,"./scripts.js":375,"./textbox.js":376,"./wipe.js":377}],375:[function(t,e,n){"use strict";function o(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}var t,e,n;return t=r,n=[{key:"init",value:function(){r.maguffins=["Big Bolt","Titanium Ore","Dilithium Crystal"]}},{key:"PlayerHasMaguffins",value:function(){var t,e=o(r.maguffins);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!player.hasItem(n))return!1}}catch(t){e.e(t)}finally{e.f()}return!0}},{key:"MaguffinList",value:function(){var t,e=[],n=o(r.maguffins);try{for(n.s();!(t=n.n()).done;){var i=t.value;player.hasItem(i)||e.push(i)}}catch(t){n.e(t)}finally{n.f()}return e.join(", ")}},{key:"Ending",value:function(){patatracker.stop(),hideUI=!0,loadMap("Ending"),patatracker.playSong(1),setTimeout(function(){say("Thanks to your help, the strange beings from the sky are able to repair their ship. They say their goodbyes and take off to resume their journey among the stars. Perhaps they will return some day...")},3e3)}}],(e=null)&&i(t.prototype,e),n&&i(t,n),r}();n.default=r},{}],376:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Texture=require("pixelbox/Texture"),wrap=function(t,e){return t.replace(new RegExp("(?![^\\n]{1,".concat(e,"}$)([^\\n]{1,").concat(e,"})\\s"),"g"),"$1\n")},TextBox={visible:!1,text:[],texture:null,showBox:!0,map:null,eval:null,queue:function(t,e){var n=1<arguments.length&&void 0!==e?e:null;input.pressed.Y=!1;var i=wrap(t,24).split("\n");this.text=this.text.concat(i),this.eval=n},show:function(){this.visible=!0,this.render()},update:function update(){this.visible&&(input.pressed.A||input.pressed.Y)&&(0<this.text.length?this.render():(this.visible=!1,this.eval&&eval(this.eval),this.eval=null))},render:function(){this.texture.clear(),this.showBox&&this.texture.draw(this.map,0,0);for(var t=0;t<3;t++){var e=2*tileSize,n=(2+t)*tileSize+1;if(0<this.text.length){var i=this.text.shift();this.texture.print(i,e,n)}}},draw:(Ksb=function(){this.visible&&draw(this.texture,0,0)},Lsb.toString=function(){return Ksb.toString()},Lsb),setColor:function(t){this.texture.pen(t)},isVisible:function(){return this.visible},init:function(){this.texture=new Texture(128,128),this.map=getMap("Dialog")}},Ksb;function Lsb(){return Ksb.apply(this,arguments)}var _default=TextBox;exports.default=_default},{"pixelbox/Texture":321}],377:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,i,r;function o(){return r.apply(this,arguments)}return t=n,e=null,i=[{key:"init",value:function(){console.log("wipe init"),n.x=128,n.active=!1,n.callback=null,n.arg=null,n.direction="out",n.speed=4}},{key:"run",value:function(t,e){n.active||(n.x=128,n.active=!0,n.callback=t,n.arg=e,n.direction="out",player.freeze=!0)}},{key:"update",value:function(){n.active&&("out"==n.direction?(n.x-=n.speed)<=-96&&(n.callback(n.arg),n.direction="in",n.x=-32):(n.x-=n.speed)<-256&&(n.active=!1,player.freeze=!1))}},{key:"draw",value:(r=function(){n.active&&draw(assets.atlas.wipe,n.x,0,"in"==n.direction)},o.toString=function(){return r.toString()},o)}],e&&s(t.prototype,e),i&&s(t,i),n}();n.default=i},{}],378:[function(d,t,e){"use strict";var n,i,h=d("."),r={dat:{boxes:null,desert_bricks:null,palette:null,palette_rgb:null,red_bricks:null,rocks1:null,rocks2:null,rocks3:null,tilesheet:null,ui:null,bleeper:{_type:"Bleeper program",v:1,s:[{n:"jump",i:[19,0,127,0],s:"'PM'QF'R?'S8'T3"},{n:"thud",i:[53,0,127,0],s:"'8U'(T'#S"},{n:"bounce",i:[32,0,127,0],s:"')U"},{n:"squeak",i:[16,0,127,0],s:"(oU(nU(nS(mQ(lO(kJ(jF"},{n:"coin",i:[53,0,127,0],s:")j@)q/)q))q&"},{n:"bonus",i:[53,0,127,0],s:"&QU&YT&aM&fG"},{n:"unlock",i:[20,0,127,0],s:"*[U*>#*>#*>#*>#*>#*YU"},{n:"swoosh",i:[18,0,127,0],s:"*{~*|2*|2*|2*{2*y0*x-"},{n:"oof",i:[20,0,127,0],s:"#GE#E7#D0#B)"},{n:"steps",i:[53,0,127,0],s:"*_U*G#*G#*^#*^J*]#*^#*^#*^>"},{n:"bigswoosh",i:[26,0,127,0],s:"*z6*|:*|<*{;*{7*y1*y,*y'"}]},maps:{_type:"maps",maps:[{w:16,h:128,name:"Level 1/main",sheet:"tiles/cave/tiles",data:"!!|p###$|3#%!!|K###$#%!!|M###$#%!!|]###$#%!!|2###$#%!!|B###$#%!!|W###$|3#%!!|K###%!!|O###$|1#%!!|<###%!!|M###%!!|]###%!!|[###%!!|V###%!!|F###%!!|F###%!!|F###%!!|U###$#%!!|-###$|/#%!!|P#C!!|X###$#%!!|N###$#%!!|A###$|0#%!!|~#%!!|^###$|/#%!!|Z###$#%!!|S###$|-#%!!|T###%!!|V###%!!|[###$#%!!|P#$|-#%!!|X###$|-#%!!|]###$#%!!|8%9!!|4###$|1#%!!|P###$#%!!|K###$|-#%!!|[###$!!|P###$|/#%!!|M###$|-#%!!|J###$#%!!|X###$|-#%!!|:###%!!|T###$|/#%!!|1###%!!|U###$|,#%!!|N#~!!|7###$#+|-#%!!|?###$|,#%!!|T###$|1#%!!|K###$#%!!|}"},{w:64,h:30,name:"Level 2/main",sheet:"tiles/cave/tiles",data:"!!|p#V#W#X!!|h#h|-!!.~###$#%!!|B###$|-#%!!|F###$#%!!|p###$#%!!|-###$|3#%!!|O###$#%!!}f###$|~#%!!}4#?!!|8###$#%!!}I###%!!.'%g###$|-#%!!|U#S#T|~#U!!|2###%!!.&###$|,#%#7|,###%!!|g#7|,!!|i#7|,!!|,###$|<#%!!|J###$|,#%!!|~#7|,!!|i#7|,!!|i#7|,!!|i#7|,!!|i#7|,!!|i#7|,!!|_"},{w:64,h:24,name:"Level 3/main",sheet:"tiles/cave/tiles",data:"!!}!#)!!|F###$|-#%!!|F###$|-#%!!|6###7#$#%!!|h#7!!|<###$|,#%!!|Q#%!!#7!!|j#7!!|-###$|,#%!!|K###$|-#%!!|:#8#&#G#&% !!|A###$#%!!|K#7###$#%#7!!|1###$|-#%!!|@###%!!|A#7!!|-#7!!|F###$#%!!|F#7!!|-#7###$|,#%!!|b#7!!|-#7!!|/###$#%!!|~###$|,#%!!|2###$|-#%!!|H#7!!|-#7!!|>###$#%!!|N#7!!|-#7!!###$#%!!|b#7!!|-#7!!|,###$|,#%!!|-###$|,#%!!|X#7!!|-#7!!|;###$#%!!|4###$|/#%!!|@#7!!|-#7!!|0###$#%!!|]#7!!|-#7!!|7###$#%!!|U#7!!|-#7!!|a###$|~#7!!|-#7!!|2###$|,#%!!|Y#7#'|-#7#'|f#G#&|-#G#&|f#6|k"},{w:48,h:36,name:"Level 4/main",sheet:"tiles/outdoor/tiles",data:"!! y#(#)!!|,#/!!|U#&#;#<#8#-!!|U#*#+!!|U#~!!|,#*#+!!|L#(#)!!|1#,#8#9#:#+!!|L#&#'!!|4#*#+!!|L#&#+!!|4#*#+!!|~#/!!|C#~!!|-#*#+!!|~#/!!|/#*#;#<#8|-#-!!|C#,#8|,#9#:#;#<#8|-#-!!|/#*#+!!|L#*#+!!|0#~!!|-#*#+!!|G#~!!|~#*#+!!|0#,#8|,#9#:#+!!|-#/!!|C#,#8|-#9#:#+!!|4#*#;#<#8|,#-!!|H#*#+!!|~#/!!|/#*#+!!|L#*#;#<#8|-#-!!|,#~!!|,#*#+!!|H#~!!|-#*#+!!|1#,#8#9#:#+!!|H#,#8|,#9#:#+!!|4#*#+!!|L#*#+!!|4#*#+!!|-#/!!|H#*#+!!|,#/!!|1#*#;#<#8|,#-!!|H#*#;#<#8#-!!|1#*#+!!|L#*#+!!|1#~!!|,#*#+!!|L#*#+!!|1#,#8#9#:#+!!|,#/!!|H#3#4|-#5!!|2#*#;#<#8#-!!|H#C#D|~#4#5!!|0#*#+!!|1#F|0!!|:###$!!#%#C#D|/#E!!|0#*#+!!|1#F#K|~#F!!|:#3#4|-#D|0#E!!|0#*#+!!|1#F#K|~#F!!|:#C#D|4#4#5!!|~#*#+!!|1#F#K|~#F!!|:#C#D|5#E!!#%!!|,#*#+!!|,##!!#$!!|,#K|0##|,!!#%!!|,##!!|,#%!!|,#4|~#D|7#4|I#D|Z"},{w:16,h:128,name:"Level 1/fg",sheet:"tiles/cave/foreground",data:"!!|V#4!!|4#$#4#&%l!!#D!!|:##!!|/#4!!|/#3!!|-#3!!|/#D!!|/#3!!|-#3!!|5#C!!|-#3!!|3#4#$!!|~#3!!|9#C!!|H#&!!|@#4!!|8%l#D!!|:%j!!|9%z!!|9&,!!|-#4!!|8##!!|9#3!!|9#C!!|9#4!!#4!!|6#4#D!!#D!!%m#%#4!!|7##!!|/#&!!|3#3!!|9#C!!|4%k!!|L#4!!|9#D!!|:##!!|9#3!!|9#3!!|,#$!!|6#C!!|i#4!!|V##!!|8#$#3!!|9#3!!|9#3!!|/#4!!|3#3!!|-%l!!#D#4!!|2#3!!|9#3!!|9#3!!|9#C!!|6#4!!|9#D!!|R#4!!|G%l#&!!|U#4!!|7#4!!#D#4!!|z#4!!|9#D#4!!|9##!!|9#3!!|9#3!!|9#3!!|9#3!!|5%k!!|-#3!!|9#C!!|r#$!!|Z%l#&!!|P#4!!|8#%#D!!.0%{!!|9&-#&!!|3%j!!|5%{!!|-%z!!|3%{!!&-!!|-%z!!|9&,!!|8#%!!|N%{!!|9&-!!}'##!!|9#C!!|6#%!!|c#$|,!!|2#4!!|-##!!|5#D!!|-#3!!|9#3!!|7#4!!#3!!|5#&%l#D!!#C!!}S"},{w:16,h:32,name:"Level 1/bg.0",sheet:"tiles/cave/background",data:"!!|1%n#&#'!!|7%n#&#'#$!!|6%n#&#'!!|,##!!|0#%!!|-%n#&#'!!|3##!!|-%n#&#'#$!!|-#$!!|2%n#&#'!!|7%n#&#'!!#$!!|5%n#&#'!!|3#$!!|,##%n#&#'!!|7%n#&#'#$#%!!|/#$!!|/%n#&#'!!##!!|5%n#&#'!!|/#%!!|1%n#&#3!!|7%n#&#'!!|7%n#&#'!!|0##!!#6!!|,#$##%n#&#'!!|1%n%m#'!!|-%n#&#'!!|1%n%m#3!!|,#%%n#&#'!!|,##!!|~%n%m#'!!|-%n#&#'!!|1%n%m#'!!|-%n#&#'!!|1%n%m#'!!|-%n#&#'!!|1%n%m#'!!|-%n#&#'#$!!|0%n%m#'!!#$!!%n#&#'!!|1#5%m#'!!|-%n#&#3!!|-##!!|-%n%m#'!!|-%n#&#'!!|1%n%m#'!!|-%n#&#'!!|1%n%m#'!!|-#5#&#'!!|1%n%m#'!!|-%n#&#'!!|1%n%m#3!!|-%n#&#'!!|,##!!|~%n%m#'!!|-%n#&#'!!|1%n%m#'!!##!!%n#&#'!!|1%n%m#'!!|-%n#&#'!!|0"},{w:16,h:16,name:"Test/main",sheet:"tiles/cave/tiles",data:"#1|:#)!!|8#)#9!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|8#9|,!!|6#)!!#9#I!!|6#I!!#I#1|:"},{w:64,h:16,name:"Test 2/main",sheet:"tiles/cave/tiles",data:"!!|A#)!!|J#)!!|H#9!!|J#9!!|H#9!!|J#9!!|H#9!!|J#9!!|H#9!!|J#9!!|H#9%)|I!!#9!!|H#9%)|I!!#9!!|H#9%)|I!!#9!!|P$P%g%3!!|@#9!!|6#j!!|;#I!!$X!!|/%g%3$P!!|<#:!!|,%i#I!!|4#)!!|/#)#*#+#,!!|~$V!!|/#*#+|J#,!!|4#9!!|/#9!!|0#*#+|-#,!!|X#I!!$F!!|-#I!!|d#*#+|0#,!!.%"},{w:64,h:16,name:"Test 2/fg",sheet:"tiles/cave/foreground",data:"!!!.!!.r#4!!|j#D!!|h##!!|j#3!!|j#C!!|d"},{w:16,h:16,name:"Test/entities",sheet:"tiles/entities",data:"!!.=#F!!|=#4##!!|G"},{w:16,h:128,name:"Level 1/entities",sheet:"tiles/entities",data:"!!|h##!!#4!!|,#7!!|9#3!!|9#3!!}1#3|-!!|v$8!!|~$7!!|z$6!!}=#3!!|Y#3!!|W#3!!|G#3!!|G#3!!|.$7!!}*#3|,!!|j$7!!|f$6!!}2$8!!.&$7!!|c#3!!|9#3!!|J$8!!|D$7!!|.$7!!|_#3!!|R$6!!$8!!|R$7!!|}#3|-!!|l$6!!|B#3!!|P#3|,!!|W$7!!|u$8!!|Q#4!!}0"},{w:64,h:30,name:"Level 2/entities",sheet:"tiles/entities",data:"!!.x$8!!|E#7!!|V#3|5!!|a$6!!$8!!|-$8!!|S#6!!}l#5!!}D$6!!.l#3!!|g#3$8!!|b#3|,!!.,$7$8!!}b$6!!|M#4##!!!s"},{w:64,h:24,name:"Level 3/entities",sheet:"tiles/entities",data:"!!}?#F!!!.!!.}#4##!!}o#F!!!.!!|z"},{w:48,h:36,name:"Level 4/entities",sheet:"tiles/entities",data:"!!!.!! ]#S!!!`#S!!|Y$:!!|=#S$:!!}b$9!!|;$6!!|k#S$:!!|r#E##!!|?$6!!|?#F!!}/"},{w:48,h:36,name:"Level 4/bg.1",sheet:"tiles/outdoor/background",data:"!!.D###$|~#%!!|R###$#4#6#4|~#%!!|Q#3#4|0#6#4#%!!|E###$|-#%!!|/###4|3#5!!|E#3#4|-#5!!|/#3#4|4#%!!|D#3#4#6#4|,#%!!|~#3#4#6#4|2#5!!|A###$|,#4|0#$|,#%###4|0#6#4|~#5!!|@###4|-#6#4|1#5#3#4|3#6#4#5!!|@#3#4|3#6#4|8#5!!|?###6#4|0!!#4|0#6#4|5#%!!|>#3#4|,#6#4|~!!#4|<#5!!|>#3#4|:#6#4|2#6#5!!|>#C#4|1!!#6#4|6#6#4|~#5!!|>###4|~#6#4|,!!#4|<#5!!|=###4|2!!#4|-#6#4|8#5!!|=#3#4|2!!#4|1#6#4|4#5!!|=#C#6#4|,#6#4|1#6#4|3#6#4|/#5!!|>#C#4|0!!#4|/#D#4|6#6#5!!|?#3#4|/!!#4|~#E!!#3#4|6#5!!|?#3#4|2#6#4#%!!#3#4|6#E!!|?#C#D|,#4#6#4|1#%#C#4#6#4|3#5!!|C#C#D|,#4!!#4|~#5!!#3#4|1#6#4|,#E!!|F#4|,#D|~#E!!#3#4|3#5!!|O#3#4|3#E!!|O#C#4|,#6|,#4|~#E!!|Q#C#D#4|~#D#E!!|T#C#4|,#E!!.y"},{w:16,h:16,name:"Dialog",sheet:"boxes",data:"!!|;###$|6#%!!|,#3#4|6#5!!|,#3#4|6#5!!|,#3#4|6#5!!|,#C#D|6#E!!}o"},{w:16,h:16,name:"Home/main",sheet:"tiles/outdoor/tiles",data:"!!|6#*#+!!|8#*#+!!|5#6#7#9#:#+!!|8#*#+!!|8#*#+!!|8#*#+!!|8#*#+!!|8#*#+!!|0#F|/!!|-#*#+!!|0#F#K|-#F!!|-#*#+!!|0#F#K|-#F!!|-#*#+!!|/#$#K|/##!!|,#*#+!!|/#3#4|/#5#1!!#*#+!!|,#2#%#0#C#D|0#5#$#*#+!!###4|-#D|2#4|/#D|:"},{w:16,h:16,name:"Home/bg.2",sheet:"tiles/outdoor/background",data:"!!.q"},{w:16,h:16,name:"Home/entities",sheet:"tiles/entities",data:"!!.%##!!|Q#C!!#E!!|J"},{w:32,h:16,name:"Crash Site/main",sheet:"tiles/outdoor/tiles",data:"!! 3###%#$!!|G#4|,#5#%##!!|E#D|-#4#5!!|E#D|~#E#$!!|D#D|/#5!!#1#%|,#1#%#$!!##!!#%!!###0!!#%!!##!!|-#2|,!!|-#D|0#4|A#5###$#D|H#4#5"},{w:32,h:16,name:"Crash Site/entities",sheet:"tiles/entities",data:"!! 3#E!!##!!}U#C!!|-#C!!#C!!|0$;!!|P#E!!|J"},{w:28,h:16,name:"Crash Site/bg.0",sheet:"tiles/outdoor/background",data:"!!!w"},{w:16,h:16,name:"Home/bg.0",sheet:"",data:"!!.q"},{w:16,h:16,name:"Home/bg.1",sheet:"",data:"!!.q"},{w:16,h:16,name:"Crash Site/bg.1",sheet:"",data:"!!.q"},{w:16,h:32,name:"Level 1/bg.1",sheet:"",data:"!!!.!!|d"},{w:30,h:20,name:"Level 2/bg.0",sheet:"",data:"!!!.!!}_"},{w:60,h:30,name:"Cliff/main",sheet:"tiles/cave/tiles",data:"!!|b#1!!#1!!#1!!|b#1|/!!|b#1|/!!|c#1|~!!|c#1|~!!|c#1|~!!|c#1|~!!|c#2#1|-!!|^#*#+|2!!|V#*#+|~#,!!|0#)!!|f#9!!|f#9!!|f#9!!|,#P!!|Q#*#+|-#,!!|6#I#P#Q#b!!|c#P#b|-!!|c#b|~!!|c#a#b|-!!|c#a#b|-!!|U#*#+|-#,!!|2#a#b|-!!|c#a#b|-!!|c#a#b|-!!|4#+|~!!|T#a#b|-!!|c#2#b|-!!|Z#P#Q|2#b|-#+|0#,!!|3#/|,#0#/#0|,#/|,!!|;#*#+|,#,!!|-#q#r|-#b|2!!|;#)!!|~#)!!|G#q#b|1!!|;#9!!|~#9!!|-#*#+#,!!|-#*#+#,!!|,#*#+#,!!|7#q#b|0!!|;#9!!|~#9!!|I#q#b|/!!|;#9!!|~#9!!|J#q#b|~!!|;#9!!|~#9!!|K#a#b|-"},{w:30,h:20,name:"Cliff/bg.0",sheet:"",data:"!!!.!!}_"},{w:60,h:30,name:"Cliff/entities",sheet:"tiles/entities",data:"!!!.!!|?#E!!!.!!!n#C!!|~#E!!|-#E!!##!!|;$6!!|6$:!!!8"},{w:40,h:60,name:"Castle/main",sheet:"tiles/outdoor/tiles",data:"#L|S!!|P#L|,!!|P#L|,!!|P#L|,!!|:#L|1!!|9#L|,!!|<#L|/!!|9#L|,!!|8#L!!|A#L|,!!|7#L!!|B#L|,!!|P#L|,!!|2#L|/!!|C#L|,!!|P#L|,!!|7#L!!|B#L|,!!|6#L!!|C#L|,!!|9#L|-!!|>#L|,!!|9#L!!#L|,!!|=#L|,!!|>#L!!|;#L|,!!|P#L|,!!|9#L|,!!|?#L|,!!|8#L|/!!|=#L|,!!|P#L|,!!|5#L|,!!|C#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!|0#L|-!!|G#L|,!!|P#L|,!!|P#L|,!!|,#L|,!!|L#L|,!!|~#L!!|K#L|,!!|P#L|,!!|P#L|~!!|N#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!#L|-!!|L#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!|2#L|/!!|C#L|,!!|6#L|,!!|B#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!|7#L|5!!|8#L|,!!|P#L|,!!|6#L!!|C#L|,!!|3#L|~!!|C#L|,!!|P#L|,!!|P#L|,!!|P#L|,!!|1#L|1!!|B#L|,!!|7#L|,!!|A#L|,!!|=#L|~!!|9#L|,!!|A#L!!|8#L|,!!|P#L|,!!|>#L|2!!|4#L|,!!|/#L!!|4#L|:!!|0#L|S"},{w:40,h:60,name:"Castle/bg.0",sheet:"tiles/outdoor/tiles",data:"#M!.#M!.#M!.#M!.#M!.#M}J"},{w:40,h:60,name:"Castle/entities",sheet:"tiles/entities",data:"!!}Y#5!!.-$6!!!%$7!!.T#6!!}A$6!!!.!!|G$;!!.m$;!!!.!!|.#4##!!|M#4!!|S"},{w:30,h:20,name:"Level 4/bg.0",sheet:"",data:"!!!.!!}_"},{w:16,h:16,name:"Ending/main",sheet:"tiles/outdoor/tiles",data:"!!}S#F|-!!|7#F!!#F!!|7#F|-!!}$"},{w:16,h:16,name:"Ending/entities",sheet:"tiles/entities",data:"!!}e##!!}5"},{w:16,h:16,name:"Ending/fg",sheet:"",data:"!!.q"}],emptyDir:["dir0/dir0"]},patatracker:{_type:"Patatracker album",t:8,v:0,a:[],i:{1:[{n:""}],2:[{n:""}],3:[{n:"",a:{t:[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l:0}}],4:[{n:""}],5:[{n:"",w:{t:[0,1,2,3,4,5,6,7,8,7,6,5,4,3,2,1,0,-1,-2,-3,-4,-5,-6,-7,-8,-7,-6,-5,-4,-3,-2,-1]}}],6:[{n:"",a:0,s:0,e:0,l:0,p:0,v:[1,1,1,1,0]}],7:[{n:"",l:{},p:0,c:1,o:[{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:0},{m:1,a:.25,d:.00225,s:.5,r:.00225,c:[0,0,0,0],v:1}]}]},s:[{n:"bgm",a:"",i:"",b:150,l:32,s:4,g:[],h:16,o:0,e:[{i:1,p:{d:.8,w:.3,z:.8,a:.5,i:.8}},0,0,0],t:[{y:1,p:[{s:"10Qx0010Qx0010Qx0010Qx10Rx0010Rx0010Rx10Tx0010T000"},{s:"10Qx0010Qx0010Qx0010Qx10Rx0010Rx0010Rx10Qx0010O000"}],s:[1,0]},{y:1,p:[],s:[-1,-1]},{y:2,p:[{s:"10Ax0010Ax0010Mx0010Ax10Mx0010Mx0010Ax10Mx10Ax10K000"},{s:"10Ax0010Ax0010Mx0010Ax10Mx0010Mx0010Ax10Kx10Ax10M000"}],s:[0,1]},{y:3,p:[{s:"00000000000000000000000000000000"},{s:"00000000000000000000000000000000"}],s:[0,1]},{y:6,p:[],s:[-1,-1]},{y:0,p:[],s:[]},{y:0,p:[],s:[]},{y:0,p:[],s:[]}]},{n:"Ending",a:"",i:"",b:115,l:32,s:4,g:[],h:16,o:0,e:[0,0,0,0],t:[{y:1,p:[{s:"10%0000010&10(10*0000010(10&10%0010&0010(010#000x010Y10X"},{s:"10Y0000010T10Y10&0x10%0x10Yx10#0000010Tx10T00000x0"},{s:"10Y0000010T10Y10&0x10%0x10Yx10(000x010(x10(000x000"},{s:"10*0000010+10-10/0000010-10+10*0x10+0x10-x10(000x010&10%"},{s:"10&000x010Y10&10+0010*0010&x10*0000010(10&10(00000x0"},{s:"10&0010Y0010&010+0010*0010&x10&00000000000x000"}],s:[0,1,0,2,3,4,3,5]},{y:1,p:[],s:[-1,-1,-1,-1,-1,-1,-1,-1]},{y:2,p:[{s:"10Mx10Mx10Mx10Mx10Fx10Fx10Fx10Fx10Mx10Mx10Mx10Mx10Hx10Hx10Hx10Hx"},{s:"10Mx10Mx10Mx10Mx10Mx10Mx10Mx10Mx10Hx10Hx10Hx10Hx10Ox10Ox10Ox10Ox"},{s:"10Mx10Mx10Mx10Mx10Fx10Fx10Fx10Fx10Hx10Hx10Hx10Hx10Hx10Hx10Hx10Hx"},{s:"10Fx10Fx10Fx10Fx10Kx10Kx10Kx10Kx10Fx10Fx10Fx10Fx10Ax10Ax10Ax10Ax"},{s:"10Fx10Fx10Fx10Fx10Kx10Kx10Kx10Kx10Mx10Mx10Mx10Mx10Mx10Mx10Mx10Mx"},{s:"10Fx10Fx10Fx10Fx10Ax10Ax10Ax10Ax10tx10tx10tx10tx10tx10tx10tx00"}],s:[0,1,0,2,3,4,3,5]},{y:3,p:[{s:"00000000000000000000000000000000"}],s:[0,-1,-1,-1,-1,-1,-1,-1]},{y:6,p:[{s:"00000000000000000000000000000000"}],s:[0,-1,-1,-1,-1,-1,-1,-1]},{y:0,p:[],s:[]},{y:0,p:[],s:[]},{y:0,p:[],s:[]}]}]},".atlas":{0:null,data:{_type:"spritesheets",spritesheets:{atlas:{_type:"spritesheet",_meta:{image:"0",defaultWidth:128,defaultHeight:78},bluefilter:{x:384,y:0,h:128},cliff:{x:256,y:128,w:240,h:160},ending:{x:384,y:448,h:128},forest1:{x:0,y:0,w:384,h:128},forest2:{x:0,y:448,w:256,h:128},forest3:{x:0,y:704,w:224,h:128},forest4:{x:224,y:704,w:224,h:128},forest5:{x:384,y:576,h:128},forest6:{x:0,y:128,w:256,h:160},lavacave1:{x:256,y:448,h:256},lavacave2:{x:0,y:288,w:240,h:160},lavacave3:{x:240,y:288,w:240,h:160},ship:{x:480,y:288,w:136},space:{x:448,y:704,h:128},wipe:{x:0,y:576,w:256,h:128}}}}},data:{mapdata:{"Home/main":{bgcolor:38,entities:{"15,13":{map:"Crash Site",x:1,y:9}}},"Home/bg.0":{atlas:[{sprite:"forest5",x:0,y:0}]},"Crash Site/main":{bgcolor:38,entities:{"0,9":{map:"Home",x:14,y:13},"31,14":{map:"Cliff"}},atlas:[{sprite:"ship",x:75,y:34}]},"Crash Site/bg.0":{atlas:[{sprite:"forest4",x:0,y:0}]},"Cliff/main":{bgcolor:38,entities:{"0,23":{map:"Crash Site",x:30,y:13},"56,7":{map:"Castle",x:2,y:58},"56,22":{map:"Level 1"}}},"Cliff/bg.0":{atlas:[{sprite:"cliff",x:0,y:0}]},"Test/main":{entities:{"1,14":{map:"Castle",x:20,y:3},"13,12":{sprite:16,item:"Dilithium Crystal"}}},"Level 1/main":{entities:{"15,3":{map:"Cliff",x:55,y:22},"12,121":{map:"Level 2"},"2,4":{sprite:6,weapon:"Sword"}}},"Level 1/bg.1":{atlas:[{sprite:"lavacave1",x:0,y:0}]},"Level 2/main":{entities:{"1,7":{contents:{key:1},sprite:7},"2,23":{map:"Level 1",x:12,y:121},"32,9":{map:"Level 3"},"35,4":{sprite:11,weapon:"Grenade Launcher"}}},"Level 2/bg.0":{atlas:[{sprite:"lavacave3",x:0,y:0}]},"Level 3/main":{entities:{"6,13":{map:"Level 2",x:32,y:9},"41,15":{sprite:12,item:"Double Jump Ring"},"50,1":{sprite:14,item:"Big Bolt"}}},"Level 4/main":{entities:{"45,33":{sprite:15,item:"Titanium Ore"},"0,33":{map:"Castle",x:38,y:58}}},"Level 4/bg.0":{atlas:[{sprite:"forest6",x:0,y:0}]},"Castle/main":{entities:{"1,58":{map:"Cliff",x:55,y:7},"7,23":{contents:{key:1},sprite:7},"38,58":{map:"Level 4",x:1,y:33},"20,3":{map:"Test"}}},"Ending/fg":{atlas:[{sprite:"ending",x:0,y:0}]}},npcs:{"Home/main":{"13,13":{sprite:133,dialog:[{pre_eval:"console.log('1');",text:"Hi Sarah!  A large metal object fell out of the sky to the east of here a few minutes ago, and we've decided that you're the one who gets to go and investigage.  You should go see if anyone needs help.",post_eval:"window.Flags.start = 1;"},{condition:"window.Flag('start') == 1",pre_eval:"console.log('2');",text:"Why you?  We voted.  If you wanted to vote, you should have been there.",post_eval:"window.Flags.start = 2"},{condition:"window.Flag('start') == 2",pre_eval:"console.log('3');",text:"Go on.  Go to the west and investigate, and try not to die!"}]}},"Crash Site/main":{"11,13":{sprite:129,dialog:[{text:"Someone sabotaged our ship and we crashlanded here on this strange planet.  We thought maybe it was Lime, so we tossed 'em out the airlock, but the stabotage continued.  Poor ${'Lime'}..."}]},"15,13":{sprite:130,dialog:[{text:"I caught Red sabotaging the navigation system just before we crashed."}]},"17,13":{sprite:131,dialog:[{text:"Maybe you can help us get off this planet...  We need a Big Bolt, Titanium Ore, and a Dilithium Crystal.",post_eval:"window.Flags.maguffins = 1;"},{condition:"window.Flag('maguffins') == 1",text:"We still need: ${Scripts.MaguffinList()}"},{condition:"window.Scripts.PlayerHasMaguffins()",text:"You've got all of the parts for our ship.  Thanks to you, we can get off this rock!",post_eval:"Scripts.Ending();"}]}},"Test/main":{"11,14":{sprite:129,dialog:[{condition:"true",pre_eval:"console.log('pre_eval');",text:"Someone sabotaged our ship and we crashlanded here on this strange planet.  We thought maybe it was Lime, so we tossed 'em out the airlock, but the stabotage continued.  Poor ${'Lime'}...",post_eval:"console.log('Hello, world!');"}]}},"Cliff/main":{"51,22":{sprite:134,dialog:[{text:"I've always wanted to explore that old castle up there, but it's just too high up.  If only I had some sort of magical item that would let me jump in midair!"},{text:"Wow, you have the double jump ring!  You can go explore that castle up there!",condition:"player.hasItem('Double Jump Ring')"}]}}},particles:{shortSpark:{duration:12,colors:{0:23,6:22,7:21,8:20,9:18,10:16}},spark:{duration:18,colors:{0:23,11:22,12:21,13:20,14:18,15:16}},shortSparkBlue:{duration:12,colors:{0:37,6:38,7:39,8:40,9:42,10:30}},sparkBlue:{duration:18,colors:{0:37,12:38,13:39,14:40,15:42,16:30}},blackSplat:{duration:18,colors:{0:0}}},tiletypes:{"tiles/cave/tiles":{0:["solid"],1:["solid"],2:["solid"],3:["lethal"],5:["exit"],6:["solid"],7:["solid"],8:["solid"],9:["solid"],12:["solid"],13:["solid"],14:["solid"],19:["lethal"],22:["solid"],32:["solid"],38:["solid"],45:["solid"],46:["solid"],47:["solid"],48:["solid"],49:["solid"],50:["solid"],61:["solid"],62:["solid"],63:["solid"],77:["solid"],78:["solid"],79:["solid"]},"tiles/outdoor/tiles":{9:["platform"],10:["platform"],16:["solid"],17:["solid"],18:["solid"],20:["platform"],21:["platform"],22:["platform"],25:["platform"],26:["platform"],28:["solid"],30:["solid"],32:["solid"],33:["solid"],34:["solid"],35:["solid"],36:["solid"],37:["solid"],38:["solid"],39:["solid"],41:["solid"]}},weapons:{"Grenade Launcher":[{power:8,anim_duration:15,sfx:"thud",knockback:{x:2,y:1},origin:{x:0,y:4},eval:"window.GrenadeProjectile.fire(player);"}],Dagger:[{power:1,anim_duration:15,sfx:"swoosh",knockback:{x:2,y:0},origin:{x:0,y:4},frames:{0:{sprite:0,bbox:{x1:0,y1:5,x2:2,y2:5}},3:{sprite:1,bbox:{x1:0,y1:5,x2:5,y2:5}},12:{sprite:0,bbox:{x1:0,y1:5,x2:2,y2:5}}}}],Sword:[{power:2,anim_duration:35,cancel:18,sfx:"swoosh",knockback:{x:1,y:0},origin:{x:0,y:8},frames:{0:{sprite:[2,2,2],bbox:{x1:0,y1:0,x2:7,y2:8}},3:{sprite:[4,2,2],bbox:{x1:0,y1:2,x2:10,y2:14}},6:{sprite:[6,2,2],bbox:{x1:0,y1:9,x2:9,y2:15}},9:{sprite:null,bbox:null}}},{power:2,anim_duration:35,sfx:"swoosh",knockback:{x:1.75,y:-1},cancel:12,origin:{x:0,y:8},frames:{0:{sprite:[8,2,2],bbox:{x1:0,y1:9,x2:9,y2:15}},2:{sprite:[10,2,2],bbox:{x1:0,y1:0,x2:10,y2:14}},10:{sprite:null,bbox:null}}},{power:2,anim_duration:35,sfx:"bigswoosh",knockback:{x:4,y:0},stopMove:!0,origin:{x:0,y:4},frames:{0:{sprite:12,bbox:{x1:0,y1:4,x2:3,y2:4},xm:1.8},3:{sprite:[13,2,1],bbox:{x1:0,y1:4,x2:10,y2:4}},10:{sprite:[29,2,1],bbox:{x1:0,y1:4,x2:10,y2:4}},15:{sprite:null,bbox:null}}}]}},sprites:{enemies:null,goodies:null,player_default:null,weapons:null},tiles:{entities:null,cave:{background:null,foreground:null,tiles:null},outdoor:{background:null,foreground:null,tiles:null}}},root:"assets/",img:["boxes.png","desert_bricks.png","palette.png","palette_rgb.png","red_bricks.png","rocks1.png","rocks2.png","rocks3.png","tilesheet.png","ui.png",".atlas/0.png","sprites/enemies.png","sprites/goodies.png","sprites/player_default.png","sprites/weapons.png","tiles/entities.png","tiles/cave/background.png","tiles/cave/foreground.png","tiles/cave/tiles.png","tiles/outdoor/background.png","tiles/outdoor/foreground.png","tiles/outdoor/tiles.png"],snd:[],settings:{name:"LavaRunner",version:"2.1.0",appid:"PIyEJtwCcug22DJV",screen:{fullscreen:!0,resizable:!0,keepAspectRatio:!1,width:128,height:128,pixelSize:{width:4,height:4}},tileSize:{width:8,height:8},palette:{name:"db16",file:"palette",colors:["#140c1c","#deeed6","#d2aa99","#346524","#4e4a4e","#757161","#8595a1","#6daa2c","#854c30","#d04648","#d27d2c","#dad45e","#442434","#30346d","#597dce","#6dc2ca"]},controls:{up:38,down:40,left:37,right:39,A:83,B:68,X:70,Y:65},touchEvent:{multiTouch:!1,disableContextMenu:!0,hideMousePointer:!1},gamepad:{analogToDpad:!0,deadZone:.5},loader:{colors:["#140C1C","#DEEED6"],custom:""}}},y=h.settings=r.settings,o=d("./assetLoader");function s(){n.resume(),document.body.removeEventListener("mousedown",s),document.body.removeEventListener("touchstart",s)}h.inherits=d("./inherits"),h.setFullScreen=function(){},n=null,i=window.AudioContext||window.webkitAudioContext,window.AudioContext=window.webkitAudioContext=function(){return n||(n=new i,document.body.addEventListener("mousedown",s),document.body.addEventListener("touchstart",s),n)};var a=d("audio-manager"),u=h.audioManager=new a(["sfx"]);u.settings.audioPath="audio/",u.settings.defaultFade=.3,u.init(),u.setVolume("sfx",1),h.sfx=function(t,e,n,i){u.playSound("sfx",t,e,n,i)},h.music=function(t,e,n,i){t?u.playLoopSound("sfx",t,e,0,0,n,i):u.stopLoopSound("sfx")};var f,c=h.btn={},l=h.btnp={},p=h.btnr={},_={},m=[],g=0;function v(){for(var t=0;t<g;t++)l[m[t]]=!1,p[m[t]]=!1}function b(t,e){var n=_[t];n&&(e&&!c[n]&&(l[n]=!0),!e&&c[n]&&(p[n]=!0),c[n]=e)}!function(){var t=y.controls||{up:38,down:40,left:37,right:39,A:32,B:88};for(var e in t)_[t[e]]=e,c[e]=!1,l[e]=!1,p[e]=!1,m.push(e);g=m.length}(),window.addEventListener("keydown",function(t){t.preventDefault(),t.repeat||b(t.keyCode,!0)}),window.addEventListener("keyup",function(t){t.preventDefault(),b(t.keyCode,!1)}),h.chr$=function(t){return String.fromCharCode(t)},h.clamp=function(t,e,n){return Math.max(e,Math.min(n,t))},h.random=function(t,e){return void 0===e?~~(t*Math.random()):~~(t+Math.random()*(e-t))};var x=d("./Texture"),w=d("./TileMap");f=d("./webGL"),d("./Texture/webGL"),d("./TileMap/webGL"),h.webGL=f,d("./Texture/textWebGL");var $=y.tileSize.width,j=y.tileSize.height;x.setTileSize($,j),w.setTileSize($,j),h.texture=function(t){var e=new x(t.width,t.height);return e.clear().draw(t,0,0),e},h.tilesheet=function(t){return x.prototype.setGlobalTilesheet(t)};var S=function(){var t=y.screen,u=t.width,c=t.height,l=t.pixelSize,e=h.$screen=new x(u,c);e.canvas=f.context.canvas;var n=e.canvas,i=n.style;if(document.body.appendChild(n),t.fullscreen)if(t.keepAspectRatio){var r=function(){var t=window.innerWidth,e=window.innerHeight,n=u*l.width,i=c*l.height,r=Math.min(t/n,e/i),o=n*r,s=i*r,a=h.$screen.canvas.style;a.width=o+"px",a.height=s+"px",a.left=(t-o)/2+"px",a.top=(e-s)/2+"px"};addEventListener("resize",r),r()}else i.width=i.height="100%";else i.width=u*l.width+"px",i.height=c*l.height+"px";return e}();h.cls=function(){return S.cls()},h.sprite=function(t,e,n,i,r,o){return S.sprite(t,e,n,i,r,o)},h.draw=function(t,e,n,i,r,o){return S.draw(t,e,n,i,r,o)},h.rect=function(t,e,n,i){return S.rect(t,e,n,i)},h.rectf=function(t,e,n,i){return S.rectf(t,e,n,i)},h.camera=function(t,e){return S.setCamera(t,e)},h.pen=function(t){return S.pen(t)},h.paper=function(t){return S.paper(t)},h.locate=function(t,e){return S.locate(t,e)},h.print=function(t,e,n){return S.print(t,e,n)},h.println=function(t){return S.println(t)},h.setCharset=function(t){return S.setCharset(t)},h.getMap=w.getMap,h.rectfill=h.rectf,S.canvas.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1/60)};window.frameId=0;var P=~~(y.screen.width/2),O=~~(y.screen.width/4),R=~~(y.screen.height/2);var T=["#000","#FFF"],M=y.loader&&y.loader.colors||y.loaderColors||T;Array.isArray(M)||(M=T);var E=d("./Color");S.setPalette([(new E).fromString(M[0]),(new E).fromString(M[1])]),S.paper(0).cls().paper(1).pen(1).rect(P-O-2,R-4,2*O+4,8),f.commit(),o.preloadStaticAssets(r,function(t,p){if(S.paper(0).pen(1).cls(),t)return console.error(t),void print(t);for(var e in h.assets=p,h)window[e]=h[e];var n=h.bleeper=d("./bleeper");window.bleeper=n,p.bleeper&&n.loadProgram(p.bleeper);var i=h.patatracker=d("./pataTracker");window.patatracker=i,p.patatracker&&i.loadData(p.patatracker),d("./spritesheet").unpackSpritesheets(),function(){var t=d("./Color"),e=y.palette;if(e.file){for(var n=e.file.split("/"),i=p;i&&n.length;)i=i[n.shift()];if(!i)return;var r=i.width,o=i.height,s=i.x||0,a=i.y||0;i._isSprite&&(i=i.img);var u=d("./domUtils/createCanvas")(r,o).getContext("2d");u.drawImage(i,s,a,r,o,0,0,r,o);for(var c=u.getImageData(0,0,r,o).data,l=[],h=0;h<c.length;h+=4)c[h+3]<=1||l.push((new t).fromPixel(c,h));S.setPalette(l)}else{var f;for(f=e.colors?e.colors:e,l=[],h=0;h<f.length;h++)l.push((new t).fromString(f[h]));S.setPalette(l)}}(),p.tilesheet&&h.tilesheet(p.tilesheet),w.loadBank(p.maps),p.slicesConfig&&d("./NineSlice/init")(p.slicesConfig);var r=d("./gamepad"),o=y.gamepad||{};o.analogToDpad&&r.mapAnalogStickToDpad(o.deadZone);var s=d("../../src/main.js");s.update?(f.batcher.flush(),v(),function t(){window.frameId+=1,r.update(),s.update(),v(),f.commit(),k(t)}()):function t(){f.commit(),k(t)}()},function(t,e,n,i){S.rect(P-O-2,R-4,2*O+4,8).rectf(P-O,R-2,~~(i*O*2),4),f.commit()})},{".":331,"../../src/main.js":374,"./Color":318,"./NineSlice/init":320,"./Texture":321,"./Texture/textWebGL":323,"./Texture/webGL":324,"./TileMap":325,"./TileMap/webGL":326,"./assetLoader":327,"./bleeper":328,"./domUtils/createCanvas":329,"./gamepad":330,"./inherits":332,"./pataTracker":333,"./spritesheet":335,"./webGL":340,"audio-manager":312}]},{},[378,306]);